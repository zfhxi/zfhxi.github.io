<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="Compositeæ¨¡å¼å®ç°åŠä¸Iteratoræ¨¡å¼ç»“åˆ">
    <meta property="og:type" content="blog">
  <title>Compositeæ¨¡å¼å®ç°åŠä¸Iteratoræ¨¡å¼ç»“åˆ</title>
  <!-- Favicon -->
    <link rel="shortcut icon" href="ğŸ¡">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism-solarizedlight.min.css">
  <link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <script src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='https://unpkg.com/valine/dist/Valine.min.js'></script>
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index.html">
      <div class="Navbar__Btn"><span>ğŸ¡</span> <span>Home</span></div>
    </a>
                                                                                                                                                                                                                    <span class="Navbar__Delim">&centerdot;</span>
    <a href="about.html">
      <div class="Navbar__Btn"><span>ğŸ‘¦ğŸ»</span> <span>About</span></div>
    </a>
                <span class="Navbar__Delim">&centerdot;</span>
    <a href="links.html">
      <div class="Navbar__Btn"><span>ğŸ”—</span> <span>Links</span></div>
    </a>
                          </nav>
  <header class="Header">
        <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    <div>
            <span class="Header__Title">Compositeæ¨¡å¼å®ç°åŠä¸Iteratoræ¨¡å¼ç»“åˆ</span>

    </div>
        <div class="DateTagBar">
            <span class="DateTagBar__Item DateTagBar__Date">Posted on Mon, May 18, 2020</span>
                  <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--default">
        <a href="tag/DesignPattern.html">DesignPattern</a>
      </span>
            <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--orange">
        <a href="tag/Java.html">Java</a>
      </span>
          </div>
      </header>
  <article id="https://www.notion.so/d3775fde43874d0aa62f934af4ff2556" class="PageRoot"><ul id="https://www.notion.so/4454a443cf8a4628835a5a6d22ec2b13" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/7e069d0f1a72462f916d3cb89f959de3"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">å®ç°</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/dd2859ea0e104bd8a49f2d133c10782e"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">å…³æ³¨çš„é—®é¢˜</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/cfacd117b9c54886a303ef3abfaa9fc7"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">å®ä¾‹</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b79333cf738244f0aaf23414e17ee732"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">ä¸Iteratorçš„ç»“åˆ</span></span></div></a></li></ul><h1 id="https://www.notion.so/7e069d0f1a72462f916d3cb89f959de3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/7e069d0f1a72462f916d3cb89f959de3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å®ç°</span></span></h1><div id="https://www.notion.so/2b78cb05129c4e2b8a940e809569f53f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åŸºäºå‰æ–‡Compositeæ¨¡å¼ï¼Œå®ç°ç®€å•Demo</span></span></p></div><h2 id="https://www.notion.so/dd2859ea0e104bd8a49f2d133c10782e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/dd2859ea0e104bd8a49f2d133c10782e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å…³æ³¨çš„é—®é¢˜</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/e84ebef7f0e74283a2309aa961f0b17a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ä¿æŒä»å­éƒ¨ä»¶åˆ°çˆ¶éƒ¨ä»¶çš„å¼•ç”¨èƒ½ç®€åŒ–ç»„åˆç»“æ„çš„éå†å’Œç®¡ç†</strong></span><span class="SemanticString">ã€‚çˆ¶éƒ¨ä»¶å¼•ç”¨å¯ä»¥ç®€åŒ–ç»“æ„çš„ä¸Šç§»å’Œç»„ä»¶çš„åˆ é™¤ã€‚é€šå¸¸åœ¨Componentç±»ä¸­å®šä¹‰çˆ¶éƒ¨ä»¶å¼•ç”¨ã€‚Leafå’ŒCompositeç±»å¯ä»¥ç»§æ‰¿è¿™ä¸ªå¼•ç”¨ä»¥åŠç®¡ç†è¿™ä¸ªå¼•ç”¨çš„é‚£äº›æ“ä½œã€‚</span></span></li><li id="https://www.notion.so/6ea55261200a4e9b85c077b3420c2729" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Composteæ¨¡å¼çš„ç›®çš„ä¹‹ä¸€æ˜¯</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ä½¿å¾—ç”¨æˆ·ä¸çŸ¥é“ä»–ä»¬æ­£åœ¨ä½¿ç”¨çš„å…·ä½“çš„Leafå’ŒCompositeç±»</strong></span><span class="SemanticString">ã€‚å› æ­¤ï¼ŒComponentç±»åº”ä¸ºLeafå’ŒCompositeç±»å°½å¯èƒ½å¤šå®šä¹‰ä¸€äº›å…¬å…±æ“ä½œã€‚Componentç±»é€šå¸¸ä¸ºè¿™äº›æ“ä½œæä¾›ç¼ºçœçš„å®ç°ï¼Œè€ŒLeafå’ŒCompositeå­ç±»å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œé‡å®šä¹‰ã€‚</span></span></li><li id="https://www.notion.so/4ac97c10d1e24f3d886a37e7c7834b1e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">å£°æ˜ç®¡ç†å­éƒ¨ä»¶çš„æ“ä½œ</strong></span><span class="SemanticString">ã€‚è™½ç„¶C ompositeç±»å®ç°äº†Addå’ŒRemoveæ“ä½œç”¨äºç®¡ç†å­éƒ¨ä»¶ï¼Œä½†åœ¨Compositeæ¨¡å¼ä¸­ä¸€ä¸ªé‡è¦çš„é—®é¢˜æ˜¯ï¼šåœ¨ Compositeç±»å±‚æ¬¡ç»“æ„ä¸­å“ªä¸€äº›ç±»å£°æ˜è¿™äº›æ“ä½œã€‚æ˜¯åº”è¯¥åœ¨Componentä¸­å£°æ˜è¿™äº›æ“ä½œï¼Œå¹¶ä½¿è¿™äº›æ“ä½œå¯¹ Leafç±»æœ‰æ„ä¹‰å‘¢ï¼Œè¿˜æ˜¯åªåº”è¯¥åœ¨Compositeå’Œå®ƒçš„å­ç±»ä¸­å£°æ˜å¹¶å®šä¹‰è¿™äº›æ“ä½œå‘¢ï¼Ÿ</span></span></li><li id="https://www.notion.so/350ef2b8676a40028709f96a381ac7ad" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">å­˜è´®ç»„ä»¶æœ€å¥½ç”¨å“ªä¸€ç§æ•°æ®ç»“æ„ï¼Ÿ</strong></span><span class="SemanticString"> Compositeå¯ä½¿ç”¨å¤šç§æ•°æ®ç»“æ„å­˜è´®å®ƒä»¬çš„å­èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬è¿æ¥åˆ—è¡¨ã€æ ‘ã€æ•°ç»„å’Œhashè¡¨ã€‚æ•°æ®ç»“æ„çš„é€‰æ‹©å–å†³äºæ•ˆç‡ã€‚</span></span></li><li id="https://www.notion.so/5424bd97cfb34812a4d79a3d0977f090" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">é€æ˜ç»„åˆæ¨¡å¼ å’Œ å®‰å…¨ç»„åˆæ¨¡å¼ éƒ½æœ‰å„è‡ªçš„ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œåº”è¯¥ä¼˜å…ˆé€‰æ‹©å“ªä¸€ç§å‘¢ï¼Ÿ</strong></span><span class="SemanticString">é€æ˜ç»„åˆæ¨¡å¼ å°†å…¬å…±æ¥å£å°è£…åˆ°æŠ½è±¡æ ¹èŠ‚ç‚¹ï¼ˆComponentï¼‰ä¸­ï¼Œé‚£ä¹ˆç³»ç»Ÿæ‰€æœ‰èŠ‚ç‚¹å°±å…·å¤‡ä¸€è‡´è¡Œä¸ºï¼Œæ‰€ä»¥å¦‚æœå½“ç³»ç»Ÿç»å¤§å¤šæ•°å±‚æ¬¡å…·å¤‡ç›¸åŒçš„å…¬å…±è¡Œä¸ºæ—¶ï¼Œé‡‡ç”¨ é€æ˜ç»„åˆæ¨¡å¼ ä¹Ÿè®¸ä¼šæ›´å¥½ï¼ˆä»£ä»·ï¼šä¸ºå‰©ä¸‹å°‘æ•°å±‚æ¬¡èŠ‚ç‚¹å¼•å…¥ä¸éœ€è¦çš„æ–¹æ³•ï¼‰ï¼›è€Œå¦‚æœå½“ç³»ç»Ÿå„ä¸ªå±‚æ¬¡å·®å¼‚æ€§è¡Œä¸ºè¾ƒå¤šæˆ–è€…æ ‘èŠ‚ç‚¹å±‚æ¬¡ç›¸å¯¹ç¨³å®šï¼ˆå¥å£®ï¼‰æ—¶ï¼Œé‡‡ç”¨å®‰å…¨ç»„åˆæ¨¡å¼</span></span></li></ul><h2 id="https://www.notion.so/cfacd117b9c54886a303ef3abfaa9fc7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/cfacd117b9c54886a303ef3abfaa9fc7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å®ä¾‹</span></span></h2><div id="https://www.notion.so/d5f269a7df8f405f93cb8da04acdfa25" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">åœºæ™¯</strong></span></span></p></div><div id="https://www.notion.so/4bd8d1ec51604a49994d522bc5675fa8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é’ˆå¯¹ä¸Šä¸€æ–‡ä¸­çš„iteratoræ¨¡å¼çš„é¤é¦†åˆå¹¶å®ä¾‹ï¼Œæˆ‘ä»¬æå‡ºæ–°çš„éœ€æ±‚ï¼š</span></span></p></div><div id="https://www.notion.so/dde1f5846f1b4938aaea803fd5f9cfa8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç»™æ­£é¤èœå•å¢åŠ â€œç”œç‚¹â€å­èœå•ã€‚å¦‚å›¾ï¼Œè®©ç”œç‚¹èœå•å˜æˆæ­£é¤èœå•ä¸­çš„ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬æƒ³è¦çš„ç±»ä¼¼ä¸‹å›¾ã€‚ä½†å¾ˆæ˜æ˜¾ï¼Œiteratoræ¨¡å¼çš„è®¾è®¡æ— æ³•æ»¡è¶³ï¼š</span></span></p></div><div id="https://www.notion.so/8d371867a5ed47d997c366449657e2c5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/2ea000aded634d24ad9472aa030db9be" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Faffadde8-23b4-44e3-b5cf-012f385172c9%2FUntitled.png?width=576&amp;table=block&amp;id=2ea000ad-ed63-4d24-ad94-72aa030db9be"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Faffadde8-23b4-44e3-b5cf-012f385172c9%2FUntitled.png?width=576&amp;table=block&amp;id=2ea000ad-ed63-4d24-ad94-72aa030db9be" style="width:576px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/891a7ccd242c4534b53dc73494aae3cc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬éœ€è¦æŸç§æ ‘çŠ¶ç»“æ„æ¥å®¹çº³åµŒå¥—èœå•å’Œèœå•é¡¹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ”¹ç”¨Compositeæ¨¡å¼æ¥è¿›è¡Œè®¾è®¡ã€‚</span></span></p></div><div id="https://www.notion.so/d810fd5d3953472a95d6d74e2b5aa609" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ä»£ç </strong></span></span></p></div><div id="https://www.notion.so/956ba05fd72d4d248c8c69814fd710da" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9cc27627-3278-4ab9-b0cb-f94643ec7d60%2FMain2TestComposite.jpg?width=480&amp;table=block&amp;id=956ba05f-d72d-4d24-8c8c-69814fd710da"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9cc27627-3278-4ab9-b0cb-f94643ec7d60%2FMain2TestComposite.jpg?width=480&amp;table=block&amp;id=956ba05f-d72d-4d24-8c8c-69814fd710da" style="width:480px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/4b65e5d5267f475eb458785a58d8704c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ ¹æ®å‰é¢çš„æ¨¡å¼ç»“æ„ï¼Œå¹¶ç»“åˆä¸Šå›¾:</span></span></p></div><div id="https://www.notion.so/269999b8f6a049dbac3c1b3f85c4489a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é¦–å…ˆè®¾è®¡</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">MenuComponent</code></span><span class="SemanticString">æŠ½è±¡æ„ä»¶ç±»ï¼Œé‡Œé¢å®šä¹‰ç»„åˆèœå•å’Œèœå•é¡¹çš„å…±æœ‰æ–¹æ³•</span></span></p></div><pre id="https://www.notion.so/eea36ed0e31d4ed8b05cf7d16f526ef4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>package CompositeUtils;

/**
 * ComponentæŠ½è±¡ç±» ä¸ºç»„åˆä¸­çš„æ‰€æœ‰å¯¹è±¡å®šä¹‰ä¸€ä¸ªæ¥å£ ç»„åˆèœå•ï¼ˆCompositeMenuï¼‰å’Œå¶å­èœå•é¡¹ï¼ˆMenuItemï¼‰ç»§æ‰¿å®ƒ
 */
public abstract class MenuComponent {
  // =======èœå•ï¼ˆç»„åˆèŠ‚ç‚¹ï¼‰çš„æ–¹æ³•=======
  /**
   * å¢åŠ èœå•é¡¹
   */
  public void add(MenuComponent component) {
    throw new UnsupportedOperationException();
  }

  /**
   * åˆ é™¤æŒ‡å®šèœå•é¡¹
   */
  public void remove(MenuComponent component) {
    throw new UnsupportedOperationException();
  }

  /**
   * è·å–æŒ‡å®šä¸‹æ ‡çš„èœå•é¡¹
   */
  public MenuComponent get(int i) {
    throw new UnsupportedOperationException();
  }

  // =======èœå•é¡¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰çš„æ–¹æ³•=======
  /**
   * è·å–èœå•é¡¹çš„åç§°
   */
  public String getName() {
    throw new UnsupportedOperationException();
  }

  /**
   * è·å–èœå•é¡¹çš„ä»·æ ¼
   */
  public double getPrice() {
    throw new UnsupportedOperationException();
  }

  /**
   * æ‰“å°å‡ºèœå•ä¸­çš„æ‰€æœ‰èœå•é¡¹çš„ä¿¡æ¯ï¼Œæˆ–è€…å•ä¸ªèœå•é¡¹çš„ä¿¡æ¯ èœå•å’Œèœå•é¡¹éƒ½è¦ç”¨åˆ°çš„æ–¹æ³•
   */
  public void print() {

  }
}

/**
 * åŒæ—¶å°†èœå•é¡¹å’Œèœå•çš„æ–¹æ³•å®šä¹‰äº†å‡ºæ¥ï¼Œç»§æ‰¿æ—¶ï¼Œèœå•é¡¹å’Œèœå•åªéœ€è¦è¦†ç›–å„è‡ªçš„å®ç°å³å¯ã€‚
 * è¿™è™½ç„¶è¿èƒŒäº†â€œå•ä¸€è´£ä»»â€è®¾è®¡åŸåˆ™ï¼Œä½†åœ¨å…·ä½“åœºæ™¯ä¸‹ï¼Œä¸ºäº†éœ€æ±‚å’Œè®¾è®¡ï¼Œéœ€è¦é‡‡ç”¨æŠ˜ä¸­çš„æ–¹å¼ã€‚
 */</span></span></span></code></pre><div id="https://www.notion.so/6f0ef4aa696441a3bd55155e0dc87495" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åè®¾è®¡</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">CompositeMenu</code></span><span class="SemanticString">å’Œ</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">MenuItem</code></span><span class="SemanticString">æ¥ç»§æ‰¿</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">MenuComponent</code></span><span class="SemanticString">æŠ½è±¡ç±»ï¼Œè¿™é‡Œé€‰ç”¨é€æ˜å¼ç»„åˆæ–¹å¼ï¼Œå³ï¼Œæˆ‘ä»¬ä»…åœ¨æ ‘æç»“æ„ä¸­å®ç°ç®¡ç†å­èŠ‚ç‚¹çš„ç›¸å…³æ–¹æ³•ã€‚</span></span></p></div><pre id="https://www.notion.so/994e18c05ba84e548771ae8a44b2afb4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>package CompositeUtils;

import java.util.ArrayList;
import java.util.List;

public class CompositeMenu extends MenuComponent {
  List&lt;MenuComponent&gt; menuComponents = new ArrayList&lt;&gt;();
  String name;
  String description;

  public CompositeMenu() {
  }

  public CompositeMenu(String name, String description) {
    this.name = name;
    this.description = description;
  }

  @Override
  public void add(MenuComponent component) {
    menuComponents.add(component);
  }

  @Override
  public void remove(MenuComponent component) {
    menuComponents.remove(component);
  }

  @Override
  public MenuComponent get(int i) {
    return menuComponents.get(i);
  }

  @Override
  public void print() {
    System.out.println(&quot;èœå•åç§°ï¼š&quot; + getName() + &quot;(&quot; + getDescription() + &quot;)&quot;);
    for (MenuComponent menuComponent : menuComponents) {
      menuComponent.print();
    }
  }

  @Override
  public String getName() {
    return this.name;
  }

  public String getDescription() {
    return description;
  }
}</span></span></span></code></pre><pre id="https://www.notion.so/49512a1fee8d48d29dc4c813381e7c57" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>package CompositeUtils;

public class MenuItem extends MenuComponent {
  String name;
  double price;

  public MenuItem() {
  }

  public MenuItem(String name, double price) {
    this.name = name;
    this.price = price;
  }

  @Override
  public String getName() {
    return name;
  }

  @Override
  public double getPrice() {
    return price;
  }

  @Override
  public void print() {
    System.out.println(name + &quot;:&quot; + price);
  }

  public void setName(String name) {
    this.name = name;
  }

  public void setPrice(double price) {
    this.price = price;
  }
}</span></span></span></code></pre><div id="https://www.notion.so/9243b179df8a4b4cb9269e95b31a94e5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æœ€åå®šä¹‰æœåŠ¡å‘˜ç±»</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Waitress</code></span><span class="SemanticString">ç±»ï¼Œå¹¶åœ¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">main</code></span><span class="SemanticString">ä¸­è°ƒç”¨æ‰§è¡Œ</span></span></p></div><pre id="https://www.notion.so/d4d1c42535d04050b2a4be193ea48275" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>package CompositeUtils;

public class Waitress {
  MenuComponent allMenus;

  public Waitress(MenuComponent allMenus) {
    this.allMenus = allMenus;
  }

  /**
   * æ‰“å°å‡ºèœå•
   */
  public void printMenu() {
    allMenus.print();
  }
}</span></span></span></code></pre><pre id="https://www.notion.so/06209f48d7704e8b86ec4b05d2377564" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>import CompositeUtils.MenuComponent;
import CompositeUtils.MenuItem;
import CompositeUtils.Waitress;
import CompositeUtils.CompositeMenu;

public class Main2TestComposite {
  public static void main(String[]args) {
      //å»ºé€ çƒ§é¥¼èœå•
        MenuComponent pancakeMenu = new CompositeMenu(&quot;æ—©é¤&quot;,&quot;åŸçƒ§é¥¼åº—èœå•&quot;);
        pancakeMenu.add(new MenuItem(&quot;è‘±èŠ±é¥¼&quot;, 3.5));
        pancakeMenu.add(new MenuItem(&quot;ç‰›è‚‰é¥¼&quot;, 6));
        pancakeMenu.add(new MenuItem(&quot;çŒªè‚‰é¥¼&quot;, 5));
        pancakeMenu.add(new MenuItem(&quot;éŸ­èœé¥¼&quot;, 2.5));
        //å»ºé€ æ­£é¤èœå•å­èœå•-ç”œç‚¹èœå•
        MenuComponent dessertMenu = new CompositeMenu(&quot;ç”œç‚¹&quot;,&quot;æ­£é¤å­èœå•&quot;);
        dessertMenu.add(new MenuItem(&quot;èŠ’æœç‰›å¥¶å†°&quot;, 8));
        dessertMenu.add(new MenuItem(&quot;çç æœè±†èŠ±&quot;, 6));
        dessertMenu.add(new MenuItem(&quot;æ¦´è²è›‹é»„&quot;, 8));
        //å»ºé€ æ­£é¤èœå•
        MenuComponent dinnerMenu = new CompositeMenu(&quot;æ­£é¤&quot;,&quot;åŸé¥­åº—èœå•&quot;);
        dinnerMenu.add(new MenuItem(&quot;é’æ¤’è‚‰ä¸ç‚’é¥­&quot;, 12));
        dinnerMenu.add(new MenuItem(&quot;ç•ªèŒ„é¸¡è›‹ç‚’é¥­&quot;, 10));
        dinnerMenu.add(new MenuItem(&quot;é±¼é¦™èŒ„å­ç‚’é¥­&quot;, 11));
        dinnerMenu.add(new MenuItem(&quot;åœŸè±†çƒ§é¸¡ç‚’é¥­&quot;, 12.5));
        dinnerMenu.add(dessertMenu);
        //å»ºé€ ä¸»èœå•
        MenuComponent totalMenu = new CompositeMenu(&quot;èœå•&quot;, &quot;æ€»èœå•&quot;);
        totalMenu.add(pancakeMenu);
        totalMenu.add(dinnerMenu);
        //æœåŠ¡å‘˜æ‰“å°èœå•
        Waitress waitress = new Waitress(totalMenu);
        System.out.println(&quot;\ncompositeæ¨¡å¼ï¼š\n&quot;);
        waitress.printMenu();//é€’å½’è°ƒç”¨èœå•é¡¹å’Œèœå•å†…éƒ¨çš„printï¼Œæ˜¯å†…éƒ¨è¿­ä»£
  }
}</span></span></span></code></pre><div id="https://www.notion.so/26967ea1b18848ad94a9488ddc0f7110" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿è¡Œç»“æœ</span></span></p></div><pre id="https://www.notion.so/b5f399c386f94f64a47d947ee53b63ca" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>compositeæ¨¡å¼ï¼š

èœå•åç§°ï¼šèœå•(æ€»èœå•)
èœå•åç§°ï¼šæ—©é¤(åŸçƒ§é¥¼åº—èœå•)
è‘±èŠ±é¥¼:3.5
ç‰›è‚‰é¥¼:6.0
çŒªè‚‰é¥¼:5.0
éŸ­èœé¥¼:2.5
èœå•åç§°ï¼šæ­£é¤(åŸé¥­åº—èœå•)
é’æ¤’è‚‰ä¸ç‚’é¥­:12.0
ç•ªèŒ„é¸¡è›‹ç‚’é¥­:10.0
é±¼é¦™èŒ„å­ç‚’é¥­:11.0
åœŸè±†çƒ§é¸¡ç‚’é¥­:12.5
èœå•åç§°ï¼šç”œç‚¹(æ­£é¤å­èœå•)
èŠ’æœç‰›å¥¶å†°:8.0
çç æœè±†èŠ±:6.0
æ¦´è²è›‹é»„:8.0</span></span></span></code></pre><h1 id="https://www.notion.so/b79333cf738244f0aaf23414e17ee732" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/b79333cf738244f0aaf23414e17ee732"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä¸Iteratorçš„ç»“åˆ</span></span></h1><div id="https://www.notion.so/6806eee8fc0943d1aed0ca6859a905db" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åœ¨æ–°éœ€æ±‚ä¸‹ï¼Œæˆ‘ä»¬æ”¹ç”¨äº†Compositeæ¨¡å¼ï¼Œç„¶è€Œé—®é¢˜æ¥äº†ï¼š</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/e9c5da67768740ff9efcb790c9531f0f" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">iteratoræ¨¡å¼çš„å¥½å¤„å°±çƒŸæ¶ˆäº‘æ•£äº†ï¼Œå› ä¸ºåœ¨æœ¬ä¾‹ä¸­ï¼ŒCompositeæ¨¡å¼ä¸‹å¯¹èœå•çš„å­˜å‚¨æ˜¯é€šè¿‡</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">ArrayList</code></span><span class="SemanticString">è¿™ä¸€æ•°æ®ç»“æ„è¿›è¡Œçš„ã€‚</span></span></li><li id="https://www.notion.so/5c416a3ad9e34a3a8bb577ac0cbe9f90" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">å¹¶ä¸”ï¼Œä¾‹å­ä¸­ä½¿ç”¨çš„è¿­ä»£éƒ½æ˜¯é€’å½’è°ƒç”¨çš„èœå•é¡¹å’Œèœå•å†…éƒ¨è¿­ä»£çš„æ–¹å¼ï¼Œå±äºå†…éƒ¨è¿­ä»£ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å¤–éƒ¨è¿­ä»£è¯¥æ€ä¹ˆåŠï¼Ÿ</span></span></li></ol><div id="https://www.notion.so/b649f404970b4b63b5987b34099f8fc7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é¦–å…ˆæˆ‘ä»¬æ¥è§£å†³é—®é¢˜2ï¼š</span></span></p></div><div id="https://www.notion.so/a607677425a048e58ee5abdeaf10e70b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åŠ å…¥æœ‰æ–°éœ€æ±‚ï¼šä¸€ä½é¡¾å®¢åªæƒ³çœ‹åªå«æœ‰è”¬èœæ€§è´¨çš„èœå•ã€‚å¦‚ä½•å®ç°ï¼Ÿ</span></span></p></div><div id="https://www.notion.so/b3e4bd0cab1542038d623bdaff40ce0d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/430a94d2f68b4c5abbe1ec0fe71a65bf" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fac2f71db-03df-44f8-9f2f-dbd4d66065fe%2FMain2TestCombine.jpg?width=661&amp;table=block&amp;id=430a94d2-f68b-4c5a-bbe1-ec0fe71a65bf"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fac2f71db-03df-44f8-9f2f-dbd4d66065fe%2FMain2TestCombine.jpg?width=661&amp;table=block&amp;id=430a94d2-f68b-4c5a-bbe1-ec0fe71a65bf" style="width:661px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/395082a4a5264693be9581f4fe24387d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">step1</strong></span><span class="SemanticString">: ç”±äº</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">MenuComponent</code></span><span class="SemanticString">æŠ½è±¡ç±»ä¸­å®šä¹‰äº†æ‰€æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç°åœ¨è¯¥ç±»ä¸­æ·»åŠ åˆ¤æ–­é£Ÿå“çš„æ–¹æ³•ï¼Œç„¶åå†åœ¨å¶èŠ‚ç‚¹å’Œæ ‘æèŠ‚ç‚¹ä¸­è¿›è¡Œé‡å†™</span></span></p></div><pre id="https://www.notion.so/3a2e91dcd789414893d5753626c8549c" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public abstract class MenuComponent {
  // =======èœå•é¡¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰çš„å¢åŠ æ–¹æ³•=======
  /**
   * åˆ¤æ–­æ˜¯å¦ä¸ºè”¬èœç±»é£Ÿå“
   */
  public boolean isVegetable() {
    throw new UnsupportedOperationException();
  }
}</span></span></span></code></pre><div id="https://www.notion.so/110dd78120744e6a8a0b3bd3e54b4bf7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">step2-3</strong></span><span class="SemanticString">: åœ¨èœå•é¡¹</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">MenuItem</code></span><span class="SemanticString">ä¸­é‡å†™ç›¸å…³æ–¹æ³•ï¼Œæ³¨æ„ï¼Œå¯èƒ½è¿˜éœ€è¦å®šä¹‰æ–°çš„å˜é‡å’Œæ„é€ å‡½æ•°</span></span></p></div><pre id="https://www.notion.so/30c0dd517cd34d72ab0730fc6f6465b4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class MenuItem extends MenuComponent {

  // æ–°å¢è”¬èœç±»é£Ÿå“æ ‡å¿—
  boolean isVegetable;

  public MenuItem(String name, double price) {
    this.name = name;
    this.price = price;
    // ä¿®æ”¹æ„é€ å‡½æ•°
    this.isVegetable = false;
  }

  // æ–°å¢æ„é€ å‡½æ•°
  public MenuItem(String name, double price, boolean isVegetable) {
    this.name = name;
    this.price = price;
    this.isVegetable = isVegetable;
  }

  // =======èœå•é¡¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰çš„å¢åŠ æ–¹æ³•=======
  /**
   * é‡å†™æŠ½è±¡ç±»çš„æ–¹æ³•
   */
  @Override
  public boolean isVegetable() {
    return isVegetable;
  }

  public void setVegetable(boolean isVegetable) {
    this.isVegetable = isVegetable;
  }</span></span></span></code></pre><div id="https://www.notion.so/30d6839567034186ac9ac0bf2be9d232" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">step4</strong></span><span class="SemanticString">: ç„¶åä¸ºäº†è¿­ä»£ç»„åˆä¸­çš„æ¯ä¸ªå¯¹è±¡ï¼Œæ¥è°ƒç”¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">isVegetable()</code></span><span class="SemanticString">ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ä¸ªæ–°çš„ç»„åˆèœå•è¿­ä»£å™¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">CompositeIterator</code></span><span class="SemanticString">ã€‚æ³¨æ„ï¼Œè¿™ä¸ªè¿­ä»£å™¨ä¸­ä½¿ç”¨äº†é€’å½’çš„ç®—æ³•ï¼Œå¯ä»¥é€’å½’çš„è¿­ä»£æ ‘æèŠ‚ç‚¹ã€‚</span></span></p></div><pre id="https://www.notion.so/bd64718646c342a2b82e906960c07eae" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>package CompostiteWithItrUtils;

import java.util.ArrayDeque;
import java.util.Deque;

import ItrUtils.MyIterator;

/**
 * ç»„åˆèœå•è¿­ä»£å™¨
 * 4.ä½¿ç”¨é€’å½’åˆ›å»ºç»„åˆèœå•çš„è¿­ä»£å™¨
 */
public class CompositeIterator implements MyIterator&lt;MenuComponent&gt; {
  /** è¿­ä»£å™¨æ ˆï¼Œå­˜å‚¨æœ€è¿‘ä¸€æ¬¡è¿­ä»£çš„èœå•çš„è¿­ä»£å™¨ */
  Deque&lt;MyIterator&lt;MenuComponent&gt;&gt; stack = new ArrayDeque&lt;MyIterator&lt;MenuComponent&gt;&gt;();

  public CompositeIterator() {
  }

  public CompositeIterator(MyIterator&lt;MenuComponent&gt; myIterator) {
    // åˆå§‹åŒ–æ—¶ä¸­å°†ç»„åˆèœå•çš„æ€»è¿­ä»£å™¨ï¼ˆå³List&lt;MenuComponent&gt;çš„è¿­ä»£å™¨ï¼‰æ”¾å…¥æ ˆ
    stack.push(myIterator);
  }

  @Override
  public boolean hasNext() {
    if (stack.isEmpty())
      return false;
    // è¿”å›æ ˆé¡¶çš„è¿­ä»£å™¨
    MyIterator&lt;MenuComponent&gt; myIterator = stack.peek();
    // å¦‚æœè¯¥è¿­ä»£å™¨ä»æœ‰å…ƒç´ å¯è¿­ä»£ï¼Œè¿”å›true
    if (myIterator.hasNext()) {
      return true;
    }
    // å¦‚æœè¿­ä»£å™¨å…ƒç´ éƒ½å·²è¿­ä»£å®Œï¼Œå¼¹å‡ºæ ˆï¼Œé€’å½’åˆ¤æ–­æ ˆä¸­ä¸‹ä¸€ä¸ªè¿­ä»£å™¨
    else {
      stack.pop();
      return hasNext();
    }
  }

  @Override
  public MenuComponent next() {
    // å¦‚æœæ²¡æœ‰å…ƒç´ å¯è¿­ä»£ï¼Œç›´æ¥è¿”å›null
    if (!hasNext())
      return null;
    // æœ‰å…ƒç´ å¯è¿­ä»£æ—¶ï¼Œè¿”å›æ ˆé¡¶è¿­ä»£å™¨
    MyIterator&lt;MenuComponent&gt; iterator = stack.peek();
    // å–å‡ºè¿­ä»£å™¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
    MenuComponent component = iterator.next();
    // å¦‚æœè¯¥å…ƒç´ ä¸ºèœå•ï¼Œå°†å­èœå•çš„è¿­ä»£å™¨æ”¾å…¥æ ˆä¸­ã€‚è¿™æ ·ä¸‹ä¸€æ¬¡æ‰§è¡Œnext()æ–¹æ³•ï¼Œåˆ™è¿­ä»£è¯¥å­èœå•äº†
    if (component instanceof CompositeMenu) {
      stack.push(component.createIterator());
    }

    return component;
  }
}</span></span></span></code></pre><div id="https://www.notion.so/a1f5b84ee79641c3a43f8af4218f507d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">step5-8</strong></span><span class="SemanticString">: æ¥ç€åœ¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">MenuComponent</code></span><span class="SemanticString">æŠ½è±¡ç±»ä¸­æ·»åŠ åˆ›å»ºè¿­ä»£å™¨çš„æŠ½è±¡æ–¹æ³•ï¼Œå¹¶åœ¨å¶èŠ‚ç‚¹å’Œæ ‘æèŠ‚ç‚¹ä¸­è¿›è¡Œé‡å†™ã€‚æ³¨æ„ï¼šå¶èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œæ‰€æœ‰åˆ›å»ºçš„è¿­ä»£å™¨ä¸ºç©ºï¼Œæ‰€ä»¥éœ€è¦å®šä¹‰ä¸€ä¸ªç©ºè¿­ä»£å™¨ã€‚</span></span></p></div><pre id="https://www.notion.so/b90a08756c5445a581cbbab817661f8b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public abstract class MenuComponent {
   /**
     * åˆ›å»ºè¿­ä»£å™¨
     */
    public abstract MyIterator&lt;MenuComponent&gt; createIterator();
}</span></span></span></code></pre><div id="https://www.notion.so/120b6752028b479a8f9aa3e343072424" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç©ºè¿­ä»£å™¨çš„å®šä¹‰</span></span></p></div><pre id="https://www.notion.so/9e6dca0509214e6785c8412ca00de2c7" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>/**
 * ç©ºè¿­ä»£å™¨
 */
public class NullIterator implements MyIterator&lt;MenuComponent&gt; {
    @Override
    public boolean hasNext() {
        return false;
    }

    @Override
    public MenuComponent next() {
        return null;
    }
}</span></span></span></code></pre><div id="https://www.notion.so/fc1962ca9dfe45fdbd6ac33ee0a65116" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">èœå•é¡¹ä¸­é‡å†™</span></span></p></div><pre id="https://www.notion.so/faad7918a6764eca8a8124f257078a3d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class MenuItem extends MenuComponent {
  /**
   * èœå•é¡¹åˆ›å»ºè¿­ä»£å™¨
   * @return NullIterator
   */
  @Override
  public MyIterator&lt;MenuComponent&gt; createIterator() {
    return new NullIterator();
  }
}</span></span></span></code></pre><div id="https://www.notion.so/c7f94f8a024a4c5abb09474e7d97430c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç»„åˆèœå•ä¸­é‡å†™</span></span></p></div><pre id="https://www.notion.so/ab0ddef512d34e07ba2e63c1a7846004" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class CompositeMenu extends MenuComponent {
	/**
   * ç»„åˆèœå•åˆ›å»ºè¿­ä»£å™¨
   */
      @Override
    public MyIterator&lt;MenuComponent&gt; createIterator() {
        var myIterator=new GetMyItrFromArrayList(menuComponents);
        return new CompositeIterator(myIterator);
    }
}</span></span></span></code></pre><div id="https://www.notion.so/588bf64860c04c148d49d27804fd99a1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™é‡Œçš„</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">GetMyItrFromArrayList</code></span><span class="SemanticString">ç±»æ˜¯ä»</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">ArrayList</code></span><span class="SemanticString">ä¸­è¿”å›</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">MyIterator</code></span><span class="SemanticString">ç±»å‹çš„è¿­ä»£å™¨ï¼Œç±»ä¼¼iteratoræ¨¡å¼ä¸€æ–‡ä¸­</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">PancakeMenuIterator</code></span><span class="SemanticString">çš„æ“ä½œï¼ˆæœ¬è´¨ä¸Šç›¸åŒï¼‰</span></span></p></div><pre id="https://www.notion.so/173a4e16a5f546e98befbea2be553952" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>package CompostiteWithItrUtils;

import java.util.ArrayList;
import ItrUtils.MyIterator;
/**
 * ä»ArrayListå¯¹è±¡ä¸­è·å–MyIteratorç±»å‹çš„è¿­ä»£å™¨
 */
public class GetMyItrFromArrayList implements MyIterator&lt;MenuComponent&gt;{
  ArrayList&lt;MenuComponent&gt; menuItems;
  int position = 0;

  public GetMyItrFromArrayList(ArrayList&lt;MenuComponent&gt; menuItems) {
    this.menuItems = menuItems;
  }

  @Override
  public boolean hasNext() {
    if (position &gt;= menuItems.size() || menuItems.get(position) == null)
      return false;
    return true;
  }

  @Override
  public MenuComponent next() {
    MenuComponent item = menuItems.get(position);
    position += 1;
    return item;
  }
}</span></span></span></code></pre><div id="https://www.notion.so/fdafeae9e8ee4b968d48035adf05031f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">step9: </strong></span><span class="SemanticString">åœ¨æœåŠ¡å‘˜ç±»ä¸­æ·»åŠ æ–°éœ€æ±‚çš„ä¸šåŠ¡å¤„ç†å‡½æ•°</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">printVegetarianMenu()</code></span></span></p></div><pre id="https://www.notion.so/15e74ad9b631480bb45d331526877835" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class Waitress {
  /**
   * æ‰“å°è”¬èœé£Ÿå“
   */
  public void printVegetarianMenu() {
    MyIterator&lt;MenuComponent&gt; iterator = allMenus.createIterator();
    while (iterator.hasNext()) {
      MenuComponent component = iterator.next();
      try {
        if (component.isVegetable())
          System.out.println(component.getName());
      }
      // å¦‚æœä¸ºç»„åˆèœå•è°ƒç”¨isVegetableæ–¹æ³•ï¼Œä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™é‡Œä¼šç›´æ¥ä¸å¤„ç†
      catch (UnsupportedOperationException e) {
        ;
      }
    }
  }
}</span></span></span></code></pre><div id="https://www.notion.so/a66eb8b61b9649698290060132173209" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç„¶åå†åœ¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">main</code></span><span class="SemanticString">å‡½æ•°ä¸­è¿›è¡Œæµ‹è¯•</span></span></p></div><pre id="https://www.notion.so/274850fc188f405786a20345d756e272" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class Main2TestCombine {
      public static void main(String[] args) {
        //å»ºé€ çƒ§é¥¼èœå•
        MenuComponent pancakeMenu = new CompositeMenu(&quot;æ—©é¤&quot;,&quot;åŸçƒ§é¥¼åº—èœå•&quot;);
        pancakeMenu.add(new MenuItem(&quot;è‘±èŠ±é¥¼&quot;, 3.5,true));
        pancakeMenu.add(new MenuItem(&quot;ç‰›è‚‰é¥¼&quot;, 6,false));
        pancakeMenu.add(new MenuItem(&quot;çŒªè‚‰é¥¼&quot;, 5,false));
        pancakeMenu.add(new MenuItem(&quot;éŸ­èœé¥¼&quot;, 2.5,true));
        //å»ºé€ æ­£é¤èœå•å­èœå•-ç”œç‚¹èœå•
        MenuComponent dessertMenu = new CompositeMenu(&quot;ç”œç‚¹&quot;,&quot;æ­£é¤å­èœå•&quot;);
        dessertMenu.add(new MenuItem(&quot;èŠ’æœç‰›å¥¶å†°&quot;, 8,false));
        dessertMenu.add(new MenuItem(&quot;çç æœè±†èŠ±&quot;, 6,false));
        dessertMenu.add(new MenuItem(&quot;æ¦´è²è›‹é»„&quot;, 8,false));
        //å»ºé€ æ­£é¤èœå•
        MenuComponent dinnerMenu = new CompositeMenu(&quot;æ­£é¤&quot;,&quot;åŸé¥­åº—èœå•&quot;);
        dinnerMenu.add(new MenuItem(&quot;é’æ¤’è‚‰ä¸ç‚’é¥­&quot;, 12,false));
        dinnerMenu.add(new MenuItem(&quot;ç•ªèŒ„é¸¡è›‹ç‚’é¥­&quot;, 10,true));
        dinnerMenu.add(new MenuItem(&quot;é±¼é¦™èŒ„å­ç‚’é¥­&quot;, 11,false));
        dinnerMenu.add(new MenuItem(&quot;åœŸè±†çƒ§é¸¡ç‚’é¥­&quot;, 12.5,false));
        dinnerMenu.add(dessertMenu);
        //å»ºé€ ä¸»èœå•
        MenuComponent totalMenu = new CompositeMenu(&quot;èœå•&quot;, &quot;æ€»èœå•&quot;);
        totalMenu.add(pancakeMenu);
        totalMenu.add(dinnerMenu);
        //æœåŠ¡å‘˜æ‰“å°èœå•
        Waitress waitress = new Waitress(totalMenu);
        System.out.println(&quot;\ncomposite+iteratoræ¨¡å¼ï¼š\n&quot;);
        // waitress.printMenu();
        waitress.printVegetarianMenu();
    }
}</span></span></span></code></pre><div id="https://www.notion.so/060d79cf648d4e4388872f90960ec1ed" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç»“æœ</span></span></p></div><pre id="https://www.notion.so/c953f7483fce44afa832492372c1906f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>composite+iteratoræ¨¡å¼ï¼š

è‘±èŠ±é¥¼
éŸ­èœé¥¼
ç•ªèŒ„é¸¡è›‹ç‚’é¥­</span></span></span></code></pre><div id="https://www.notion.so/1a98b31e029f4f3eb580649a5605e933" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç„¶åè§£å†³é—®é¢˜1ï¼š</span></span></p></div><div id="https://www.notion.so/9e550030c755497fa7aba67c67ebae7e" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F47159b55-f3e3-4da8-a8b2-30ea3cd15d54%2FMain2TestFinal.jpg?width=935&amp;table=block&amp;id=9e550030-c755-497f-a7ab-a67c67ebae7e"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F47159b55-f3e3-4da8-a8b2-30ea3cd15d54%2FMain2TestFinal.jpg?width=935&amp;table=block&amp;id=9e550030-c755-497f-a7ab-a67c67ebae7e" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/e9d8afec0ca346d09a7e340bc8e7607a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ³¨æ„åˆ°å‰é¢åˆ°ä¾‹å­ä¸­ï¼Œåˆ›å»ºç»„åˆèœå•æ˜¯é€šè¿‡æ–°å»º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">CompositeMenu</code></span><span class="SemanticString">ç±»ï¼Œè€Œåœ¨è¯¥ç±»çš„å†…éƒ¨æ˜¯é‡‡ç”¨çš„</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">ArrayList</code></span><span class="SemanticString">è¿™ä¸€æ•°æ®ç»“æ„ï¼Œè€Œåœ¨iteratoræ¨¡å¼ä¸€æ–‡çš„ä¾‹å­ä¸­ï¼Œåˆé¤é¤é¦†çš„èœå•æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œä¸ºäº†ç»§ç»­ä½¿ç”¨æ•°ç»„å®ç°ï¼Œæˆ‘ä»¬å°†</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">CompositeMenu</code></span><span class="SemanticString">æ‹·è´ä¸€ä»½ä¸º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">CompositeMenu_ArrayVer</code></span><span class="SemanticString">ï¼Œå¹¶ä¿®æ”¹ç›¸å…³å®ç°ç»†èŠ‚</span></span></p></div><pre id="https://www.notion.so/f7319c03fcc84d8ab4dafe7eff35463e" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class CompositeMenu_ArrayVer extends MenuComponent {
  MenuComponent[] menuComponents = new MenuComponent[20];
  int numberOfItems = 0;
  String name;
  String description;

  public CompositeMenu_ArrayVer() {
  }

  public CompositeMenu_ArrayVer(String name, String description) {
    this.name = name;
    this.description = description;
  }

  @Override
  public void add(MenuComponent component) {
    if (numberOfItems &gt;= menuComponents.length) {
      System.out.println(&quot;èœå•å·²æ»¡ï¼Œä¸èƒ½å†æ·»åŠ ï¼&quot;);
      return;
    }
    if (component instanceof MenuItem) {
      var menuItem = new MenuItem(component.getName(), component.getPrice(), component.isVegetable());
      menuComponents[numberOfItems++] =  menuItem;
    }else{
      menuComponents[numberOfItems++] =  component;
    }
  }

  @Override
  public void remove(MenuComponent component) {
    // è¿™é‡Œå¯¹æ•°ç»„å…ƒç´ çš„åˆ é™¤ç›¸å½“äºåä¸€ä¸ªè¦†ç›–å‰ä¸€ä¸ª
    for (int i = 0; i &lt; numberOfItems; i++) {
      if (menuComponents[i].getName().equals(component.getName())) {
        for (int j = i; j + 1 &lt; numberOfItems; j++) {
          menuComponents[j] = menuComponents[j + 1];
        }
        menuComponents[--numberOfItems] = null;
        break;
      }
    }
  }

  @Override
  public MenuComponent get(int i) {
    return menuComponents[i];
  }

  @Override
  public void print() {
    System.out.println(&quot;\nèœå•åç§°ï¼š&quot; + getName() + &quot;(&quot; + getDescription() + &quot;)&quot;);
    for (MenuComponent menuComponent : menuComponents) {
      if(menuComponent==null)break;
      menuComponent.print();
    }
  }

  @Override
  public String getName() {
    return this.name;
  }

  public String getDescription() {
    return description;
  }

  /**
   * ç»„åˆèœå•åˆ›å»ºè¿­ä»£å™¨
   */
  @Override
  public MyIterator&lt;MenuComponent&gt; createIterator() {
    var myIterator = new GetMyItrFromArray(menuComponents);
    return new CompositeIterator(myIterator);
  }
}</span></span></span></code></pre><div id="https://www.notion.so/e0b18425cfa94ed3801122dd875f9301" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ³¨æ„åˆ°</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">CompositeMenu_ArrayVer</code></span><span class="SemanticString">ä¸­çš„</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">createIterator</code></span><span class="SemanticString">æ–¹æ³•ä»æ•°ç»„å¯¹è±¡ä¸­è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå› æ­¤å‚è€ƒiteratoræ¨¡å¼ä¸€æ–‡ä¸­çš„</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">PancakeMenuIterator</code></span><span class="SemanticString">ï¼Œæ‹·è´ä¸€ä»½ä¸º</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">GetMyItrFromArray</code></span></span></p><div class="Text__Children"><pre id="https://www.notion.so/22ec594254b04a90b50abca2f3e737dc" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>/**
 * ä»å¯¹è±¡æ•°ç»„ä¸­è·å–MyIteratorç±»å‹çš„è¿­ä»£å™¨
 */
public class GetMyItrFromArray implements MyIterator&lt;MenuComponent&gt; {
  MenuComponent[] menuComponents;
  int position = 0;

  public GetMyItrFromArray(MenuComponent[] menuComponents) {
    this.menuComponents = menuComponents;
  }

  @Override
  public boolean hasNext() {
    if (position &gt;= menuComponents.length || menuComponents[position] == null)
      return false;
    return true;
  }

  @Override
  public MenuComponent next() {
    MenuComponent item = menuComponents[position];
    position += 1;
    return item;
  }
}</span></span></span></code></pre></div></div><div id="https://www.notion.so/a8f5c1296e47400caac1d019f809384f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¿®æ”¹</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">CompositeIterator</code></span><span class="SemanticString">å¯¹æ–°çš„</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">CompositeMenu_ArrayVer</code></span><span class="SemanticString">èšåˆå¯¹è±¡åšé€‚é…</span></span></p><div class="Text__Children"><pre id="https://www.notion.so/3171547ad4704e46b2bdb4a3150795c4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class CompositeIterator implements MyIterator&lt;MenuComponent&gt; {
  /** è¿­ä»£å™¨æ ˆï¼Œå­˜å‚¨æœ€è¿‘ä¸€æ¬¡è¿­ä»£çš„èœå•çš„è¿­ä»£å™¨ */
  Deque&lt;MyIterator&lt;MenuComponent&gt;&gt; stack = new ArrayDeque&lt;MyIterator&lt;MenuComponent&gt;&gt;();

  public CompositeIterator() {
  }

  public CompositeIterator(MyIterator&lt;MenuComponent&gt; myIterator) {
    // åˆå§‹åŒ–æ—¶ä¸­å°†ç»„åˆèœå•çš„æ€»è¿­ä»£å™¨ï¼ˆå³List&lt;MenuComponent&gt;çš„è¿­ä»£å™¨ï¼‰æ”¾å…¥æ ˆ
    stack.push(myIterator);
  }

  @Override
  public boolean hasNext() {
    if (stack.isEmpty())
      return false;
    // è¿”å›æ ˆé¡¶çš„è¿­ä»£å™¨
    MyIterator&lt;MenuComponent&gt; myIterator = stack.peek();
    // å¦‚æœè¯¥è¿­ä»£å™¨ä»æœ‰å…ƒç´ å¯è¿­ä»£ï¼Œè¿”å›true
    if (myIterator.hasNext()) {
      return true;
    } else {// å¦‚æœè¿­ä»£å™¨å…ƒç´ éƒ½å·²è¿­ä»£å®Œï¼Œå¼¹å‡ºæ ˆï¼Œé€’å½’åˆ¤æ–­æ ˆä¸­ä¸‹ä¸€ä¸ªè¿­ä»£å™¨
      stack.pop();
      return hasNext();
    }
  }

  @Override
  public MenuComponent next() {
    // å¦‚æœæ²¡æœ‰å…ƒç´ å¯è¿­ä»£ï¼Œç›´æ¥è¿”å›null
    if (!hasNext())
      return null;
    // æœ‰å…ƒç´ å¯è¿­ä»£æ—¶ï¼Œè¿”å›æ ˆé¡¶è¿­ä»£å™¨
    MyIterator&lt;MenuComponent&gt; iterator = stack.peek();
    // å–å‡ºè¿­ä»£å™¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
    MenuComponent component = iterator.next();
    // å¦‚æœè¯¥å…ƒç´ ä¸ºèœå•ï¼Œå°†å­èœå•çš„è¿­ä»£å™¨æ”¾å…¥æ ˆä¸­ã€‚è¿™æ ·ä¸‹ä¸€æ¬¡æ‰§è¡Œnext()æ–¹æ³•ï¼Œåˆ™è¿­ä»£è¯¥å­èœå•äº†
    if (component instanceof CompositeMenu || component instanceof CompositeMenu_ArrayVer) {
      stack.push(component.createIterator());
    }

    return component;
  }
}</span></span></span></code></pre></div></div><div id="https://www.notion.so/5a87dfb54a41478088b95bc5346644c0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¯¹</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Waitress</code></span><span class="SemanticString">ç±»çš„</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">printVegetarinMenu()</code></span><span class="SemanticString">æ–¹æ³•é€‚å½“ä¿®æ”¹</span></span></p><div class="Text__Children"><pre id="https://www.notion.so/ada06d37bc6443129a1db12d3ed4134c" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class Waitress {
  /**
   * æ‰“å°è”¬èœé£Ÿå“
   */
  public HashMap&lt;String,Double&gt; getVegetarianMenu(){
    var hashMap=new HashMap&lt;String,Double&gt;();
    for(int i=0;i&lt;allMenus.getLength();i++){
      var menuComponent=allMenus.get(i);
      var iterator=menuComponent.createIterator();
      while(iterator.hasNext()){
        var component=iterator.next();
        if(component.isVegetable()){
          hashMap.put(component.getName(),component.getPrice());
        }
      }
    }
    return hashMap;
  }
  public void printVegetarianMenu() {
    var hashMap=getVegetarianMenu();
    for(var ele:hashMap.entrySet()){
      System.out.println(ele.getKey()+&quot; : &quot;+ele.getValue());
    }
  }
}</span></span></span></code></pre></div></div><div id="https://www.notion.so/c1e568fdfb9e497494980f49978d32ee" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç„¶ååœ¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">main</code></span><span class="SemanticString">å‡½æ•°ä¸­è¿›è¡Œæµ‹è¯•</span></span></p><div class="Text__Children"><div id="https://www.notion.so/1b9746ea3bfc4dfd9b8e78996de624f6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å±‚æ¬¡ç»“æ„ï¼š</span></span></p></div><div id="https://www.notion.so/54ba4bc959fe458e864b3d78c0525975" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F61563205-5185-4e67-84d2-e7436ead1af6%2FFlowchartDiagram1.jpg?width=1081&amp;table=block&amp;id=54ba4bc9-59fe-458e-864b-3d78c0525975"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F61563205-5185-4e67-84d2-e7436ead1af6%2FFlowchartDiagram1.jpg?width=1081&amp;table=block&amp;id=54ba4bc9-59fe-458e-864b-3d78c0525975" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/f16d99eecad8455b8e7a23b07307fb3f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä»£ç </span></span></p></div><pre id="https://www.notion.so/5dc9215536a743e6a6ff8779ed7b2268" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>public class Main2TestFinal {
  public static void main(String[] args) {
    // å»ºé€ çƒ§é¥¼èœå•
    MenuComponent pancakeMenu = new CompositeMenu(&quot;æ—©é¤&quot;, &quot;åŸçƒ§é¥¼åº—èœå•&quot;);
    pancakeMenu.add(new MenuItem(&quot;è‘±èŠ±é¥¼&quot;, 3.5, true));
    pancakeMenu.add(new MenuItem(&quot;ç‰›è‚‰é¥¼&quot;, 6, false));
    pancakeMenu.add(new MenuItem(&quot;çŒªè‚‰é¥¼&quot;, 5, false));
    pancakeMenu.add(new MenuItem(&quot;éŸ­èœé¥¼&quot;, 2.5, true));
    //é¥®æ–™èœå•
    MenuComponent drinkMenu=new CompositeMenu_ArrayVer(&quot;é¥®æ–™&quot;,&quot;æ­£é¤å­èœå•&quot;);
    drinkMenu.add(new MenuItem(&quot;å†°å¯ä¹&quot;,3));
    drinkMenu.add(new MenuItem(&quot;å†°é›ªç¢§&quot;,3));
    // å»ºé€ æ­£é¤èœå•å­èœå•-ç”œç‚¹èœå•
    MenuComponent dessertMenu = new CompositeMenu_ArrayVer(&quot;ç”œç‚¹&quot;, &quot;æ­£é¤å­èœå•&quot;);
    dessertMenu.add(new MenuItem(&quot;èŠ’æœç‰›å¥¶å†°&quot;, 8, false));
    dessertMenu.add(new MenuItem(&quot;çç æœè±†èŠ±&quot;, 6, false));
    dessertMenu.add(new MenuItem(&quot;æ¦´è²è›‹é»„&quot;, 8, false));
    // å»ºé€ æ­£é¤èœå•
    MenuComponent dinnerMenu = new CompositeMenu_ArrayVer(&quot;æ­£é¤&quot;, &quot;åŸé¥­åº—èœå•&quot;);
    dinnerMenu.add(new MenuItem(&quot;é’æ¤’è‚‰ä¸ç‚’é¥­&quot;, 12, false));
    dinnerMenu.add(new MenuItem(&quot;ç•ªèŒ„é¸¡è›‹ç‚’é¥­&quot;, 10, true));
    dinnerMenu.add(new MenuItem(&quot;é±¼é¦™èŒ„å­ç‚’é¥­&quot;, 11, false));
    dinnerMenu.add(new MenuItem(&quot;åœŸè±†çƒ§é¸¡ç‚’é¥­&quot;, 12.5, false));
    dinnerMenu.add(drinkMenu);
    dinnerMenu.add(dessertMenu);
    // å»ºé€ ä¸»èœå•
    MenuComponent totalMenu = new CompositeMenu(&quot;èœå•&quot;, &quot;æ€»èœå•&quot;);
    totalMenu.add(pancakeMenu);
    totalMenu.add(dinnerMenu);
    // æœåŠ¡å‘˜æ‰“å°èœå•
    Waitress waitress = new Waitress(totalMenu);
    System.out.println(&quot;\ncomposite+iteratoræ¨¡å¼ï¼š\n&quot;);
    waitress.printMenu();
    System.out.println(&quot;\nè”¬èœèœå•ï¼š&quot;);
    waitress.printVegetarianMenu();
  }
}</span></span></span></code></pre><div id="https://www.notion.so/b04748a0cc3f4057867de9c1121b518a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç»“æœ</span></span></p></div><pre id="https://www.notion.so/f8c724b4c30c42fcba7af42c9068f1d4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>composite+iteratoræ¨¡å¼ï¼š

èœå•åç§°ï¼šèœå•(æ€»èœå•)

èœå•åç§°ï¼šæ—©é¤(åŸçƒ§é¥¼åº—èœå•)
è‘±èŠ±é¥¼:3.5
ç‰›è‚‰é¥¼:6.0
çŒªè‚‰é¥¼:5.0
éŸ­èœé¥¼:2.5

èœå•åç§°ï¼šæ­£é¤(åŸé¥­åº—èœå•)
é’æ¤’è‚‰ä¸ç‚’é¥­:12.0
ç•ªèŒ„é¸¡è›‹ç‚’é¥­:10.0
é±¼é¦™èŒ„å­ç‚’é¥­:11.0
åœŸè±†çƒ§é¸¡ç‚’é¥­:12.5

èœå•åç§°ï¼šé¥®æ–™(æ­£é¤å­èœå•)
å†°å¯ä¹:3.0
å†°é›ªç¢§:3.0

èœå•åç§°ï¼šç”œç‚¹(æ­£é¤å­èœå•)
èŠ’æœç‰›å¥¶å†°:8.0
çç æœè±†èŠ±:6.0
æ¦´è²è›‹é»„:8.0

è”¬èœèœå•ï¼š
ç•ªèŒ„é¸¡è›‹ç‚’é¥­ : 10.0
éŸ­èœé¥¼ : 2.5
è‘±èŠ±é¥¼ : 3.5</span></span></span></code></pre></div></div><div id="https://www.notion.so/6e54d850535949f9bf561cab1910025f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é€šè¿‡ä¸Šé¢ï¼Œå°±å®Œæˆäº†compositeæ¨¡å¼ä¸iteratoræ¨¡å¼çš„ç»“åˆã€‚</span></span></p></div><div id="https://www.notion.so/99a4760aff1249f6a71dffc2863d0826" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/936a62da7c0b49f09f88491679a6c020" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å‚è€ƒæ–‡ç« ï¼š</span></span></p></div><div id="https://www.notion.so/db00c89891f84fb6b99d2566a39d1daf" class="Bookmark"><a href="https://blog.csdn.net/z55887/article/details/70548861"><h5 class="Bookmark__Title">Head First è®¾è®¡æ¨¡å¼ï¼ˆä¹ï¼‰è¿­ä»£å™¨ä¸ç»„åˆæ¨¡å¼_Java_å¤§æ ‘çš„å­¦ä¹ ä¹‹è·¯-CSDNåšå®¢</h5><p class="Bookmark__Desc">è¿­ä»£å™¨æ¨¡å¼æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²å…¶å†…éƒ¨çš„è¡¨ç¤º è¿­ä»£å™¨æ¨¡å¼æˆ‘ä»¬å¾ˆç†Ÿæ‚‰ï¼Œå…¶å®å°±æ˜¯Javaä¸­é›†åˆçš„è¿­ä»£åŸç†ï¼Œå¦‚æœä½ ç ”ç©¶è¿‡é›†åˆçš„æºç ï¼Œå°±ä¼šå¾ˆå®¹æ˜“ç†è§£è¿™ä¸ªæ¨¡å¼ã€‚ ç°åœ¨æœ‰ä¸¤å®¶é¤å…ï¼šç…é¥¼åº—å’Œé¥­åº—ï¼Œå®ƒä»¬æƒ³è¦åˆå¹¶ã€‚ä¸¤å®¶åº—çš„èœå•éœ€è¦ç»Ÿä¸€èµ·æ¥ï¼Œä»¥ä¾¿æœåŠ¡å‘˜ç»™å®¢æˆ·çœ‹ã€‚ ä½†æ­¤æ—¶æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç…é¥¼åº—å’Œé¥­åº—çš„èœå•ï¼Œå®ç°æ˜¯ä¸ä¸€æ ·çš„ï¼š ä»ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œä¸¤å®¶åº—çš„èœå•ä¸€ä¸ªæ˜¯æ•°ç»„å®ç°ï¼Œä¸€ä¸ªæ˜¯é›†åˆå®ç°ã€‚ è¿™æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦æœåŠ¡å‘˜æä¾›æ–°çš„èœå•æ—¶ï¼Œå¾—åˆ†åˆ«é’ˆå¯¹ä¸¤ç§ä¸åŒçš„åº•å±‚å®ç°ï¼Œè¿›è¡Œä¸åŒçš„è¿­ä»£ï¼š /** * æ‰“å°å‡ºèœå• */ public void printMenu() { ArrayList pMenuItems = pancakeMenu.menuItems; for (int i = 0; i &lt; pMenuItems.size(); i++) { MenuItem menuItem = pMenuItems.get(i); System.out.println(menuItem.getName()+&quot;:&quot;+menuItem.getPrice()); } MenuItem[] dMenuItems = dinnerMenu.menuItems; for (int i = 0,n = dMenuItems.length; i &lt; n; i++) {</p><p class="Bookmark__Link">https://blog.csdn.net/z55887/article/details/70548861</p></a></div><div id="https://www.notion.so/04582ef5f714432c918f705b82d6d200" class="Bookmark"><a href="https://www.cnblogs.com/wuqinglong/p/12425411.html"><h5 class="Bookmark__Title">https://www.cnblogs.com/wuqinglong/p/12425411.html</h5><p class="Bookmark__Link">https://www.cnblogs.com/wuqinglong/p/12425411.html</p></a></div></article>  <div id="vcomments"></div>
  <script>
    new Valine({
      el: '#vcomments',
      appId: 'x3yNlOp8snKVbHLuM3MDgyPm-gzGzoHsz',
      appKey: 'IxbPmtJ4C181kqwCPyUfHb67',
      avatar: 'retro',
      placeholder: 'Welcome to comment here233!',
      requiredFields: ['nick', 'mail']
    })
  </script>
  <footer class="Footer">
    <div>&copy; idzc.me 2020</div>
    <div>&centerdot;</div>
    <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
        rel="noopener noreferrer">Notablog</a>.
    </div>
  </footer>
</body>

</html>