{"componentChunkName":"component---plugins-gine-theme-mod-src-components-post-post-page-js","path":"/page/4","result":{"data":{"siteConfig":{"pageSize":6},"allPosts":{"edges":[{"node":{"description":null,"id":"f356e531-8ef4-5d6e-8d65-70521a278c5c","name":"ArchLinux安装(二)-安装并配置AwesomeWM","tags":["Archlinux","AwesomeWM"],"categories":["Tools","Linux"],"public_date":"2019-08-06","html":"<div data-block-id=\"46da3168-8f1d-488c-9253-51eeac24fec6\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#7b0cb475-5630-4000-97e2-c1f428944fd3\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">AwesomeWM的安装与启动</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#8f5e2026-d8d2-4ad4-98b7-058b6678e940\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">安装Xorg框架</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c21b0b4c-ec66-459d-9d41-cb9345bb5b64\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">安装AwesomeWM</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#9a50677f-c055-4217-82f8-f62acd342476\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">添加用户</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#f5052bba-81df-4879-8fff-9e74e7b3d78f\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">启动AwesomeWM</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#d433e14c-0cc0-420b-92f2-366b69b7129f\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">使用Xorg启动(推荐)</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#7c83201f-944a-4494-87d5-1f23b04cc1b1\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">使用LightDM启动</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#2f59b8bf-862e-4822-b537-220e847e0e96\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">简单配置</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#94a2a6e4-cce4-4ed8-9a25-04faeac527de\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">axel多线程加速pacman、aur</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#da066ea1-30f0-49ba-93b6-28b35e031302\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">添加archlinuxcn源</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#dcaee64d-1669-4fa4-ada7-d1018f349984\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">常用软件</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#11f8bb1d-ab16-4d29-bdf3-e8ec82732987\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">其他</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c56bd44a-9ca9-4bce-be55-0a4128d7bc51\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">搜狗输入法</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#32a84a36-bc36-479e-adc2-5647c8e17d3a\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">网络管理</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#02116aef-a72f-4be5-948f-40057dffa513\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">安装蓝牙组件</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#e623581b-800c-48ed-abaf-f50894e89c38\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">触摸板配置</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#b0a2eaf4-9f0d-45d5-99d8-8b0c4b578f95\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">虚拟机安装</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#68775a6e-0aaf-4e43-8062-90672c8973d7\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">BUGS</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#66c666a4-7a7d-4d3d-87c8-ceea64ab74cc\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">urxvt中Ctrl+Shift出现黄色警示ISO 14755/Keycap mode</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#554d76cd-002e-48b6-8ada-7dfd77ee05ab\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">ArchLinux的启动菜单丢失Windows引导</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#575272de-1486-4f4c-860f-1d5cb55af83c\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">安装deepin-wine-tim遇到32位依赖问题</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#d3992142-7159-46c8-a92e-5559e9dd664d\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">麦克风无法捕捉声音（无法正常语音通话</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#8a4dc781-7b96-4dfa-b966-a36c49b7769b\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">满音量声音依然小</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#819b0f65-d093-43f8-ad2f-6708d8e61bb8\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">wifi开关不能打开(rfkill list all显示wifi被block)</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#d4244820-9fa1-4cc1-bda1-44b3b64df79c\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">无法自动挂载windows分区&amp;U盘</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#d2ee5cc0-5f54-4681-ac95-31abc9ba6e0a\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">搜狗候选框黑边修复</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#4f03a94d-f9e7-421d-a264-26e5bb3189c7\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">deepin.com.qq.im无法打开</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#a13fd4c3-6199-4f37-88c8-c5cb638f6f16\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">HDMI外接显示器无法使用(Nvidia显卡驱动折腾)</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#2faa07c2-2553-45af-9c32-6822fb02d216\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">与Win的时间相差8小时</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#4b782fb8-9e76-4454-b994-e9c16fc98056\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">代理上网</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#f1e2cc89-56d2-4a8b-bc4e-a801b82ff04f\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">Archlinux下leanote无法使用</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#fc673732-5113-4d0a-a83c-e79d0f379e74\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">个人配置文件</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c8814869-e5e2-4a08-8b68-4c358f641cb8\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">参考</div></div></div></a></div></div></div><div data-block-id=\"3e4c603a-6cd7-4a2d-b6e9-3dcab7af3524\" class=\"notion-selectable notion-divider-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div class=\"notion-cursor-default\" style=\"display: flex; align-items: center; justify-content: center; pointer-events: auto; width: 100%; height: 13px; flex: 0 0 auto; color: rgb(228, 227, 226);\"><div style=\"width: 100%; height: 1px; visibility: visible; border-bottom: 1px solid rgba(55, 53, 47, 0.09);\"></div></div></div><div data-block-id=\"7b0cb475-5630-4000-97e2-c1f428944fd3\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"7b0cb475-5630-4000-97e2-c1f428944fd3\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">AwesomeWM的安装与启动</div></div></div><div data-block-id=\"49ba0a84-f3a9-4e93-b510-880e6230326c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在完成前文<a href=\"https://idzc.me/posts/f5fb79828baf4e678aa1aabaeba54315\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">ArchLinux安装(一)</span></a>的操作后，重启系统，登录root后，用wifi-menu或者dhcpcd连上网络，\n进行如下操作：</div></div></div></div><div data-block-id=\"8f5e2026-d8d2-4ad4-98b7-058b6678e940\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"8f5e2026-d8d2-4ad4-98b7-058b6678e940\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装Xorg框架</div></div></div><div data-block-id=\"50fa0fc3-6e8c-4e4c-b487-a20aefafc11e\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">pacman -S xorg-xinit xorg-server xorg-xrandr xorg-xrdb xorg-xinput xf86-video-intel</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c21b0b4c-ec66-459d-9d41-cb9345bb5b64\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"c21b0b4c-ec66-459d-9d41-cb9345bb5b64\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装AwesomeWM</div></div></div><div data-block-id=\"24241e62-6731-4d77-ab93-52188243384b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">pacman -S awesome xterm wqy-zenhei</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"9a50677f-c055-4217-82f8-f62acd342476\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"9a50677f-c055-4217-82f8-f62acd342476\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">添加用户</div></div></div><div data-block-id=\"e17ef423-437b-445c-a22a-280da36986cd\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">useradd</span><span data-token-index=\"0\"> -m -g </span><span class=\"token function\" data-token-index=\"0\">users</span><span data-token-index=\"0\"> -G audio,video,floppy,network,rfkill,scanner,storage,optical,power,wheel,</span><span class=\"token punctuation\" data-token-index=\"0\">\\</span><span data-token-index=\"0\">\n    uucp -s /bin/bash julian\t</span><span class=\"token comment\" data-token-index=\"0\">#添加用户</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">passwd</span><span data-token-index=\"0\"> julian\t</span><span class=\"token comment\" data-token-index=\"0\">#为用户设定密码</span><span data-token-index=\"0\">\nvisudo\t\t</span><span class=\"token comment\" data-token-index=\"0\">#将用户加入sudoers,如果不存在/etc/sudoers文件，那就pacman -S sudo</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"fe916da3-e43d-47bb-97b5-843dd51f64fc\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">添加用户到sudoers:\n搜索到root ALL=(ALL) ALL复制到下一行并将root改为添加的用户名：</div></div></div><div data-block-id=\"ecc1dd54-5de0-4918-a20c-a19d74b22d73\" class=\"notion-selectable notion-image-block\" style=\"width: 380px; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F5f517b8c-17cb-4fa0-a5d5-e13e1b690981%2FUntitled.png?table=block&amp;id=ecc1dd54-5de0-4918-a20c-a19d74b22d73&amp;width=760&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"520fae4b-73ab-4385-9f07-e9747e4c9cd1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">exit退出root，登录以切换到新添加的用户。或者<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">su juian</span>进行切换。</div></div></div></div><div data-block-id=\"f5052bba-81df-4879-8fff-9e74e7b3d78f\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"f5052bba-81df-4879-8fff-9e74e7b3d78f\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">启动AwesomeWM</div></div></div><div data-block-id=\"d433e14c-0cc0-420b-92f2-366b69b7129f\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"d433e14c-0cc0-420b-92f2-366b69b7129f\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">使用Xorg启动(推荐)</div></div></div><div data-block-id=\"70d71743-7f6d-47e1-9487-00e15263308e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">若无<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">~/.xinitrc</span>文件，则<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">cp /etc/skel/.xinitrc ~/.xinitrc</span>[可能在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">/etc/X11/xinit/xinitrc</span>]\n在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">~/.xinitrc</span>尾部追加<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">exec awesome</span>，并注释<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"11\" spellcheck=\"false\">twm</span>：</div></div></div></div><div data-block-id=\"2164afe2-29a1-446d-ad7e-544ab74d55ec\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">#twm &amp;</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\"># xclock -geometry 50x50-1+1 &amp;</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#xterm -geometry 80x50+494+51 &amp;</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#xterm -geometry 80x20+494-0 &amp;</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#exec xterm -geometry 80x66+0+0 -name login</span><span data-token-index=\"0\">\n\nxset b off\n</span><span class=\"token builtin class-name\" data-token-index=\"0\">exec</span><span data-token-index=\"0\"> awesome</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"9e6c7518-30bd-4cbf-b164-1d1293ee3728\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">这样重启系统时，先进入tty终端，登陆后使用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">startx</span>就可以进入GUI。</div></div></div></div><div data-block-id=\"f9a10661-c228-4b2a-8cf8-1373ae2a6e32\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">如果想自动登入tty：</div></div></div></div><div data-block-id=\"301bddc6-87b9-49c2-b061-8ca1a58199e3\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">systemctl edit getty@tty1\n</span><span class=\"token comment\" data-token-index=\"0\"># 在/etc/systemd/system/getty@tty1.service.d/override.conf添加</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">Service</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\">\n</span><span class=\"token assign-left variable\" data-token-index=\"0\">ExecStart</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">\n</span><span class=\"token assign-left variable\" data-token-index=\"0\">ExecStart</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">-/usr/bin/agetty --autologin username</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">本文为julian</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> --noclear %I </span><span class=\"token environment constant\" data-token-index=\"0\">$TERM</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"28032c11-f308-4560-b56b-2290ff9e6ca9\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://wiki.archlinux.org/index.php/Getty_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95%E5%88%B0%E8%99%9A%E6%8B%9F%E6%8E%A7%E5%88%B6%E5%8F%B0\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">getty (简体中文)</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">翻译状态： 本文是英文页面 Getty 的 翻译，最后翻译时间：2018-08-31，点击 这里 可以查看翻译后英文页面的改动。 getty 是管理终端线路及其所连终端的程序的通用名称。其目的是保护系统，防止未经授权的访问。通常，每个 getty 进程由 systemd 启动，一个进程管理一条终端线路。 agetty 是 Arch Linux 中默认的 getty 程序，它是 包的一部分。它在等待登录时修改 TTY 设置，使得换行符不会转换为 CR-LF，否则会使打印到控制台的消息产生\"阶梯效应\"。Agetty 管理着虚拟控制台，Arch Linux 中默认提供六个虚拟控制台。一般按 Ctrl+Alt+F1 到 Ctrl+Alt+F6 来访问它们。 其他可选替代包括： 打开 /etc/systemd/logind.conf 文件并将 NAutoVTs=6 设置为你想要在启动时得到的虚拟控制台数量。 如果你想临时获取一个控制台，可以为所需的 TTY 启动一个 getty 服务，执行： $ systemctl start getty@ttyN.service 配置自动登录要使用 systemd 的 附加代码片段</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwiki.archlinux.org%2Ffavicon.ico?table=block&amp;id=28032c11-f308-4560-b56b-2290ff9e6ca9&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://wiki.archlinux.org/index.php/Getty_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95%E5%88%B0%E8%99%9A%E6%8B%9F%E6%8E%A7%E5%88%B6%E5%8F%B0</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwiki.archlinux.org%2Fimages%2F8%2F87%2FTango-edit-clear.png?table=block&amp;id=28032c11-f308-4560-b56b-2290ff9e6ca9&amp;width=500&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"7c83201f-944a-4494-87d5-1f23b04cc1b1\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"7c83201f-944a-4494-87d5-1f23b04cc1b1\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">使用LightDM启动</div></div></div><div data-block-id=\"9b9c1435-beae-4c3b-b209-7bf655504f0e\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">pacman -S lightdm lightdm-settings lightdm-gtk-greeter\nsystemctl </span><span class=\"token builtin class-name\" data-token-index=\"0\">enable</span><span data-token-index=\"0\"> lightdm\nsystemctl start lightdm\t</span><span class=\"token comment\" data-token-index=\"0\">#输入完后回车，便进入登录界面</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"2f59b8bf-862e-4822-b537-220e847e0e96\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"2f59b8bf-862e-4822-b537-220e847e0e96\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">简单配置</div></div></div><div data-block-id=\"94a2a6e4-cce4-4ed8-9a25-04faeac527de\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"94a2a6e4-cce4-4ed8-9a25-04faeac527de\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">axel多线程加速pacman、aur</div></div></div><div data-block-id=\"1226adc5-c1ed-4e83-a5ec-b1004ad5efc2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">先安装axel</div></div></div></div><div data-block-id=\"03d3bb6b-ccc7-4a90-a444-24e2cdcaeba2\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S axel</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"b25d640c-b1e6-4d73-a53b-126459f85bd9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">加速pacman</div></div></div></div><div data-block-id=\"47992d68-f776-401e-bbd3-3c073c09ae85\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> /etc/pacman.conf\n</span><span class=\"token comment\" data-token-index=\"0\"># 修改为</span><span data-token-index=\"0\">\nXferCommand </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> /usr/bin/axel -a -n </span><span class=\"token number\" data-token-index=\"0\">8</span><span data-token-index=\"0\"> %u -o %o </span><span class=\"token comment\" data-token-index=\"0\">#-n 线程数 -a 打印进度</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -Syy</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"bcb4e230-7e23-401d-86d0-bab24a038ed3\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">加速aur</div></div></div></div><div data-block-id=\"132f74ef-a5fd-49f5-b764-1ec70e777531\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> /etc/makepkg.conf\n</span><span class=\"token comment\" data-token-index=\"0\"># 修改</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#-- The download utilities that makepkg should use to acquire sources</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#  Format: 'protocol::agent'</span><span data-token-index=\"0\">\n</span><span class=\"token assign-left variable\" data-token-index=\"0\">DLAGENTS</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">'file::/usr/bin/axel -a -n 8 %u -o %o'</span><span data-token-index=\"0\">\n          </span><span class=\"token string\" data-token-index=\"0\">'ftp::/usr/bin/axel -a -n 8 %u -o %o'</span><span data-token-index=\"0\">\n          </span><span class=\"token string\" data-token-index=\"0\">'http::/usr/bin/axel -a -n 8 %u -o %o'</span><span data-token-index=\"0\">\n          </span><span class=\"token string\" data-token-index=\"0\">'https::/usr/bin/axel -a -n 8 %u -o %o'</span><span data-token-index=\"0\">\n          </span><span class=\"token string\" data-token-index=\"0\">'rsync::/usr/bin/rsync --no-motd -z %u %o'</span><span data-token-index=\"0\">\n          </span><span class=\"token string\" data-token-index=\"0\">'scp::/usr/bin/scp -C %u %o'</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\n\n</span><span class=\"token comment\" data-token-index=\"0\">#DLAGENTS=('file::/usr/bin/curl -gqC - -o %o %u'</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#          'ftp::/usr/bin/curl -gqfC - --ftp-pasv --retry 3 --retry-delay 3 -o %o %u'</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#          'http::/usr/bin/curl -gqb \"\" -fLC - --retry 3 --retry-delay 3 -o %o %u'</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#          'https::/usr/bin/curl -gqb \"\" -fLC - --retry 3 --retry-delay 3 -o %o %u'</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#          'rsync::/usr/bin/rsync --no-motd -z %u %o'</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">#          'scp::/usr/bin/scp -C %u %o')</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c53d672f-a12a-4571-85a0-21c9d164781e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考：</div></div></div></div><div data-block-id=\"1636f966-c468-4d36-b5bc-3c95a71e8ee4\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.csdn.net/taotieren/article/details/82948731\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Arch Manjaro Linux Pacman 和 Aur 配置多线程下载_运维_饕餮人的博客-CSDN博客</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">Arch Linux Pacman 和yaourt配置多线程下载0x01 配置Pacman多线程下载运维</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fpublic%2Ffavicon.ico?table=block&amp;id=1636f966-c468-4d36-b5bc-3c95a71e8ee4&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://blog.csdn.net/taotieren/article/details/82948731</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fmedal%2Fyuanli_xuexili%40120.png?table=block&amp;id=1636f966-c468-4d36-b5bc-3c95a71e8ee4&amp;width=500&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"d6ca87aa-d9ec-4c06-9b49-329961cab49b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">问题：axel线程数多时，偶尔出现阻塞。</div></div></div></div><div data-block-id=\"da066ea1-30f0-49ba-93b6-28b35e031302\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"da066ea1-30f0-49ba-93b6-28b35e031302\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">添加archlinuxcn源</div></div></div><div data-block-id=\"45dc7d2b-c8c2-4ce4-b0a0-302ea3e02538\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">/etc/pacman.conf</span>尾添加：</div></div></div></div><div data-block-id=\"7c33a31f-8fd8-4998-b6b8-6e3333120df4\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">archlinuxcn</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\">\nSigLevel </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> Optional TrustAll\nServer </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/</span><span class=\"token variable\" data-token-index=\"0\">$arch</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ddfeb204-2c06-4246-a05e-ccc01b71b7d1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">再键入：</div></div></div></div><div data-block-id=\"3d3f341b-849f-4ba0-bfab-d5f66bb3d5c6\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">pacman -Syu yaourt yay archlinuxcn-keyring</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"7312e9ae-522b-49c4-855d-6f95de629ae2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">[可选]设置aur源：</div></div></div></div><div data-block-id=\"7e8804dd-5b26-4b33-96b8-8e6b4eb8ff04\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">yaourt 用户</span>\n修改<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">/etc/yaourtrc</span>，去掉 # AURURL 的注释，修改为:</div></div></div></div><div data-block-id=\"b42c95af-ecd8-4fbc-b5ba-daa21a23c292\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token assign-left variable\" data-token-index=\"0\">AURURL</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token string\" data-token-index=\"0\">\"https://aur.tuna.tsinghua.edu.cn\"</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"b4ae7691-ce42-48b5-bcb9-ef7121d240ab\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">yay用户</span></div></div></div></div><div data-block-id=\"cbbb70f2-5406-4b9c-93b3-1f7ea3cf1bbe\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">yay --aururl </span><span class=\"token string\" data-token-index=\"0\">\"https://aur.tuna.tsinghua.edu.cn\"</span><span data-token-index=\"0\"> --save</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ecb54838-6cc1-4172-bd40-520cc7d13a57\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://mirrors.tuna.tsinghua.edu.cn/help/AUR/\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">mirrors.tuna.tsinghua.edu.cn</div><div style=\"display: flex; margin-top: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://mirrors.tuna.tsinghua.edu.cn/help/AUR/</div></div></div></div></a></div></div></div><div data-block-id=\"dcaee64d-1669-4fa4-ada7-d1018f349984\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"dcaee64d-1669-4fa4-ada7-d1018f349984\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">常用软件</div></div></div><div data-block-id=\"4d786805-3273-47f5-b3b9-df542476dcd5\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">zsh</span> #推荐终端, 配合oh-my-zsh使用，安装可参考<a href=\"https://www.jianshu.com/p/d194d29e488c\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">这里</span></a></div></div></div></div></div><div data-block-id=\"90c9ae1b-6c47-4af6-9ed4-9384b4fcbd2d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">urxvt</span> #推荐终端，建议与zsh搭配，安装<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">pacman -S rxvt-unicode</span></div></div></div></div></div><div data-block-id=\"31204607-b7ea-48f3-bfb7-904bd65acabc\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">pcmanfm</span>\t#文件管理器</div></div></div></div></div><div data-block-id=\"7f568d66-3af2-490d-989e-6e8b8f46f0e9\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">htop</span>\t#进程查看器</div></div></div></div></div><div data-block-id=\"4e5b32a8-6c74-4dd5-bed4-1b8df861a9ad\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">gnome-system-monitor</span> #gnome的任务管理器，你可以选用deepin-system-monitor，或者htop替换</div></div></div></div></div><div data-block-id=\"a1cc18b1-5bc5-4fed-a6f0-be8825ed8706\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">lxappearance</span> #主题设置管理器，可下载<a href=\"https://www.gnome-look.org/browse/cat/135/order/latest/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">gitk3主题</span></a>使用，建议点击主题界面的github地址去安装。</div></div></div></div></div><div data-block-id=\"bcf5fc3b-d526-445e-a4de-49395deda21a\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">aria2+uget</span> #目前作为linux下的“idm”。uget-&gt;编辑-&gt;设置-&gt;插件-&gt;aria2</div></div></div></div></div><div data-block-id=\"bd85b7dc-9855-4826-bf86-546be538196b\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">neofetch</span> #终端下生成系统信息</div></div></div></div></div><div data-block-id=\"b9c6c5b0-4776-49b5-b1d6-3a79456eb725\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">netease-cloud-music</span> #网易云音乐，archlinuxcn包里<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">pacman -S netease-cloud-music</span></div></div></div></div></div><div data-block-id=\"6dd76e53-8d89-45bf-b53a-6c7157e0bc90\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">clash</span> #for linux版，见<a href=\"https://github.com/Dreamacro/clash\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">Dreamacro/clash</span></a> ，中文安装教程见<a href=\"https://www.jianshu.com/p/2906066d2e0a\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"4\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">这</span></a></div></div></div></div></div><div data-block-id=\"2b25a458-d62d-44a4-947d-08db6e5588dc\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">nm-applet</span> #网络连接管理图标，安装<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">yaourt network-manager-applet</span></div></div></div></div></div><div data-block-id=\"19fbc16f-1dd2-45ce-9d90-d575e9db29d3\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">alsa-utils</span> #linux声卡驱动支持</div></div></div></div></div><div data-block-id=\"d4626c54-b793-4271-8a4d-0617ea96f4a6\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">volumeicon</span> #音量托盘图标,支持键盘fn+xx减小音量（需要设置），也可选用pa-applet。</div></div></div></div></div><div data-block-id=\"ed0a002e-0026-43d0-9ff7-606bae250b65\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">mate-power-manager</span> #电源托盘图标，也可以选用xfce4-power-manager。</div></div></div></div></div><div data-block-id=\"61259f7b-f59b-4bda-b2dc-1a331bcf60fb\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">gedit</span> #gnome的文本编辑器</div></div></div></div></div><div data-block-id=\"4c098229-1ea6-49ab-a74e-63d38bee7d0e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">小书匠</span> #目前使用的md文本编辑器</div></div></div></div></div><div data-block-id=\"b0acff64-4b02-4ba3-b98d-62e294ed787e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">wps-office</span> #金山办公</div></div></div></div></div><div data-block-id=\"44546004-250a-40bd-af4d-55aff29ebb7e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">deepin-screenshot</span> #截屏工具</div></div></div></div></div><div data-block-id=\"180473b2-ecc0-4217-ae49-3efb24550833\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">xcompmgr</span> #可使终端透明</div></div></div></div></div><div data-block-id=\"ede5d37b-0aa9-471f-8145-c9be3d3bfaf7\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">mssql-server</span> #sql server on linux，aur包里，如何使用？参考<a href=\"https://docs.microsoft.com/zh-cn/sql/linux/quickstart-install-connect-ubuntu?view=sqlallproducts-allversions\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">这里</span></a></div></div></div></div></div><div data-block-id=\"adfdd7ae-ba23-45f8-8052-f1ba9ad22e17\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">jdk</span> #安装可参考<a href=\"https://blog.csdn.net/weixin_37602603/article/details/79532080\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">这里</span></a></div></div></div></div></div><div data-block-id=\"f9893832-ce71-40d8-a830-fe388ce7497b\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">gnome-screensaver</span> #锁屏工具，壁纸设置<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">gsettings set org.gnome.desktop.screensaver picture-uri file:///xxx/xxx.jpg</span></div></div></div></div></div><div data-block-id=\"62315af4-a5cd-4fad-87d9-77db160046da\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">Gwenview</span> #看图软件</div></div></div></div></div><div data-block-id=\"b4218987-8320-4993-ada8-405746397610\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">staruml</span> #画UML图工具，官网见<a href=\"http://staruml.io/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">这儿</span></a>，破解见<a href=\"https://www.jianshu.com/p/c196520b60a3\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"4\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">这儿</span></a></div></div></div></div></div><div data-block-id=\"940690af-aadc-44b7-956d-5baed79cf90e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">unarchiver</span> #解压缩的好工具，可以自动检测文件的编码</div></div></div></div></div><div data-block-id=\"25ffdfe8-f086-4a19-ad48-17dbd52f74d3\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">notion-app</span> # aur中的Notion for linux，arch用户需要安装额外字体以支持表情包或图标<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">sudo pacman -S noto-fonts-emoji ttf-joypixels</span>\n……</div></div></div></div></div><div data-block-id=\"11f8bb1d-ab16-4d29-bdf3-e8ec82732987\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"11f8bb1d-ab16-4d29-bdf3-e8ec82732987\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">其他</div></div></div><div data-block-id=\"c56bd44a-9ca9-4bce-be55-0a4128d7bc51\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"c56bd44a-9ca9-4bce-be55-0a4128d7bc51\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">搜狗输入法</div></div></div><div data-block-id=\"5ceaa79e-e9f7-439e-a58b-4abe9d2e974e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装相关包：</div></div></div></div><div data-block-id=\"76343dac-9e26-47f0-9afd-77eb88d7f7e1\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S fcitx-lilydjwg-git fcitx-sogoupinyin fcitx-configtool fcitx-qt5</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"86be8b3c-45ca-4167-88eb-0faadfa22b39\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">.pam_environment</span>中配置[第一次使用可能需要新建]:</div></div></div></div><div data-block-id=\"0731520e-ac2c-42a8-8271-091fa127dfe9\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token builtin class-name\" data-token-index=\"0\">export</span><span data-token-index=\"0\"> </span><span class=\"token assign-left variable\" data-token-index=\"0\">GTK_IM_MODULE</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">fcitx\n</span><span class=\"token builtin class-name\" data-token-index=\"0\">export</span><span data-token-index=\"0\"> </span><span class=\"token assign-left variable\" data-token-index=\"0\">QT_IM_MODULE</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">fcitx\n</span><span class=\"token builtin class-name\" data-token-index=\"0\">export</span><span data-token-index=\"0\"> </span><span class=\"token environment constant\" data-token-index=\"0\">XMODIFIERS</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">@im</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">fcitx</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"bc8ea13d-2124-4eee-a2b0-e4028038c7c0\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">启动fcitx，并在托盘中去配置启用搜狗</div></div></div></div><div data-block-id=\"1101cda2-9e5d-434b-b989-7b596da23133\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在awesomeWM的配置文件中自启<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">fcitx</span>：</div></div></div></div><div data-block-id=\"23464da8-fac5-4005-bb40-768f72d89b13\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">function</span><span data-token-index=\"0\"> run_once</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">prg</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n    awful.spawn.with_shell</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"pgrep -u </span><span class=\"token environment constant\" data-token-index=\"0\">$USER</span><span class=\"token string\" data-token-index=\"0\"> -x \"</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">..</span><span data-token-index=\"0\"> prg </span><span class=\"token punctuation\" data-token-index=\"0\">..</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\" || (\"</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">..</span><span data-token-index=\"0\"> prg </span><span class=\"token punctuation\" data-token-index=\"0\">..</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\")\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\nend\nrun_once</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"fcitx\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ea3dfa19-3c71-48f2-8987-12e22d9b86ad\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参见:</div></div></div></div><div data-block-id=\"1081967d-d12c-4ae8-954d-cf98ecce92fd\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.cnblogs.com/tonyc/p/8231667.html\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Archlinux安装搜狗拼音输入法</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">打开/etc/pacman.conf ，在末尾加上 [archlinuxcn] SigLevel = Optional TrustAll Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch //或者使用清华的镜像源 [archlinuxcn] SigLevel = Optional TrustAll Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch $ sudo pacman -S archlinuxcn-keyring 更新软件仓库 $ sudo pacman -Sy 由于搜狗拼音输入法依赖于Fcitx，在安装搜狗拼音输入法之前，需要先行安装Fcitx，在终端窗口下直接输入： $ sudo pacman -S fcitx 即可完成安装，需要注意的是，仅仅安装这一项是不够的，这样在安装完成之后，Fcitx基本上是处于不可用的状态，我们还需要安装以下几个包： $ sudo pacman -S fcitx-configtool $ sudo pacman -S fcitx-gtk2 fcitx-gtk3 fcitx-qt4 fcitx-qt5 在前一步中我们已经正确的配置了源，这里直接输入： $ sudo pacman -S fcitx-sogoupinyin // 安装配置工具 $ sudo pacman -S fcitx-configtool 安装完之后我们还不可以直接使用，还需要进行一定的配置，用文本编辑器打开~/.xprofile，没有就新建，在其末尾添加以下几行： export GTK_IM_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=\"@im=fcitx\" 然后注销后重新登录，或者重启后重新登录。 如果遇到登录之后输入法fcitx没有启动的问题，可以讲fcitx设置为自动启动，deepin桌面下右键fcitx的图片就能做到，gnome桌面可以用gnome-tweaks，也可以就简单的在.xprofile里面加一句fcitx。 更新日志 2018.01.07 创建 2018.08.30 修改添加软件源的部分，增加自动启动的部分</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwww.cnblogs.com%2Ffavicon.ico?table=block&amp;id=1081967d-d12c-4ae8-954d-cf98ecce92fd&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://www.cnblogs.com/tonyc/p/8231667.html</div></div></div></div></a></div></div></div><div data-block-id=\"c57c1563-709c-43dc-8129-b0849a6f76cb\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://zhuanlan.zhihu.com/p/74931620\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Arch Linux上搜狗输入法无法输入的解决方法</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">2019年8月22日更新： archlinux源fcitx-lilydjwg-git已更新至2:4.2.9.7.20190817-2版本，添加回fcitx-qt4，方法二可继续使用。 8月21日更新： ...</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fstatic.zhihu.com%2Fstatic%2Ffavicon.ico?table=block&amp;id=c57c1563-709c-43dc-8129-b0849a6f76cb&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://zhuanlan.zhihu.com/p/74931620</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fpic3.zhimg.com%2Fv2-b30b2e89d495c6a26c006ca5c7be6ee6_b.jpg?table=block&amp;id=c57c1563-709c-43dc-8129-b0849a6f76cb&amp;width=500&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"32a84a36-bc36-479e-adc2-5647c8e17d3a\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"32a84a36-bc36-479e-adc2-5647c8e17d3a\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">网络管理</div></div></div><div data-block-id=\"3a11c56f-858f-40f1-a776-96c9c3503392\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">使用NetworkManager</div></div></div></div><div data-block-id=\"193e1cdd-e3f7-4934-9c5b-3b1dcde91d10\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S networkmanager\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> systemctl </span><span class=\"token builtin class-name\" data-token-index=\"0\">enable</span><span data-token-index=\"0\"> NetworkManager --now </span><span class=\"token comment\" data-token-index=\"0\">#添加自启</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"aca094c0-a4ee-44bf-86bd-d63954dcf266\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">如果需要gui，可能还要安装：</div></div></div></div><div data-block-id=\"3f16f4d7-1d5d-4175-9919-630baf79e73b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">yaourt network-manager-applet</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"02116aef-a72f-4be5-948f-40057dffa513\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"02116aef-a72f-4be5-948f-40057dffa513\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装蓝牙组件</div></div></div><div data-block-id=\"9627c84e-06d8-40da-b0d0-94e7f465fbc5\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S blueman pulseaudio pulseaudio-alsa pulseaudio-bluetooth pavucontrol\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> systemctl </span><span class=\"token builtin class-name\" data-token-index=\"0\">enable</span><span data-token-index=\"0\"> bluetooth --now\npulseaudio -k                   </span><span class=\"token comment\" data-token-index=\"0\"># 确保没有pulseaudio启动</span><span data-token-index=\"0\">\npulseaudio --start              </span><span class=\"token comment\" data-token-index=\"0\"># 启动pulseaudio服务</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"bf05c3c9-e9f8-491a-bbbc-9bdddf453432\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">然后在托盘处点击蓝牙图标进行管理</div></div></div></div><div data-block-id=\"3b3e57c2-94b8-4d45-a2db-d1be223a6066\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考：</div></div></div></div><div data-block-id=\"b105e257-72a7-483e-80f7-53bae6f014d0\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.tencent.com/developer/article/1559535\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Archlinux之manjaro连接蓝牙音频设备无法使用</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">最近在manjaro上连接蓝牙音响发现无法使用蓝牙音响作为音频设备播放，网上查阅了相关资料安装了软件包以后问题得以解决。 安装软件包(额外注意pulseaudio-bluetooth-a2dp-gdm-fix包必须安装成功) sudo pacman -S bluez bluez-utils pulseaudio-bluetooth pavucontrol pulseaudio-alsa pulseaudio-bluetooth-a2dp-gdm-fix sudo systemctl enable bluetooth sudo systemctl start bluetooth pulseaudio -k # 确保没有pulseaudio启动 pulseaudio --start # 启动pulseaudio服务 到此重新打开软件播放音乐就可以了，如果还没有声音到如下设置中设置输出设备。 （额外记录）配置蓝牙(摘自archwiki) 启动bluetoothctl交互命令.可以输入 help 列出所有有效的命令.</div><div style=\"display: flex; margin-top: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://cloud.tencent.com/developer/article/1559535</div></div></div></div></a></div></div></div><div data-block-id=\"e623581b-800c-48ed-abaf-f50894e89c38\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"e623581b-800c-48ed-abaf-f50894e89c38\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">触摸板配置</div></div></div><div data-block-id=\"20bac989-61c3-4692-885e-d63d72b1c630\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">由于自带触摸板驱动致使，双触无法选择内容，而且双指滑动不是自然滚动方式，所以开始折腾。</div></div></div></div><div data-block-id=\"bc0418c2-e54a-46fe-82bf-9a8eb73602d9\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\"># 安装</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> gpasswd -a </span><span class=\"token environment constant\" data-token-index=\"0\">$USER</span><span data-token-index=\"0\"> input\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S libinput xf86-input-libinput\n</span><span class=\"token comment\" data-token-index=\"0\"># 复制配置文件</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> /usr/share/X11/xorg.conf.d/40-libinput.conf\n</span><span class=\"token comment\" data-token-index=\"0\"># 修改为：</span><span data-token-index=\"0\">\nSection </span><span class=\"token string\" data-token-index=\"0\">\"InputClass\"</span><span data-token-index=\"0\">\n        Identifier </span><span class=\"token string\" data-token-index=\"0\">\"libinput touchpad catchall\"</span><span data-token-index=\"0\">\n        MatchIsTouchpad </span><span class=\"token string\" data-token-index=\"0\">\"on\"</span><span data-token-index=\"0\">\n        MatchDevicePath </span><span class=\"token string\" data-token-index=\"0\">\"/dev/input/event*\"</span><span data-token-index=\"0\">\n        Driver </span><span class=\"token string\" data-token-index=\"0\">\"libinput\"</span><span data-token-index=\"0\">\n        Option </span><span class=\"token string\" data-token-index=\"0\">\"Tapping\"</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"on\"</span><span data-token-index=\"0\">\n        Option </span><span class=\"token string\" data-token-index=\"0\">\"ButtonMapping\"</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"1 3 0 4 5 6 7\"</span><span data-token-index=\"0\">\n        Option </span><span class=\"token string\" data-token-index=\"0\">\"TappingButtonMap\"</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"lmr\"</span><span data-token-index=\"0\">\n        Option </span><span class=\"token string\" data-token-index=\"0\">\"DisableWhileTyping\"</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"on\"</span><span data-token-index=\"0\">\n        Option </span><span class=\"token string\" data-token-index=\"0\">\"TappingDrag\"</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"on\"</span><span data-token-index=\"0\">\n        Option </span><span class=\"token string\" data-token-index=\"0\">\"NaturalScrolling\"</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"on\"</span><span data-token-index=\"0\">\nEndSection</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c5ceb2b5-54f2-4192-97a4-7b30be2586b9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">另外还需要安装<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">libinput-gestures</span>，来自定义一些手势（加入<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">.config/libinput-gestures.conf</span></div></div></div></div><div data-block-id=\"b2c1c789-6e08-41de-8952-f59bd7594319\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">gesture swipe right </span><span class=\"token number\" data-token-index=\"0\">4</span><span data-token-index=\"0\">   xdotool key alt+Left\ngesture swipe left </span><span class=\"token number\" data-token-index=\"0\">4</span><span data-token-index=\"0\">   xdotool key alt+Right\n</span><span class=\"token comment\" data-token-index=\"0\"># pinch</span><span data-token-index=\"0\">\ngesture pinch </span><span class=\"token keyword\" data-token-index=\"0\">in</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span data-token-index=\"0\"> xdotool key ctrl+minus </span><span class=\"token comment\" data-token-index=\"0\"># 2指捏: 缩小</span><span data-token-index=\"0\">\ngesture pinch out </span><span class=\"token number\" data-token-index=\"0\">2</span><span data-token-index=\"0\"> xdotool key ctrl+plus </span><span class=\"token comment\" data-token-index=\"0\"># 2指张: 放大</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\"># 四指滑动=左右切换工作区</span><span data-token-index=\"0\">\ngesture swipe right </span><span class=\"token number\" data-token-index=\"0\">3</span><span data-token-index=\"0\">   xdotool key super+Right\ngesture swipe left </span><span class=\"token number\" data-token-index=\"0\">3</span><span data-token-index=\"0\"> xdotool key super+Left\n\ngesture swipe up </span><span class=\"token number\" data-token-index=\"0\">4</span><span data-token-index=\"0\"> xdotool key F5\ngesture swipe down </span><span class=\"token number\" data-token-index=\"0\">4</span><span data-token-index=\"0\"> xdotool key ctrl+w</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Shell<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ae614a13-7f53-417d-b295-b6883bc74cd9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参见:</div></div></div></div><div data-block-id=\"7cfb8cf9-f03c-449f-b889-76a624697a11\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://segmentfault.com/a/1190000011327776\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">kde5与archlinux环境下配置libinput-gestures多手势操作</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">自己的笔记本是archlinux+kde plasma5的环境，看到同事的macbook pro支持很多 手势操作（gestures） ，自己也希望在archlinux和kde的环境下配置方便的手势操作。 查询资料后发现 touchegg和 libinput-gestures 都可以满足需求，但是在实际配置过程中，touchegg存在很多问题一直都没能解决，而libinput-gestures基本没有太大的问题。所以本文主要介绍如何配置libinput-gestures。 kde是X.Org桌面环境，aur上维护了一个基于X.Org Server的驱动xf86-input-libinput-git，很方便。它们间的关系如下： X11 client在我这里就是kde plasma5。 驱动程序libinput，linux生态提供了很多驱动，本文使用的驱动是libinput，它负责分析内核从输入设备得到的数据，发送给桌面环境，桌面环境根据不同的数据进行反馈。 touchpad：通常意义上的触摸板。 clickpad：指底部没有按钮的touchpad，参考clickpad。clickpad中通过不同手指数量的点击行为来模拟鼠标左键、中键、右键点击。这些都可以配置或者关闭。 click：点击，本文语境中之物理按钮的\"按压\"和\"释放\"。 Clickpad software button behavior：clickpad上软按钮的行为，详情见Clickpad software button behavior。 install basic libinput and xf86-input-libinput sudo gpasswd -a $USER input sudo pacman -S libinput xf86-input-libinput libinput有两种配置方式： 使用配置文件的永久配置方式 使用xinput命令行工具，针对运行时(runtime)进行实时配置，主要用来调试。 配置文件 libinput安装后默认的配置文件在/usr/share/X11/xorg.conf.d 目录下，如何你安装多个驱动，会存在多个文件： ➜ xorg.conf.d ll total</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fassets.segmentfault.com%2Fv-5e96b2a1%2Fglobal%2Fimg%2Ffavicon.ico?table=block&amp;id=7cfb8cf9-f03c-449f-b889-76a624697a11&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://segmentfault.com/a/1190000011327776</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"b0a2eaf4-9f0d-45d5-99d8-8b0c4b578f95\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"b0a2eaf4-9f0d-45d5-99d8-8b0c4b578f95\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">虚拟机安装</div></div></div><div data-block-id=\"71c0792d-c591-44dd-9ae9-e92796d3460c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参见:</div></div></div></div><div data-block-id=\"eb1e99e6-3580-4e8f-8d3c-13dedc7a60ac\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://www.mamicode.com/info-detail-2200831.html\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Manjaro下安装VirtualBox</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">sudo pacman -S virtualbox 这里需要选择与当前内核相同的内核模块比如笔者正在使用的内核版本为414，则需要安装linux414-virtualbox-host-modules sudo pacman -Ss virtualbox-ext-oracle #安装扩展包你也可以去官网下载扩展包 sudo gpasswd -a $USER vboxusers #添加当前用户到vboxusers 这里需要将$USER替换为你的用户名，如果不需要使用USB外设，可以不执行此操作。 重新启动系统或执行sudo modprobe vboxdrv 原文地址：https://www.cnblogs.com/zhuxiaoxi/p/8467181.html</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/http%3A%2F%2Fwww.mamicode.com%2Ffavicon.ico?table=block&amp;id=eb1e99e6-3580-4e8f-8d3c-13dedc7a60ac&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">http://www.mamicode.com/info-detail-2200831.html</div></div></div></div></a></div></div></div><div data-block-id=\"69a68016-bf36-46f3-b532-b11fcee104d9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">Virtualbox启动报错Kernel driver not installed (rc=-1908)：参见</div></div></div></div><div data-block-id=\"d807c4b2-145b-4b93-b8a2-b1019066b9fa\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.csdn.net/r8l8q8/article/details/73232359\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Linux(ArchLinux） 下Virtualbox启动报错Kernel driver not installed (rc=-1908)</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">Virtualbox安装完毕，能打开，但是新建虚拟器启动的时候报错：Kernel driver no运维</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fpublic%2Ffavicon.ico?table=block&amp;id=d807c4b2-145b-4b93-b8a2-b1019066b9fa&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://blog.csdn.net/r8l8q8/article/details/73232359</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://img-blog.csdn.net/20170614150615801?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcjhsOHE4/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"68775a6e-0aaf-4e43-8062-90672c8973d7\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"68775a6e-0aaf-4e43-8062-90672c8973d7\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">BUGS</div></div></div><div data-block-id=\"66c666a4-7a7d-4d3d-87c8-ceea64ab74cc\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"66c666a4-7a7d-4d3d-87c8-ceea64ab74cc\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">urxvt中Ctrl+Shift出现黄色警示ISO 14755/Keycap mode</div></div></div><div data-block-id=\"7096ee6a-e59a-42b7-852b-2c8dc26fbaf2\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://wiki.archlinux.org/index.php/rxvt-unicode\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">rxvt-unicode</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">rxvt-unicode is a customizable terminal emulator forked from rxvt. Features of rxvt-unicode include international language support through Unicode, transparency, the ability to display multiple font types and support for Perl extensions. See and for available settings and values. Rxvt-unicode is controlled by command-line arguments or Xresources.</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwiki.archlinux.org%2Ffavicon.ico?table=block&amp;id=7096ee6a-e59a-42b7-852b-2c8dc26fbaf2&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://wiki.archlinux.org/index.php/rxvt-unicode</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwiki.archlinux.org%2Fimages%2F8%2F87%2FTango-edit-clear.png?table=block&amp;id=7096ee6a-e59a-42b7-852b-2c8dc26fbaf2&amp;width=500&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"554d76cd-002e-48b6-8ada-7dfd77ee05ab\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"554d76cd-002e-48b6-8ada-7dfd77ee05ab\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">ArchLinux的启动菜单丢失Windows引导</div></div></div><div data-block-id=\"012f3997-3193-4538-b3ce-1e86fff33093\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参见</div></div></div></div><div data-block-id=\"3a4c3c58-8ad0-4c37-b904-33b649590c4a\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://tieba.baidu.com/p/1889004705?traceid=\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">tieba.baidu.com</div><div style=\"display: flex; margin-top: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">http://tieba.baidu.com/p/1889004705?traceid=</div></div></div></div></a></div></div></div><div data-block-id=\"5da8c351-90ae-4220-bfc6-90974a9ed24c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">的安装os-prober包\n也可参看arch衍生版Manjaro，选择重装grub：</div></div></div></div><div data-block-id=\"c3e2eaeb-d0ff-4879-81ec-1e5e3ebeb6ec\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://wiki.manjaro.org/index.php/Restore_the_GRUB_Bootloader#For_UEFI_Systems\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">GRUB/Restore the GRUB Bootloader</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">In order to boot Manjaro, a Linux-capable boot loader such as GRUB, rEFInd or Syslinux needs to be installed to the Master Boot Record (MBR) or the GUID Partition Table (GPT) of the media containing the Operating System. The boot loader used on official Manjaro installations and generaly suggested is GRUB.</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwiki.manjaro.org%2Ffavicon.ico?table=block&amp;id=c3e2eaeb-d0ff-4879-81ec-1e5e3ebeb6ec&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://wiki.manjaro.org/index.php/Restore_the_GRUB_Bootloader#For_UEFI_Systems</div></div></div></div></a></div></div></div><div data-block-id=\"575272de-1486-4f4c-860f-1d5cb55af83c\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"575272de-1486-4f4c-860f-1d5cb55af83c\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装deepin-wine-tim遇到32位依赖问题</div></div></div><div data-block-id=\"cb037d1f-4218-4d2e-9b89-fdc6381a85f1\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.csdn.net/u010255072/article/details/85105986\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">ArchLinux安装Deepin-Wine-TIM_u010255072的博客-CSDN博客</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">新安装了一个64位的ArchLinux系统，发现deepin.com.qq.office怎么都安装不</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fpublic%2Ffavicon.ico?table=block&amp;id=cb037d1f-4218-4d2e-9b89-fdc6381a85f1&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://blog.csdn.net/u010255072/article/details/85105986</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fmedal%2Fchizhiyiheng%40120.png?table=block&amp;id=cb037d1f-4218-4d2e-9b89-fdc6381a85f1&amp;width=500&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"d3992142-7159-46c8-a92e-5559e9dd664d\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"d3992142-7159-46c8-a92e-5559e9dd664d\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">麦克风无法捕捉声音（无法正常语音通话</div></div></div><div data-block-id=\"8a4e44f5-24ff-4902-ac39-10008094b33d\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://segmentfault.com/a/1190000002918394\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">ArchLinux安装完没有声音之解决办法</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">自己的机子是联想Y410p，之前安装完arch系统一直不能播放声音（桌面环境用的是 i3-wm ），自己又不懂得设置，今天对电脑进行配置，顺带把声音的问题解决了。 ALSA参照arch官网， wiki传送门 高级 Linux 声音体系（Advanced Linux Sound Architecture，ALSA）是Linux中提供声音设备驱动的内核组件，用来代替原来的开放声音系统（Open Sound System，OSSv3）。除了声音设备驱动，ALSA还包含一个用户空间的函数库，以方便开发者通过高级API使用驱动功能，而不必直接与内核驱动交互。 Arch 默认的内核已经通过一套模块提供了 ALSA，不必特别安装。 udev会在系统启动时自动检测硬件，并加载相应的声音设备驱动模块。这时，你的声卡已经可以工作了，只是所有声道默认都被设置成静音了。 目前版本的 ALSA 安装后，所有声道默认是静音的，必须手动解除。 使用 alsamixer 的 ncurses 界面，配置十分简单： 此外，还可以在命令行下使用 amixer： $ amixer sset Master unmute 在 alsamixer 中，下方标有 MM 的声道是静音的，而标有 00 的通道已经启用。 使用 ← 和 → 方向键，选中 Master 和 PCM 声道。按下 m 键解除静音。使用</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fassets.segmentfault.com%2Fv-5e96b2a1%2Fglobal%2Fimg%2Ffavicon.ico?table=block&amp;id=8a4e44f5-24ff-4902-ac39-10008094b33d&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://segmentfault.com/a/1190000002918394</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"8a4dc781-7b96-4dfa-b966-a36c49b7769b\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"8a4dc781-7b96-4dfa-b966-a36c49b7769b\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">满音量声音依然小</div></div></div><div data-block-id=\"52f7fe0b-a323-434b-a030-a13378657440\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参见</div></div></div></div><div data-block-id=\"653bc363-a04c-4c48-a1ea-514651024934\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://wiki.archlinux.org/index.php/Advanced_Linux_Sound_Architecture/Troubleshooting#Volume_is_too_low\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Advanced Linux Sound Architecture/Troubleshooting</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">If speaker-test produces sound but some other program does not, determine whether PulseAudio is being used: # fuser -v /dev/snd/* If it is, try using , as described in Advanced Linux Sound Architecture#PulseAudio compatibility. Alternatively, killing the PulseAudio process may cause sound to start working in the desired process.</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwiki.archlinux.org%2Ffavicon.ico?table=block&amp;id=653bc363-a04c-4c48-a1ea-514651024934&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://wiki.archlinux.org/index.php/Advanced_Linux_Sound_Architecture/Troubleshooting#Volume_is_too_low</div></div></div></div></a></div></div></div><div data-block-id=\"819b0f65-d093-43f8-ad2f-6708d8e61bb8\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"819b0f65-d093-43f8-ad2f-6708d8e61bb8\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">wifi开关不能打开(rfkill list all显示wifi被block)</div></div></div><div data-block-id=\"c02fc19d-d6ee-4f9a-9225-bfb086466f6d\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.jianshu.com/p/e513b515149f\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">联想拯救者 + ubuntu16.04 + WIFI设置</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">问题一 1.1 问题描述 笔记本型号：Lenovo r720笔记本（i5-7300hq，gtx1060 maxq 6g），默认装入Win10系统，然而当装入Ubuntu16.04双系统时，会出现无线网卡（型号：RTL8821AE）被hard blocked问题。 即： 在终端敲入： rfkill list all 会出现： 0:ideapad_wlan: Wireless LAN Soft blocked: no Hard blocked:yes 1:ideapad_bluetooth: Bluetooth Soft blocked: no Hard blocked: yes 2:phy0: Wireless LAN Soft blocked: no Hard blocked:no 3:hci0: Bluetooth Soft blocked: yes Hard blocked: no 可以看到，优先级前的ideapad_wlan的Hard blocked 默认为yes，即ubuntu默认关闭了硬件wifi开关，而联想R720的wifi只有软件开关，没有硬件开关的启动，所以引起了wifi无法开启的问题。 1.2 解决方法 从无线模块的显示列表可以看出，序号2的wifi模块是软硬件是可以启动的，所以，只要将前面默认的模块移出即可。 a）方法一： 1）移出ideapad无线模块： sudo modprobe -r ideapad_laptop 2）使用命令查看： rfkill list all 如下提示： 2:phy0: Wireless LAN Soft blocked: no Hard blocked:no 3:hci0: Bluetooth Soft blocked: yes Hard blocked: no 即wifi模块工作正常，然而每次重启ubuntu系统都要重新进行模块移出，故可将该命令设置为开机自启动。 3）在/etc/rc.local文件中添加命令： #!/bin/sh -e # # rc.local # # This script is executed at the end of each multiuser runlevel.</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"data:image/vnd.microsoft.icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAABILAAASCwAAAAAAAAAAAAAAAAAASWTtHEhh5qZIYObmSGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDm5khh5qZJZO0cAAAAAElk7RxIYeXtSGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hh5e1JZO0cSGHmpkhg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hh5qZIYObmSGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDm5khg5f9IYOX/SGDl/0hg5f9IYOX/ipnu/5qn8P9qfen/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/TWTl/5qn8P+grfH/nKnx/3iJ6/9JYeX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////T2/f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f99juz//////////////////////8vS9/9LY+X/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8LK9v///////f3+/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/2l96f+hrfH/o6/x/9HX+P///////////5Gg7/9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/wsr2///////9/f7/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/Vmzn////////////usP1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////39/v9IYOX/SGDl/46d7v/+/v7//v7+//7+/v/+/v7//v7+//7+/v/+/v7/8fP9/8LK9v9keOn/SGDl/0hg5f9JYeX///////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8LK9v///////f3+/0hg5f9IYOX/j53v////////////ydD3/6ax8v+msfL/prHy/6248//t8Pz//////+/x/P9dcuj/SGDl/0lh5f///////////73G9f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/wsr2///////9/f7/SGDl/0hg5f+Pne////////////+RoO//SGDl/0hg5f9IYOX/SGDl/5Kg7////////////56q8f9IYOX/SWHl////////////vcb1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////39/v9IYOX/SGDl/4+d7////////////5Oh7/9JYeX/SWHl/0lh5f9JYeX/h5fu////////////ucL1/0hg5f9JYeX///////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8LK9v///////f3+/0hg5f9IYOX/j53v//////////////////////////////////////////////////////+4wfX/SGDl/0lh5f///////////73G9f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/wsr2///////9/f7/SGDl/0hg5f+Pne/////////////g5Pr/xs32/8bN9v/Gzfb/xs32/9jd+f///////////7fB9P9IYOX/SWHl////////////vcb1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////39/v9IYOX/SGDl/4+d7////////////5uo8P9IYOX/SGDl/0hg5f9IYOX/gZHt////////////t8D0/0hg5f9JYeX///////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8LK9v///////f3+/0hg5f9IYOX/j53v////////////m6jw/0hg5f9IYOX/SGDl/0hg5f+Bke3///////////+2wPT/SGDl/0lh5f///////////73G9f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/wsr2///////9/f7/SGDl/0hg5f+Pne///////////////////////////////////////////////////////7W/9P9IYOX/SWHl////////////vcb1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////39/v9IYOX/SGDl/4WV7f/l6Pv/5ej7/+Xo+//l6Pv/5ej7/+Xo+//l6Pv/5ej7/+Xo+//l6Pv/pbHy/0hg5f9JYeX///////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/2h86f96i+z/eozs/7S+9P/K0ff/p7Ly/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0lh5f///////////73G9f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9gdej///////////+8xfX/bYDq/5il8P+YpfD/mKXw/5il8P+YpfD/mKXw/5il8P+YpfD/mKXw/5il8P+YpfD/mafw////////////vcb1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/7zF9f//////9fb9/1906P/P1fj///////////////////////////////////////////////////////////////////////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/oK3x/1Rq5v9/kOz///////z9/v99juz/SGDl/6u28//AyPb/wMj2/8DI9v/K0ff/4eX6/8DI9v/AyPb/wMj2/8DI9v/AyPb/wMj2/8DI9v/AyPb/wMj2/5Wj8P9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/8/f7/9fb9/6248/9Uaub/TWTl/0hg5f9/kOz/6Ov7/+Hl+v9ccuf/SGDl/3WH6///////vMX1/1Fo5v9IYOX/SGDl/0hg5f/L0vf/9/j9/8TL9v9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/6Ov8f/6+/7//////87U+P9PZub/SGDl/7rD9f//////9fb9/05l5f9IYOX/YXXo/+7w/P//////3eL6/1lu5/9IYOX/TWTl//f4/f//////rbjz/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/22A6v/09v3//////9fc+f+Zp/D/9vf9///////Y3fn/j53v/5Si7/+Wo/D/Znrp/93i+v//////3uL6/5mn8P+yvPT///////////+yvPT/mafw/5mn8P96i+z/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/32O7P////////////////////////////////////////////////+cqfH/X3To//r7/v////////////////////////////////////////////Hz/f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8zT9////////////2l86f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/usP1////////////iJju/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/jJvu////////////kZ/v/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9/kOz///////////+eqvH/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5uZIYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9KYeX/SmHl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYObmSGHmpkhg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hh5qZJZO0cSGHl7Uhg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYeXtSWTtHAAAAABJZO0cSGHmpkhg5uZIYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYObmSGHmpklk7RwAAAAAgAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAE=\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://www.jianshu.com/p/e513b515149f</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"d4244820-9fa1-4cc1-bda1-44b3b64df79c\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"d4244820-9fa1-4cc1-bda1-44b3b64df79c\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">无法自动挂载windows分区&amp;U盘</div></div></div><div data-block-id=\"8f4ecb3f-e47c-48d5-bd5b-324f47ce422c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">使用情况：\n1.在pcmanfm或thunar无Windows分区卷标\n2.打开分区显示<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">not authorized to perform operation</span>\n3.挂载后显示<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">permission denied</span>\n4.挂载u盘失败出现错误：<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">mount:unknown filesystem type 'exfat'</span>\n解决方案：</div></div></div></div><div data-block-id=\"34ce691e-1408-477e-9134-4b0f92c7455f\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">pacman -S gvfs polkit exfat-utils ntfs-3g\nsystemctl </span><span class=\"token builtin class-name\" data-token-index=\"0\">enable</span><span data-token-index=\"0\"> udisks2.service</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"6dd555fb-2999-4d19-9bb1-162b07728195\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">修改<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">/etc/polkit-1/rules.d/</span>目录 下的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">50-default.rules</span>文件。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">sudo su</span>后，<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">cd /etc/polkit-1/rules.d/</span>，再<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">vim 50-default.rules</span>, 加入以下内容：</div></div></div></div><div data-block-id=\"9a73dd7f-a301-4c44-82cc-63226cee66e1\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">polkit.addRule</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">function</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">action, subject</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n   </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">action.id.indexOf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"org.freedesktop.udisks\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n           </span><span class=\"token builtin class-name\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> polkit.Result.YES</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n       </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"b1d4caaa-e902-498b-95b7-c4c9a848eaf2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">此处参考：\n<a href=\"https://wiki.archlinux.org/index.php/PCManFM#%22Not_authorized%22_error_when_attempting_to_mount_drive\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://wiki.archlinux.org/index.php/PCManFM#\"Not_authorized\"_error_when_attempting_to_mount_drive</span></a><a href=\"https://wiki.archlinux.org/index.php/NTFS-3G_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://wiki.archlinux.org/index.php/NTFS-3G_(简体中文)</span></a><a href=\"https://zhouxiaobo.wordpress.com/2014/03/22/archlinux%E4%B8%AD%E4%BD%BF%E7%94%A8%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD%E5%87%8F%E5%B0%91%E8%B4%9F%E6%8B%85/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"3\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://zhouxiaobo.wordpress.com/2014/03/22/archlinux中使用自动挂载减少负担/</span></a></div></div></div></div><div data-block-id=\"d2ee5cc0-5f54-4681-ac95-31abc9ba6e0a\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"d2ee5cc0-5f54-4681-ac95-31abc9ba6e0a\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">搜狗候选框黑边修复</div></div></div><div data-block-id=\"cc182847-9450-498d-a359-c8f88a7f437e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">xcompmgr</span>即可。\n参考</div></div></div></div><div data-block-id=\"6d99d2ee-ed82-4db4-8e38-4eb3b494975e\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://my.oschina.net/qsjfighting/blog/223699\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Linux版搜狗输入法黑框解决办法 - danielqsj's Blog - OSCHINA</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">Linux版搜狗输入法黑框解决办法</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fstatic.oschina.net%2Fnew-osc%2Fimg%2Ffavicon.ico?table=block&amp;id=6d99d2ee-ed82-4db4-8e38-4eb3b494975e&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://my.oschina.net/qsjfighting/blog/223699</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Foscimg.oschina.net%2Foscnet%2Fup-551a0f196e1f4c9fda9713c8e5f0752cf45.png?table=block&amp;id=6d99d2ee-ed82-4db4-8e38-4eb3b494975e&amp;width=500&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"4f03a94d-f9e7-421d-a264-26e5bb3189c7\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"4f03a94d-f9e7-421d-a264-26e5bb3189c7\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">deepin.com.qq.im无法打开</div></div></div><div data-block-id=\"6653c0f2-3fa7-4b5d-826e-a063aaeaca8d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">显示：<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">X Error of failed request: BadWindow (invalid Window parameter) Major opcode of failed request: 20 ……</span>\n详情见：</div></div></div></div><div data-block-id=\"be562346-dec3-48e5-a565-f6f316f19b62\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://extendswind.top/posts/technical/deepin_wine_run_in_not_gnome_desktop_environment/\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">在非gnome系桌面环境下运行deepin-wine tim的错误解决 * A Notebook of Extendswind</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">i3wm, kde, awesome等桌面管理器或桌面环境里运行基于deepin-wine的qq和tim时，会出现下面的错误 X Error of failed request: BadWindow (invalid Window parameter) Major opcode of failed request: 20 (X_GetProperty) 在gnome、mate、cinnamon三个桌面上运行较好，xfce4上运行有少许焦点上的bug，其它桌面环境和管理器下直接出上面的错误。 最近终于在aur上看到是因为deepin-wine依赖了gnome-settings-daemon（gnome系的cinnamon和mate的对应组件也能用），启动后就能正常运行，但AwesomeWM会使用xsettings对应的主题，KDE基本正常运行，其它非gnome系的桌面环境未测试。 解决方案 1. 安装gnome-settings-daemon (arch 系） sudo pacman -S gnome-settings-daemon ubuntu 下的包和运行的程序名略不一样，参考： https://github.com/wszqkzqk/deepin-wine-ubuntu/issues/12#issuecomment-443656358 2. 在tim启动脚本中加入启动 /opt/deepinwine/apps/Deepin-TIM/run.sh 的文件前添加下面的行： /usr/lib/gsd-xsettings &amp; 注意 主要缺点--影响主题（某些桌面环境） AwesomeWM在使用xsettings之后，主题等需要与对应的xsettings设置相对应。如使用gnome-settings-daemon时，需要在gnome的设置里更改主题。使用lxappearance修改主题只会更改~/.gtkrc-2.0等文件，不会生效。 csd-xsettings 的影响 因为大小和简洁的原因从gnome的xsettings换到了cinnamon的xsettings，下面的设置在gsd-xsettings上未测试。 csd-xsettings 主要影响两个地方：1. 启动过程； 2.</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fextendswind.top%2Fimages%2Fwind.jpeg?table=block&amp;id=be562346-dec3-48e5-a565-f6f316f19b62&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://extendswind.top/posts/technical/deepin_wine_run_in_not_gnome_desktop_environment/</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fextendswind.top%2Fimages%2Fwind.jpeg?table=block&amp;id=be562346-dec3-48e5-a565-f6f316f19b62&amp;width=500&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"a159f4c9-8365-4bee-b2ba-7278574e1cda\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装</div></div></div></div><div data-block-id=\"fcd52a31-0aa6-4108-8333-6733a9fdc71d\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S gnome-settings-daemon cinnamon</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"53f017b0-a524-410a-a336-aaeb00e23ffe\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">使开机运行：</div></div></div></div><div data-block-id=\"3586bbe2-792c-4053-b20c-727d0e1a990e\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">/usr/lib/cinnamon-settings-daemon/csd-xsettings</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"0ee0515d-12ad-4917-bfa9-ebcc66c8529b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">更多请参考：</div></div></div></div><div data-block-id=\"8dc6d4c3-dc6b-4fec-b7fc-f31591e73bfc\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><a href=\"http://www.waimaosns.cc/arch-linux-i3wm-run-deepin-qq-tim/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"0\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">http://www.waimaosns.cc/arch-linux-i3wm-run-deepin-qq-tim/</span></a></div></div></div></div><div data-block-id=\"a1b9f672-0472-4e3c-be43-43d11770ad89\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><a href=\"https://extendswind.top/posts/technical/tim_install_wine/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"0\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://extendswind.top/posts/technical/tim_install_wine/</span></a></div></div></div></div><div data-block-id=\"a13fd4c3-6199-4f37-88c8-c5cb638f6f16\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"a13fd4c3-6199-4f37-88c8-c5cb638f6f16\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">HDMI外接显示器无法使用(Nvidia显卡驱动折腾)</div></div></div><div data-block-id=\"2bce96d9-6dc1-400a-81f1-835b93e133d8\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">由于在不懂如何解决此问题之前，深觉驱动独显操作之复杂，又因本人重装Arch次数较少，因而暂未探索出较明确的方案，下面给出参考文章，并说明本人上次是如何成功外接显示器。\n我先参考了此篇文章<a href=\"https://www.cnblogs.com/tonyc/p/7732119.html\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://www.cnblogs.com/tonyc/p/7732119.html</span></a>安装了闭源驱动，但外接显示器仍未成功。\n然后参考<a href=\"https://www.cnblogs.com/tsreaper/p/arch-config.html\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"3\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://www.cnblogs.com/tsreaper/p/arch-config.html</span></a>折腾起了nvidia-xrun，然而tty下执行nvidia-xrun后报错，失败。\n最后安装官方文档<a href=\"https://wiki.archlinux.org/index.php/Nvidia-xrun_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"5\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://wiki.archlinux.org/index.php/Nvidia-xrun_(简体中文)</span></a>走了一遍流程，阅读到最后的“运行nvidia-xrun [app]”，于是执行<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">nvidia-xrun awesome</span>，外接显示屏被点亮了。\n此处较乱，计划再下一次重装系统后整理。</div></div></div></div><div data-block-id=\"4e32236e-3a1f-4245-9153-8e86b6db45f0\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">2019-12-06:\n参考<a href=\"https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Using_optimus-manager\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Using_optimus-manager</span></a>此处，安装<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">nvidia</span>驱动，然后安装<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">optimus-manager</span>，然后<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">systemctl enable optimus-manager.service</span>，最后安装<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">nvidia-xrun</span>。</div></div></div></div><div data-block-id=\"6d711085-a91c-4464-9c93-ee33c8b8ea0c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">于是步骤简单如下：</div></div></div></div><div data-block-id=\"056053ca-652c-4882-a8dd-38acea36070e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装驱动以及nvidia-xrun</div></div></div></div><div data-block-id=\"ae4f3572-4357-4697-95e7-a98e694bf034\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S nvidia nvidia-utils nvidia-settings\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S optimus-manager-qt\nyay nvidia-xrun-git</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"527f5e88-39ee-4b30-8ce2-eb3062da758d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">禁用开源nouveau独显驱动</div></div></div></div><div data-block-id=\"163349cb-1ae3-4695-922b-46625900537d\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">vim</span><span data-token-index=\"0\"> /etc/modprobe.d/nouveau_blacklist.conf\n</span><span class=\"token comment\" data-token-index=\"0\"># 添加</span><span data-token-index=\"0\">\nblacklist nouveau</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"cd6d6030-c5ed-445b-8ed5-2e5f72439a13\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">重启后，在tty下<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">nvidia-xrun awesome</span>就能使用独显开启hdmi显示</div></div></div></div><div data-block-id=\"1a9fbfae-c242-4b4c-84bb-6eb071bf2b64\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">2020-05-27:　貌似来自optimus-manager-qt的bug使得NVIDIA显卡在xorg下登录tty后，无法正常运行，因而参考下面的文章：</div></div></div></div><div data-block-id=\"e3d9ffd4-89bb-450f-b9cc-4ed99cf47d14\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://bbs.chinauos.com/forum.php?mod=viewthread&amp;tid=1194&amp;extra=\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">双显卡（I+N）支持问题</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">双显卡（I+N）支持问题 ,UOS Community</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/http%3A%2F%2Fbbs.chinauos.com%2Ffavicon.ico?table=block&amp;id=e3d9ffd4-89bb-450f-b9cc-4ed99cf47d14&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">http://bbs.chinauos.com/forum.php?mod=viewthread&amp;tid=1194&amp;extra=</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"22341eb0-40fb-45ed-a335-f9b3a61fa2a2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">总结步骤：</div></div></div></div><div data-block-id=\"902c8d51-b410-4976-bebb-7877fb66880f\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S nvidia nvidia-utils nvidia-settings\nnvidia-xconfig </span><span class=\"token comment\" data-token-index=\"0\">#生成 /etc/X11/xorg.con配置</span><span data-token-index=\"0\">\nyay nvidia-xrun-git\n\n</span><span class=\"token comment\" data-token-index=\"0\"># 禁用nouveau 我不确定这步是否有意义，因为Archlinux貌似没有自动安装nouveau包</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">vim</span><span data-token-index=\"0\"> /etc/modprobe.d/nouveau_blacklist.conf\n</span><span class=\"token comment\" data-token-index=\"0\"># 添加</span><span data-token-index=\"0\">\nblacklist nouveau\n\n</span><span class=\"token comment\" data-token-index=\"0\"># 查看nvidia PCI ID</span><span data-token-index=\"0\">\nlspci </span><span class=\"token operator\" data-token-index=\"0\">|</span><span class=\"token function\" data-token-index=\"0\">grep</span><span data-token-index=\"0\"> NVIDIA </span><span class=\"token comment\" data-token-index=\"0\">#01:00.0</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\"># 配置nvidia BusID</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">vim</span><span data-token-index=\"0\"> /etc/X11/xorg.conf.d/20-nvidia.conf\n</span><span class=\"token comment\" data-token-index=\"0\"># 添加</span><span data-token-index=\"0\">\nSection </span><span class=\"token string\" data-token-index=\"0\">\"Module\"</span><span data-token-index=\"0\">\n        Load </span><span class=\"token string\" data-token-index=\"0\">\"modesetting\"</span><span data-token-index=\"0\">\nEndSection\nSection </span><span class=\"token string\" data-token-index=\"0\">\"Device\"</span><span data-token-index=\"0\">\n        Identifier </span><span class=\"token string\" data-token-index=\"0\">\"nvidia\"</span><span data-token-index=\"0\">\n        Driver </span><span class=\"token string\" data-token-index=\"0\">\"nvidia\"</span><span data-token-index=\"0\">\n        BusID </span><span class=\"token string\" data-token-index=\"0\">\"PCI:1:0:0\"</span><span data-token-index=\"0\">      \n        Option </span><span class=\"token string\" data-token-index=\"0\">\"AllowEmptyInitialConfiguration\"</span><span data-token-index=\"0\">\nEndSection</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"80d8dd96-c1ea-4eda-9603-1ceb366de3f2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">下次重启后，可使用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">nvidia-xrun awesome</span>开启双显示器</div></div></div></div><div data-block-id=\"2faa07c2-2553-45af-9c32-6822fb02d216\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"2faa07c2-2553-45af-9c32-6822fb02d216\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">与Win的时间相差8小时</div></div></div><div data-block-id=\"9327742c-f4b2-4f5c-936b-503f98d16d92\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">时间同步问题参考</div></div></div></div><div data-block-id=\"e3dcd639-217a-4f7d-bc9f-772e6631aad8\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.csdn.net/lalala323/article/details/96473754?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Manjaro(archLinux)系统时间快8小时_运维_lalala323的博客-CSDN博客</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">不知道为什么,之前还好好的,但是突然打开电脑的时候时间快了8小时,解决方案如下:设置时区:sudol运维</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fpublic%2Ffavicon.ico?table=block&amp;id=e3dcd639-217a-4f7d-bc9f-772e6631aad8&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://blog.csdn.net/lalala323/article/details/96473754?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"40fc2d84-b540-4689-b0f1-04dadbdb6b4d\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">ln</span><span data-token-index=\"0\"> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime </span><span class=\"token comment\" data-token-index=\"0\"># 设置时区</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> pacman -S openntpd </span><span class=\"token comment\" data-token-index=\"0\"># 安装openNTPD</span><span data-token-index=\"0\">\nsystemctl </span><span class=\"token builtin class-name\" data-token-index=\"0\">enable</span><span data-token-index=\"0\"> openntpd --now </span><span class=\"token comment\" data-token-index=\"0\"># 设置开机启动</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"4b782fb8-9e76-4454-b994-e9c16fc98056\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"4b782fb8-9e76-4454-b994-e9c16fc98056\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">代理上网</div></div></div><div data-block-id=\"87d40459-870c-4d9a-a73a-47096c3a46a3\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">方案一 clash</span></div></div></div></div><div data-block-id=\"cdeea9ca-378d-41ef-b273-2fd16895f5d7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">使用clash</span> for linux版，见<a href=\"https://github.com/Dreamacro/clash\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">Dreamacro/clash</span></a> ，中文安装教程见<a href=\"https://www.jianshu.com/p/2906066d2e0a\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"4\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">这</span></a></div></div></div></div><div data-block-id=\"e3023bc8-4104-485f-b926-504038d76581\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"9a418c0f-40a2-44cb-bbde-58d832298421\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">方案二 Qv2ray</span></div></div></div></div><div data-block-id=\"f5038fac-70ca-46ae-b25c-f1db450023ec\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">可以参考如下文章：</div></div></div></div><div data-block-id=\"59052cfd-b606-423b-bf57-fe7244b261d3\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://mahongfei.com/1776.html\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Linux配置v2ray详细教程-Ubuntu为例</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">v2ray科学上网的话，windows平台我们可以使用clash，v2rayN等软件，mac的话可以使用clashX等，但是对于linux平台，我们的选择比较少了就，今天介绍一款linux上很好用的图形话界面科学上网工具-Qv2ray。 简介：🌟 Linux/Windows/macOS 跨平台 v2ray GUI 🔨 使用 c++ 编写，支持订阅，扫描二维码，支持自定义路由编辑 🌟。使用 Qt 框架的跨平台 v2ray 客户端。支持 Windows, Linux, macOS。 这是github页面的作者简介，下面来看下linux上面配置教程。-本教程基于Ubuntu哦。其他Linux平台类似。 1：下载 V2ray客户端，这里以最简单的 AppImage 文件为例,下载链接： https://github.com/Qv2ray/Qv2ray/releases/download/v1.99.6/Qv2ray-refs.tags.v1.99.6-linux.AppImage 或者打开网站： https://github.com/Qv2ray/Qv2ray/releases/tag/v1.99.6 选择下图文件 注意：建议下载1.99.6及以上版本，其它版本可能出现找不到openssl库。 2：下载核心文件，下载链接： https://github.com/v2ray/v2ray-core/releases/download/v4.22.1/v2ray-linux-64.zip 或者打开网站： https://github.com/v2ray/v2ray-core/releases/ 选择下图文件 3:进入v2ray下载的根目录，执行以下命令： sudo chmod +x ./Qv2ray-refs.tags.v1.99.6-linux.AppImage 4:仍然在v2ray根目录下打开终端，输入以下命令： sudo ./Qv2ray-refs.tags.v1.99.6-linux.AppImage 执行4后会出现主界面，点击 首选项 在常规设置里面按照图示操作,最后点击ok保存： 6：回到主界面，点击订阅： 然后按照下图要求填入相应内容,然后点击ok： 进入网站-&gt;个人中心，按照下图说明复制链接到上图中： 将软件的代理模式打开，如下图所示； 7:一切准备好后点击主界面的连接，开始科学上网 墙外的世界在欢迎你!</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcdn.mahongfei.com%2Fwp-content%2Fuploads%2F2019%2F11%2F1573280906-logo2.png?table=block&amp;id=59052cfd-b606-423b-bf57-fe7244b261d3&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://mahongfei.com/1776.html</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"9df567a5-9991-427b-883a-ec2e2cec4ed3\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">步骤总结如下：</div></div></div></div><div data-block-id=\"fa93c68a-cfcc-464b-aaaf-e552209f7f09\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">下载Qv2ray客户端，<a href=\"https://github.com/Qv2ray/Qv2ray/releases/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://github.com/Qv2ray/Qv2ray/releases/</span></a></div></div></div></div></div><div data-block-id=\"78052ea4-d355-4c02-8f42-ca3aee87839e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">下载v2ray-core核心文件，<a href=\"https://github.com/v2ray/v2ray-core/releases\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://github.com/v2ray/v2ray-core/releases</span></a></div></div></div></div></div><div data-block-id=\"f259ef5e-8eed-4dd1-8c47-1f022f60df59\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">将v2ray-core移动到Qv2ray的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">v2ray设置</span>的指定目录中（默认为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">~/.config/Qv2ray/vcore</span>）。</div></div></div></div></div><div data-block-id=\"65f812fc-cd7a-4baa-bf9b-55e8c3d537d4\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">在Qv2ray中添加订阅链接。</div></div></div></div></div><div data-block-id=\"a3a34387-ac3c-4d29-93c7-b2c63ab03b99\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"500afc82-07d0-4387-b17d-27c3ed566a9b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">代理设置</span></div></div></div></div><div data-block-id=\"5ed06f90-558c-4175-a74d-4253c4a10f70\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">目前终端采用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">proxychains-ng</span>，通过终端输入命令<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">proxychains &lt;Application&gt;</span>启动应用，但由于<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">google chrome</span>出现无法终端下通过<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">proxychains</span>打开，因此参考<a href=\"https://github.com/rofl0r/proxychains-ng/issues/45#issuecomment-397138270\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"9\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">here</span></a>，另寻解决方案如下：</div></div></div></div><div data-block-id=\"7304145e-d812-43d4-962f-3bb270005d35\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token builtin class-name\" data-token-index=\"0\">cd</span><span data-token-index=\"0\"> </span><span class=\"token variable\" data-token-index=\"0\">$(</span><span class=\"token function\" data-token-index=\"0\">dirname</span><span class=\"token variable\" data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">$(</span><span class=\"token variable\" data-token-index=\"0\">whereis google-chrome-stable </span><span class=\"token operator\" data-token-index=\"0\">|</span><span class=\"token function\" data-token-index=\"0\">cut</span><span class=\"token variable\" data-token-index=\"0\"> -d</span><span class=\"token string\" data-token-index=\"0\">' '</span><span class=\"token variable\" data-token-index=\"0\"> -f2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token variable\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">cp</span><span data-token-index=\"0\"> google-chrome-stable mychrome\n</span><span class=\"token function\" data-token-index=\"0\">sudo</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> mychrome</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"8bc8c3e9-8997-437c-ab37-11055f8ba20d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">将内容改为其下：</div></div></div></div><div data-block-id=\"d1b994fc-cccb-42e1-bc78-2e2996f6f304\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token shebang important\" data-token-index=\"0\">#!/bin/bash</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">function</span><span data-token-index=\"0\"> _start-with-</span><span class=\"token function-name function\" data-token-index=\"0\">proxy</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token builtin class-name\" data-token-index=\"0\">export</span><span data-token-index=\"0\"> </span><span class=\"token assign-left variable\" data-token-index=\"0\">SOCKS_SERVER</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">127.0</span><span data-token-index=\"0\">.0.1:7891\n    </span><span class=\"token builtin class-name\" data-token-index=\"0\">export</span><span data-token-index=\"0\"> </span><span class=\"token assign-left variable\" data-token-index=\"0\">SOCKS_VERSION</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">5</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n_start-with-proxy\n\n</span><span class=\"token comment\" data-token-index=\"0\"># Allow users to override command-line options</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\"> -f ~/.config/chrome-flags.conf </span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">then</span><span data-token-index=\"0\">\n   </span><span class=\"token assign-left variable\" data-token-index=\"0\">CHROME_USER_FLAGS</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token string\" data-token-index=\"0\">\"</span><span class=\"token variable\" data-token-index=\"0\">$(</span><span class=\"token function\" data-token-index=\"0\">cat</span><span class=\"token variable\" data-token-index=\"0\"> ~/.config/chrome-flags.conf</span><span class=\"token variable\" data-token-index=\"0\">)</span><span class=\"token string\" data-token-index=\"0\">\"</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">fi</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\"># Launch</span><span data-token-index=\"0\">\n</span><span class=\"token builtin class-name\" data-token-index=\"0\">exec</span><span data-token-index=\"0\"> /opt/google/chrome/google-chrome </span><span class=\"token variable\" data-token-index=\"0\">$CHROME_USER_FLAGS</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"</span><span class=\"token variable\" data-token-index=\"0\">$@</span><span class=\"token string\" data-token-index=\"0\">\"</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"1a34f701-1c12-4baa-b180-aa4678218153\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">Google Chrome中也可安装SwitchOmega来代理</div></div></div></div><div data-block-id=\"f1e2cc89-56d2-4a8b-bc4e-a801b82ff04f\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"f1e2cc89-56d2-4a8b-bc4e-a801b82ff04f\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">Archlinux下leanote无法使用</div></div></div><div data-block-id=\"7151f8f7-422d-4787-907e-d9fdba9fd4b0\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">报错<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">(Leanote:2238): Pango-ERROR **: 10:36:30.413: Harfbuzz version too old (1.2.1)</span></div></div></div></div><div data-block-id=\"b96b526c-6747-4afd-b2df-5bc39ccc768c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考</div></div></div></div><div data-block-id=\"e53fd18e-196f-4085-97a0-e6e7d44d1738\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/leanote/leanote.com-issue/issues/144#issuecomment-541515846\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Arch 版本下的leanote已经无法使用了 · Issue #144 · leanote/leanote.com-issue</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">You can't perform that action at this time. You signed in with another tab or window. You signed out in another tab or window. Reload to refresh your session. Reload to refresh your session.</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fgithub.com%2Ffavicon.ico?table=block&amp;id=e53fd18e-196f-4085-97a0-e6e7d44d1738&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://github.com/leanote/leanote.com-issue/issues/144#issuecomment-541515846</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://avatars0.githubusercontent.com/u/6499273?s=400&amp;v=4\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"fc673732-5113-4d0a-a83c-e79d0f379e74\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"fc673732-5113-4d0a-a83c-e79d0f379e74\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">个人配置文件</div></div></div><div data-block-id=\"164dc04d-af63-4980-a51e-c4f38cb3f49e\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/zfhxi/MyLinuxConfiguration\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">github.com</div><div style=\"display: flex; margin-top: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://github.com/zfhxi/MyLinuxConfiguration</div></div></div></div></a></div></div></div><div data-block-id=\"c8814869-e5e2-4a08-8b68-4c358f641cb8\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"c8814869-e5e2-4a08-8b68-4c358f641cb8\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考</div></div></div><div data-block-id=\"f5aa2bbe-390f-40c5-93e9-cb6bbcf7ab5a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">由于过多，故包含不限于：</div></div></div></div><div data-block-id=\"e8f46ea5-1284-445e-be99-28ce1c10f605\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">1.<a href=\"http://bbs.archlinuxcn.org/viewtopic.php?id=1037\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">Arch Linux 安装指南\\[2018.12.01\\]</span></a>\n2.<a href=\"https://www.cnblogs.com/vachester/p/5635819.html\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"3\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">Archlinux安装和使用技巧</span></a>\n3.<a href=\"https://www.youtube.com/watch?v=T6AhtQkTHdk&amp;t=412s\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"5\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">Youtube: ARCH + I3WM - Instalação Parte 02</span></a>\n4.<a href=\"https://wiki.archlinux.org/index.php/Nvidia-xrun_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"7\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">Nvidia-xrun</span></a></div></div></div></div>","slug":"346b8ecb73b647ea87dc72acc5ee12cc"}},{"node":{"description":null,"id":"439d3b8e-38dd-5b3e-98d9-a4d116d7f1a1","name":"ArchLinux安装(一)","tags":["Archlinux"],"categories":["Tools","Linux"],"public_date":"2019-07-27","html":"<div data-block-id=\"aa7bfe75-40fc-4c72-951b-ed38a086554d\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#ac8868c7-740a-4db9-be8c-a0b26451fafd\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">U盘刻录</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#3461fd6a-ee0e-469a-aa3b-5f90a58e94ae\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">进入安装环境</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c4c46faf-3dfc-44e4-a47c-f79ad69635d1\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">网络连接</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#ed87c45d-8fa7-4b3e-82e1-871a2ee58785\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">换源</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#1fe117a2-c704-47d4-8b85-263aa9f872a0\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">启动模式检查</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#8afb31d7-e0c3-4059-aa16-1bf33f223a35\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">磁盘分区</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#f8069100-f417-4f28-ac3b-4a6e705824f5\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">安装系统</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#27ec8bc5-c648-48e3-b038-20ec82a9a3bc\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">配置系统</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#9220ec0e-44b9-4ac3-a9e9-edfb0903f5c3\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">生成分区表</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#9100f6f9-cb9a-48ab-906f-f3043f5d969b\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">进入新系统</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#0c7a25a2-227c-4867-8993-6f267383ce8d\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">设定时区</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#5748d2d2-805b-4653-8d7d-fb1e1e1a1335\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">本地化设置</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c1e9f2e8-9adb-48f8-bea8-8f49537f1a1c\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">设定主机名</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#eb079201-26be-445a-bb6d-b3e104b82af5\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">root用户密码更改</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#52e1f6e8-9dfd-4c3a-b18a-81f83e9b02e1\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">安装引导程序(推荐refind)</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#eee8ded7-8b07-4062-9073-cfe3544843c9\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">grub</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#ec4e5076-6005-44ff-9007-647857d02a65\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">refind</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#9895314e-722e-4c89-bc9d-72d892b2f7c9\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">完成安装</div></div></div></a></div></div></div><div data-block-id=\"77c01681-7789-4cbc-9e28-ccc6d763386d\" class=\"notion-selectable notion-divider-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div class=\"notion-cursor-default\" style=\"display: flex; align-items: center; justify-content: center; pointer-events: auto; width: 100%; height: 13px; flex: 0 0 auto; color: rgb(228, 227, 226);\"><div style=\"width: 100%; height: 1px; visibility: visible; border-bottom: 1px solid rgba(55, 53, 47, 0.09);\"></div></div></div><div data-block-id=\"0b6a24d5-c841-4f33-9c79-2561bc5ee5d1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">先上折腾的截图</div></div></div></div><div data-block-id=\"43660c5b-9e5d-424a-9e71-6c5fce661b8b\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"953c27f3-52bc-418b-86f0-3c813d9329f5\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"de6f4059-989c-4b44-a154-0f47590ead0d\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be found.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink (Error 404)</div></div></div></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"32370881-1f09-4cce-ad44-3e23d4b6eb6b\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"31a9bf77-73c6-4add-b514-c39ff770166b\" class=\"notion-selectable notion-image-block\" style=\"width: 384px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be found.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink (Error 404)</div></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"429dbe3e-77b5-48ef-80da-d219dd215b38\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">2019-12-06：由于Arch对base包做了改动，并且官方的安装指南已经很详细了，所以建议参考</div></div></div></div><div data-block-id=\"8520da6b-c645-4b44-aae0-b615fc622c42\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://wiki.archlinux.org/index.php/Installation_guide\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Installation guide</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">This document is a guide for installing Arch Linux from the live system booted with the official installation image. Before installing, it would be advised to view the FAQ. For conventions used in this document, see Help:Reading. In particular, code examples may contain placeholders (formatted in italics ) that must be replaced manually.</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwiki.archlinux.org%2Ffavicon.ico?table=block&amp;id=8520da6b-c645-4b44-aae0-b615fc622c42&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://wiki.archlinux.org/index.php/Installation_guide</div></div></div></div></a></div></div></div><div data-block-id=\"f00d6690-d9ec-4fb7-af45-e78213f85ede\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">准备工作</span></div></div></div></div><div data-block-id=\"a828a7b3-cf9c-4309-87e6-e9cc01c8b1a3\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">网络：有线无线均可（不过建议使用有线网络，无线网络在安装完系统重启后，可能需要安装wifi-menu。老司机不会看本文。）</div></div></div></div></div><div data-block-id=\"d2deb82d-bfe4-458a-aba0-b0c3583d1832\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">PC：足够大的空间与内存（测试为50G硬盘，4G内存）</div></div></div></div></div><div data-block-id=\"ab23f0b6-c68f-4cb8-afcf-0edebe5f9446\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">镜像文件以及U盘（建议8G以上）</div></div></div></div></div><div data-block-id=\"2678524f-74d8-4743-8533-d701b68e8dae\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">（非必要）有安装Linux经验</div></div></div></div></div><div data-block-id=\"2a678021-f38e-41eb-a281-f93dd9782dd5\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">（要）充足的时间投资（1.5h左右，因人而异）</div></div></div></div></div><div data-block-id=\"e6e282cb-fdaa-4aad-9d03-d8fc57c02951\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">（必要）遇到问题能冷静分析坚持解决的操作员</div></div></div></div></div><div data-block-id=\"b0d20fe7-b54f-4c7c-85af-caac4958753e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">由于安装过程，许多命令需要纯手敲，建议安装前，门前埋雷，以防干扰！\n你可以ssh连接Arch，这样就不用每一条命令都手敲了。</div></div></div></div><div data-block-id=\"ac8868c7-740a-4db9-be8c-a0b26451fafd\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"ac8868c7-740a-4db9-be8c-a0b26451fafd\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">U盘刻录</div></div></div><div data-block-id=\"97329fc7-5631-4432-880b-7ae168f03dc1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">简述：使用Win32 Disk Imager刻录ISO镜像到U盘中\n采用UEFI模式启动。（BIOS模式在后面的安装中并无差别，只是安装引导时有所不同，有经验者可自行操作）</div></div></div></div><div data-block-id=\"3461fd6a-ee0e-469a-aa3b-5f90a58e94ae\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"3461fd6a-ee0e-469a-aa3b-5f90a58e94ae\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">进入安装环境</div></div></div><div data-block-id=\"6cae0b08-342a-4c7a-9fe7-ff2dc67bff2f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">通过U盘启动进入安装环境。</div></div></div></div><div data-block-id=\"c4c46faf-3dfc-44e4-a47c-f79ad69635d1\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"c4c46faf-3dfc-44e4-a47c-f79ad69635d1\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">网络连接</div></div></div><div data-block-id=\"50a2e305-fe67-48a3-a1d8-d026689d9fea\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">进入后，确保网络连接成功。\n有线网络:\nip a #查看网卡kou\ndhcpcd enp0s3 #改为你的网卡口\n无线网络使用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">wifi-menu</span>命令选择连接。</div></div></div></div><div data-block-id=\"731b5764-c635-4a19-b0a5-a395518e4971\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">陆续输入：</div></div></div></div><div data-block-id=\"5aeb764c-3fca-40ad-9f80-aff48a517a18\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">ping</span><span data-token-index=\"0\"> -c </span><span class=\"token number\" data-token-index=\"0\">4</span><span data-token-index=\"0\"> www.baidu.com\t</span><span class=\"token comment\" data-token-index=\"0\">#测试网络是否连接成功</span><span data-token-index=\"0\">\ntimedatectl set-ntp </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">#刷新本地时间</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ed87c45d-8fa7-4b3e-82e1-871a2ee58785\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"ed87c45d-8fa7-4b3e-82e1-871a2ee58785\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">换源</div></div></div><div data-block-id=\"10ff43b1-aa8a-410c-ae6d-97efd975b36b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">更换安装源，以便下载速度更快。</div></div></div></div><div data-block-id=\"860cc764-2c42-472a-8c3b-152f09c6d4c0\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> /etc/pacman.d/mirrorlist</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"18a30657-5379-4306-9094-dabcd269792c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">搜索China，将</div></div></div></div><div data-block-id=\"3946acfe-16b1-4502-963d-4d421910faa3\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">## China\nServer = ……</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"9dfb9013-a283-44be-ad73-fc0efddc201d\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"88f2d993-ed06-4363-8f7c-7c60e2cf2ebb\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"1034ecd0-8a94-4655-bfb4-cac84c7b2751\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">剪切到配置文件开头。</div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"e6f8866a-fe1f-40c4-a363-b91b270c17c3\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"e7db68df-d683-4c97-a5c3-f7ba0c496bb1\" class=\"notion-selectable notion-image-block\" style=\"width: 528px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F82be1d3c-5b85-4bca-81b2-d2608c746c39%2FUntitled.png?table=block&amp;id=e7db68df-d683-4c97-a5c3-f7ba0c496bb1&amp;width=1060&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"f824cb25-4cf4-4fea-8de1-93a62edfb2a7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"1fe117a2-c704-47d4-8b85-263aa9f872a0\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"1fe117a2-c704-47d4-8b85-263aa9f872a0\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">启动模式检查</div></div></div><div data-block-id=\"9d6f1c7d-9070-4818-9a92-ae987db4d105\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">键入：<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">ls /sys/firmware/efi/efivars</span></div></div></div></div><div data-block-id=\"96011cdf-377d-4b69-9fb0-05ae3e7d6aab\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">若存在输出目录，则为UEFI模式启动。</div></div></div></div><div data-block-id=\"8afb31d7-e0c3-4059-aa16-1bf33f223a35\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"8afb31d7-e0c3-4059-aa16-1bf33f223a35\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">磁盘分区</div></div></div><div data-block-id=\"5e2df831-2e7e-45d5-b074-ca32ed8170a7\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"306b718a-3901-4429-834f-6bbbff076e54\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"7244d826-3abf-45ce-be23-6cea206d70a4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">分区方案可自己任意确定，下面给出out of date的分区方案（因为对大内存机器而言，无需swap分区。讲道理，要不是怕搞坏引导不便修复，我只想给一个<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">/</span>分区）\n1.确认安装位置：\n键入：<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">fdisk -l</span></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"178d5c03-7e79-45e4-b41b-93ca0a0964d1\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"4c59d356-7761-4ca7-ad96-e4961b556e68\" class=\"notion-selectable notion-image-block\" style=\"width: 480px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F032fbfe7-6a19-4396-955e-93771de920a0%2FUntitled.png?table=block&amp;id=4c59d356-7761-4ca7-ad96-e4961b556e68&amp;width=960&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"5bff0e10-5b2b-4fc9-81a7-3c38fc331bf4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"fec36424-f163-4683-b82f-f5fbec56a9aa\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">此处确定安装位置在sda上。\n2.确定分区方案：</div></div></div></div><div data-block-id=\"7f5991bf-2180-48a6-99b0-416011fa8bab\" class=\"notion-selectable notion-collection_view-block\" style=\"width: 800px; max-width: 800px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"min-height: 42px; padding-left: 0px; padding-right: 96px; flex-shrink: 0; z-index: 1; overflow: visible;\"><div data-block-id=\"7f5991bf-2180-48a6-99b0-416011fa8bab\" class=\"notion-selectable notion-collection_view-block\" style=\"position: relative;\"><div style=\"display: flex; align-items: center; height: 42px; padding-bottom: 2px;\"><div style=\"display: flex; white-space: nowrap; overflow: hidden; flex-shrink: 0; min-width: 0px; padding: 4px 2px; margin-right: 4px;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Untitled\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); display: flex; align-items: center; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.2; color: rgb(55, 53, 47);\">分区方案</div></div><div style=\"display: flex; align-items: center; margin-left: auto; opacity: 0;\"><div class=\"\" role=\"button\" aria-disabled=\"false\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 24px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgba(55, 53, 47, 0.6); margin-left: 4px;\"><svg viewBox=\"0 0 12 12\" class=\"collectionSearch\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;\"><path d=\"M11,9.92308 L8.04962,6.97308 C8.455,6.36385 8.69231,5.63308 8.69231,4.84615 C8.69231,2.72192 6.96962,1 4.84615,1 C2.72269,1 1,2.72192 1,4.84615 C1,6.97038 2.72231,8.69231 4.84615,8.69231 C5.63269,8.69231 6.36346,8.455 6.97269,8.05 L9.92308,11 L11,9.92308 Z M4.84615,7.15385 C3.57192,7.15385 2.53846,6.12038 2.53846,4.84615 C2.53846,3.57192 3.57231,2.53846 4.84615,2.53846 C6.12,2.53846 7.15385,3.57192 7.15385,4.84615 C7.15385,6.12038 6.12038,7.15385 4.84615,7.15385 Z\"></path></svg>Search</div><a href=\"/7f5991bf218048a699b0416011fa8bab?v=87b8f30b83f84f5995199e78e81718c0\" rel=\"noopener noreferrer\" style=\"display: block; text-decoration: none; user-select: none; cursor: pointer; color: inherit; margin-left: 4px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; flex-shrink: 0; border-radius: 3px; height: 24px; width: 24px; padding: 0px;\"><svg viewBox=\"0 0 14 14\" class=\"openAsPageThick\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden;\"><polygon points=\"9.13029 3.66667 3.66667 9.13029 3.66667 7 2 7 2 12 7 12 7 10.3333 4.82065 10.3333 10.3333 4.82065 10.3333 7 12 7 12 2 7 2 7 3.66667\"></polygon></svg></div></a><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; flex-shrink: 0; border-radius: 3px; height: 24px; width: 24px; padding: 0px; margin-left: 4px;\"><svg viewBox=\"0 0 13 3\" class=\"dots\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden;\"><g> <path d=\"M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z\"></path> <path d=\"M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z\"></path> <path d=\"M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z\"></path> </g></svg></div></div></div></div></div><div class=\"notion-scroller horizontal\" style=\"flex-grow: 1; flex-shrink: 0; z-index: 1; overflow: scroll hidden; margin-right: 0px; margin-bottom: 0px;\"><div class=\"notion-table-view\" style=\"position: relative; float: left; min-width: 100%; user-select: none; padding: 0px;\"><div data-block-id=\"7f5991bf-2180-48a6-99b0-416011fa8bab\" class=\"notion-selectable notion-collection_view-block\"><div style=\"display: flex; position: absolute; background: white; z-index: 82; height: 33px; color: rgba(55, 53, 47, 0.6); border-top: 1px solid rgb(223, 223, 222); box-shadow: white -3px 0px 0px, rgb(223, 223, 222) 0px 1px 0px; min-width: 708px;\"><div style=\"display: inline-flex; margin: 0px;\"><div style=\"display: flex; position: relative;\"><div class=\"notion-table-view-header-cell\" style=\"display: flex; flex-shrink: 0; overflow: hidden; font-size: 14px; padding: 0px; width: 130px; border-right: 1px solid rgba(55, 53, 47, 0.09);\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: flex; width: 100%; height: 100%; padding-left: 8px; padding-right: 8px;\"><div style=\"display: flex; align-items: center; line-height: 120%; min-width: 0px; font-size: 14px;\"><div style=\"margin-right: 6px;\"><svg viewBox=\"0 0 14 14\" class=\"typesTitle\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden;\"><path d=\"M7.73943662,8.6971831 C7.77640845,8.7834507 7.81338028,8.8943662 7.81338028,9.00528169 C7.81338028,9.49823944 7.40669014,9.89260563 6.91373239,9.89260563 C6.53169014,9.89260563 6.19894366,9.64612676 6.08802817,9.30105634 L5.75528169,8.33978873 L2.05809859,8.33978873 L1.72535211,9.30105634 C1.61443662,9.64612676 1.2693662,9.89260563 0.887323944,9.89260563 C0.394366197,9.89260563 0,9.49823944 0,9.00528169 C0,8.8943662 0.0246478873,8.7834507 0.0616197183,8.6971831 L2.46478873,2.48591549 C2.68661972,1.90669014 3.24119718,1.5 3.90669014,1.5 C4.55985915,1.5 5.12676056,1.90669014 5.34859155,2.48591549 L7.73943662,8.6971831 Z M2.60035211,6.82394366 L5.21302817,6.82394366 L3.90669014,3.10211268 L2.60035211,6.82394366 Z M11.3996479,3.70598592 C12.7552817,3.70598592 14,4.24823944 14,5.96126761 L14,9.07922535 C14,9.52288732 13.6549296,9.89260563 13.2112676,9.89260563 C12.8169014,9.89260563 12.471831,9.59683099 12.4225352,9.19014085 C12.028169,9.6584507 11.3257042,9.95422535 10.5492958,9.95422535 C9.60035211,9.95422535 8.47887324,9.31338028 8.47887324,7.98239437 C8.47887324,6.58978873 9.60035211,6.08450704 10.5492958,6.08450704 C11.3380282,6.08450704 12.040493,6.33098592 12.4348592,6.81161972 L12.4348592,5.98591549 C12.4348592,5.38204225 11.9172535,4.98767606 11.1285211,4.98767606 C10.6602113,4.98767606 10.2411972,5.11091549 9.80985915,5.38204225 C9.72359155,5.43133803 9.61267606,5.46830986 9.50176056,5.46830986 C9.18133803,5.46830986 8.91021127,5.1971831 8.91021127,4.86443662 C8.91021127,4.64260563 9.0334507,4.44542254 9.19366197,4.34683099 C9.87147887,3.90316901 10.6232394,3.70598592 11.3996479,3.70598592 Z M11.1778169,8.8943662 C11.6830986,8.8943662 12.1760563,8.72183099 12.4348592,8.37676056 L12.4348592,7.63732394 C12.1760563,7.29225352 11.6830986,7.11971831 11.1778169,7.11971831 C10.5616197,7.11971831 10.056338,7.45246479 10.056338,8.0193662 C10.056338,8.57394366 10.5616197,8.8943662 11.1778169,8.8943662 Z M0.65625,11.125 L13.34375,11.125 C13.7061869,11.125 14,11.4188131 14,11.78125 C14,12.1436869 13.7061869,12.4375 13.34375,12.4375 L0.65625,12.4375 C0.293813133,12.4375 4.43857149e-17,12.1436869 0,11.78125 C-4.43857149e-17,11.4188131 0.293813133,11.125 0.65625,11.125 Z\"></path></svg></div><div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">磁盘分区</div></div></div></div></div><div style=\"display: flex; position: relative;\"><div class=\"notion-table-view-header-cell\" style=\"display: flex; flex-shrink: 0; overflow: hidden; font-size: 14px; padding: 0px; width: 169px; border-right: 1px solid rgba(55, 53, 47, 0.09);\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: flex; width: 100%; height: 100%; padding-left: 8px; padding-right: 8px;\"><div style=\"display: flex; align-items: center; line-height: 120%; min-width: 0px; font-size: 14px;\"><div style=\"margin-right: 6px;\"><svg viewBox=\"0 0 14 14\" class=\"typesText\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden;\"><path d=\"M7,4.56818 C7,4.29204 6.77614,4.06818 6.5,4.06818 L0.5,4.06818 C0.223858,4.06818 0,4.29204 0,4.56818 L0,5.61364 C0,5.88978 0.223858,6.11364 0.5,6.11364 L6.5,6.11364 C6.77614,6.11364 7,5.88978 7,5.61364 L7,4.56818 Z M0.5,1 C0.223858,1 0,1.223858 0,1.5 L0,2.54545 C0,2.8216 0.223858,3.04545 0.5,3.04545 L12.5,3.04545 C12.7761,3.04545 13,2.8216 13,2.54545 L13,1.5 C13,1.223858 12.7761,1 12.5,1 L0.5,1 Z M0,8.68182 C0,8.95796 0.223858,9.18182 0.5,9.18182 L11.5,9.18182 C11.7761,9.18182 12,8.95796 12,8.68182 L12,7.63636 C12,7.36022 11.7761,7.13636 11.5,7.13636 L0.5,7.13636 C0.223858,7.13636 0,7.36022 0,7.63636 L0,8.68182 Z M0,11.75 C0,12.0261 0.223858,12.25 0.5,12.25 L9.5,12.25 C9.77614,12.25 10,12.0261 10,11.75 L10,10.70455 C10,10.4284 9.77614,10.20455 9.5,10.20455 L0.5,10.20455 C0.223858,10.20455 0,10.4284 0,10.70455 L0,11.75 Z\"></path></svg></div><div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">挂载点</div></div></div></div></div><div style=\"display: flex; position: relative;\"><div class=\"notion-table-view-header-cell\" style=\"display: flex; flex-shrink: 0; overflow: hidden; font-size: 14px; padding: 0px; width: 279px;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: flex; width: 100%; height: 100%; padding-left: 8px; padding-right: 8px;\"><div style=\"display: flex; align-items: center; line-height: 120%; min-width: 0px; font-size: 14px;\"><div style=\"margin-right: 6px;\"><svg viewBox=\"0 0 14 14\" class=\"typesText\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden;\"><path d=\"M7,4.56818 C7,4.29204 6.77614,4.06818 6.5,4.06818 L0.5,4.06818 C0.223858,4.06818 0,4.29204 0,4.56818 L0,5.61364 C0,5.88978 0.223858,6.11364 0.5,6.11364 L6.5,6.11364 C6.77614,6.11364 7,5.88978 7,5.61364 L7,4.56818 Z M0.5,1 C0.223858,1 0,1.223858 0,1.5 L0,2.54545 C0,2.8216 0.223858,3.04545 0.5,3.04545 L12.5,3.04545 C12.7761,3.04545 13,2.8216 13,2.54545 L13,1.5 C13,1.223858 12.7761,1 12.5,1 L0.5,1 Z M0,8.68182 C0,8.95796 0.223858,9.18182 0.5,9.18182 L11.5,9.18182 C11.7761,9.18182 12,8.95796 12,8.68182 L12,7.63636 C12,7.36022 11.7761,7.13636 11.5,7.13636 L0.5,7.13636 C0.223858,7.13636 0,7.36022 0,7.63636 L0,8.68182 Z M0,11.75 C0,12.0261 0.223858,12.25 0.5,12.25 L9.5,12.25 C9.77614,12.25 10,12.0261 10,11.75 L10,10.70455 C10,10.4284 9.77614,10.20455 9.5,10.20455 L0.5,10.20455 C0.223858,10.20455 0,10.4284 0,10.70455 L0,11.75 Z\"></path></svg></div><div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">大小</div></div></div></div></div></div></div><div style=\"height: 34px;\"></div><div style=\"position: relative; min-width: 708px;\"><div><div data-block-id=\"7f5991bf-2180-48a6-99b0-416011fa8bab\" class=\"notion-selectable notion-collection_view-block\"></div></div><div data-block-id=\"505f2d6d-73a2-4475-b1b2-c107a37a9e5e\" class=\"notion-selectable notion-page-block notion-collection-item\" style=\"display: flex; border-bottom: 1px solid rgb(223, 223, 222);\"><div style=\"display: flex;\"><div style=\"display: block; width: 130px; border-right: 1px solid rgb(237, 237, 236); white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px; font-weight: 500;\">sda1</span></div></div><div style=\"display: block; width: 169px; border-right: 1px solid rgb(237, 237, 236); white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none;\">/mnt/boot/efi</span></div><div style=\"display: block; width: 279px; border-right: none; white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none;\">512M[实际中建议可给小点如300M]</span></div></div><div data-block-id=\"cb38516a-dcd7-4bf8-9302-b9fb3bf5e97b\" class=\"notion-selectable notion-page-block notion-collection-item\" style=\"display: flex; border-bottom: 1px solid rgb(223, 223, 222);\"><div style=\"display: flex;\"><div style=\"display: block; width: 130px; border-right: 1px solid rgb(237, 237, 236); white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px; font-weight: 500;\">sda2[可选]</span></div></div><div style=\"display: block; width: 169px; border-right: 1px solid rgb(237, 237, 236); white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none;\">SWAP交换区不挂载</span></div><div style=\"display: block; width: 279px; border-right: none; white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none;\">4G</span></div></div><div data-block-id=\"69e1bd91-93b0-445e-82ea-a3af0279e3a9\" class=\"notion-selectable notion-page-block notion-collection-item\" style=\"display: flex; border-bottom: 1px solid rgb(223, 223, 222);\"><div style=\"display: flex;\"><div style=\"display: block; width: 130px; border-right: 1px solid rgb(237, 237, 236); white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px; font-weight: 500;\">sda3</span></div></div><div style=\"display: block; width: 169px; border-right: 1px solid rgb(237, 237, 236); white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none;\">/mnt</span></div><div style=\"display: block; width: 279px; border-right: none; white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none;\">26.1G[实际中建议给大点如100G]</span></div></div><div data-block-id=\"7ad7fc17-1025-453a-b091-e2bc52b186b3\" class=\"notion-selectable notion-page-block notion-collection-item\" style=\"display: flex; border-bottom: 1px solid transparent;\"><div style=\"display: flex;\"><div style=\"display: block; width: 130px; border-right: 1px solid rgb(237, 237, 236); white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px; font-weight: 500;\">sda4[可选]</span></div></div><div style=\"display: block; width: 169px; border-right: 1px solid rgb(237, 237, 236); white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none;\">/mnt/home</span></div><div style=\"display: block; width: 279px; border-right: none; white-space: nowrap; min-height: 32px; cursor: default; height: 32px; padding: 5px 8px 6px; font-size: 14px; overflow: hidden;\"><span style=\"line-height: 1.5; white-space: nowrap; word-break: normal; pointer-events: none;\">20G</span></div></div></div><div style=\"display: flex; position: absolute; background: white; z-index: 82; font-size: 14px; height: 33px; min-width: 708px; padding-right: 0px; clip-path: polygon(0% -20%, 100% -20%, 100% 100%, 0% 100%); border-top: 1px solid rgb(223, 223, 222);\"><div style=\"display: flex; width: 130px;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: auto; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: flex-end; width: 100%; height: 32px; padding-right: 8px; overflow: hidden; white-space: nowrap;\"></div></div><div style=\"display: flex; width: 169px;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: auto; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: flex-end; width: 100%; height: 32px; padding-right: 8px; overflow: hidden; white-space: nowrap;\"></div></div><div style=\"display: flex; width: 279px;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: auto; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: flex-end; width: 100%; height: 32px; padding-right: 8px; overflow: hidden; white-space: nowrap;\"></div></div></div><div style=\"height: 32px;\"></div></div></div></div></div><div data-block-id=\"ed6cc434-b8d4-4917-b898-77d699d6d7e7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">3.开始分区：\n键入：<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">cfdisk /dev/sda，</span>选择gpt：</div></div></div></div><div data-block-id=\"976d59d8-dd39-4867-a1a9-37f271175a73\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"fa68c051-1c8a-4613-9888-68bad9438af6\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"1319a70f-3436-451c-a78e-bed522a09443\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"5e24844f-7634-42c5-9c11-7124b2cc45fe\" class=\"notion-selectable notion-image-block\" style=\"width: 430px; max-width: 100%; align-self: flex-start; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb7465ac4-8dbc-4b40-8f3a-71bf55f66371%2FUntitled.png?table=block&amp;id=5e24844f-7634-42c5-9c11-7124b2cc45fe&amp;width=860&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"84880e1e-1648-441e-ae4d-496061b8be40\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"6b91bd29-8603-49e0-97c5-7cfefee323be\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"7d7495b6-2691-4769-a623-adbe5c6aa20e\" class=\"notion-selectable notion-image-block\" style=\"width: 480px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc98c5150-5d47-4eb0-8397-66cfd6cb257e%2FUntitled.png?table=block&amp;id=7d7495b6-2691-4769-a623-adbe5c6aa20e&amp;width=960&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"658a6373-5a70-409f-8ff3-ad9ec4e4e1c3\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"c76d5596-8ab5-4f0e-8600-a2ec6947d7ab\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">建立分区：</div></div></div></div><div data-block-id=\"d29a8037-edd9-45d9-8b7a-48d91e2d5bc4\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"cbcd1f6f-5324-412b-bf3d-debbe3bc46e2\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"a5a91268-e876-4659-b7fd-ed67892a923e\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">新建分区：[↑]/[↓]（方向键）选中 Free space（空闲空间）[←]/[→]（方向键）选中 New 新建分区[←]/[→]（方向键）选中 Type 选择分区类型（默认为 Linux filesystem；对于 EFI 系统分区选择 EFI System）输入分区大小（默认单位为字节，可以加上后缀K、M、G），[回车键] 确认\n写入分区表：[←]/[→]（方向键）选中 Write输入 yes [回车] 确定写入</div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"800321c6-adbc-4597-bccf-45f698396d95\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"bef52676-c6db-431b-96d0-2716e5982229\" class=\"notion-selectable notion-image-block\" style=\"width: 480px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9d637a82-d70a-4486-8a63-c9c3fbe94f38%2FUntitled.png?table=block&amp;id=bef52676-c6db-431b-96d0-2716e5982229&amp;width=960&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"78b9e117-f136-4ec0-bebe-9ae225c48261\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"636cdee0-5b6b-4ee6-8ead-6e982b55f05b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">本文分区方案不详述，可自行查阅文章，当然你也可以使用其他的分区方案。\n4.格式化分区并挂载：\n先格式化：</div></div></div></div><div data-block-id=\"328479ae-23ce-4ad1-96e0-1a5e85659775\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"949f79e1-075a-4c66-84cd-fc01f5b2bab9\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"16f2f753-27f0-40af-a917-90b13b326180\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">mkfs.fat /dev/sda1\t</span><span class=\"token comment\" data-token-index=\"0\">#格式化为fat文件系统</span><span data-token-index=\"0\">\n\n</span><span class=\"token function\" data-token-index=\"0\">mkswap</span><span data-token-index=\"0\"> /dev/sda2\t</span><span class=\"token comment\" data-token-index=\"0\">#格式化为交换区</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">swapon</span><span data-token-index=\"0\"> /dev/sda2\t</span><span class=\"token comment\" data-token-index=\"0\">#激活交换区</span><span data-token-index=\"0\">\n\nmkfs.ext4 /dev/sda3\t</span><span class=\"token comment\" data-token-index=\"0\">#格式化为ext4文件系统</span><span data-token-index=\"0\">\nmkfs.ext4 /dev/sda4</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"58c49550-a82c-4e6e-b49c-b53a37c4e630\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"d1876052-1a10-41c1-b549-50ff54affaa9\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"eac6d646-7cf0-4760-809b-895ef13ea9ad\" class=\"notion-selectable notion-image-block\" style=\"width: 432px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F26a1a290-b426-4a50-8051-4c86bdddad3f%2FUntitled.png?table=block&amp;id=eac6d646-7cf0-4760-809b-895ef13ea9ad&amp;width=860&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"0fa79278-0124-4a10-9784-44aaa1b8ef0a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"946032fb-3ea9-4acd-ace3-8880f43c69ef\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">后挂载：</div></div></div></div><div data-block-id=\"e9a0350d-99a4-4b86-8b1d-4ddf1510b1ae\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5625);\"><div data-block-id=\"6ee3bcb7-1237-4256-9165-08833923d7fe\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"97b77d52-3202-4b13-b972-1e5510717e50\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">mount</span><span data-token-index=\"0\"> /dev/sda3 /mnt\t</span><span class=\"token comment\" data-token-index=\"0\">#先挂载根目录</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">mkdir</span><span data-token-index=\"0\"> -p /mnt/boot/efi\t\n</span><span class=\"token function\" data-token-index=\"0\">mkdir</span><span data-token-index=\"0\"> /mnt/home\t\t\t\n</span><span class=\"token comment\" data-token-index=\"0\"># 防止目录重复为*/efi/EFI/*，可更改为/mnt/boot/</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">mount</span><span data-token-index=\"0\"> /dev/sda1 /mnt/boot/efi\t</span><span class=\"token comment\" data-token-index=\"0\">#挂载启动位置</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">mount</span><span data-token-index=\"0\"> /dev/sda4 /mnt/home\t\t</span><span class=\"token comment\" data-token-index=\"0\">#挂载家目录</span><span data-token-index=\"0\">\n\nlsblk\t</span><span class=\"token comment\" data-token-index=\"0\">#查看分区</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.4375);\"><div data-block-id=\"31c44648-eb25-4310-b91a-9d131061e149\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"21de65b5-0fa7-4eaa-b0d5-f9b007562d3a\" class=\"notion-selectable notion-image-block\" style=\"width: 553px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9eb31b4f-3f68-4bd7-ae81-339a7b297410%2FUntitled.png?table=block&amp;id=21de65b5-0fa7-4eaa-b0d5-f9b007562d3a&amp;width=1110&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"d2474d81-13f7-434e-a3e2-48a2f8c6c5b9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"d6db787e-fd64-4963-93c7-01b83dd9885b\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.25);\"><div data-block-id=\"9de0f963-41a4-4b59-bcee-7db9cf057d5b\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"f8069100-f417-4f28-ac3b-4a6e705824f5\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"f8069100-f417-4f28-ac3b-4a6e705824f5\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装系统</div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.75);\"><div data-block-id=\"e4c6c665-8f33-4822-85d5-39c892294a25\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"509ccab4-3442-476f-81a4-60c5474a9d1c\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">pacstrap /mnt base base-devel linux dhcp netctl linux-firmware</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div></div><div data-block-id=\"9492ef95-012d-42fa-bbfb-7f4d5f20232f\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">2019-11-01：据说Arch的base做重大改动，base包被精简，内核包linux变为可选依赖，所以此处命令应为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">pacstrap /mnt base base-devel linux dhcp netctl linux-firmware</span></div></div></div><div data-block-id=\"a733c5c8-addb-49c0-a9b4-70f3ae84e2f4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">坐等近10分钟，安装完成：</div></div></div></div><div data-block-id=\"27ec8bc5-c648-48e3-b038-20ec82a9a3bc\" class=\"notion-selectable notion-sub_header-block\" id=\"27ec8bc5-c648-48e3-b038-20ec82a9a3bc\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">配置系统</div></div></div><div data-block-id=\"9220ec0e-44b9-4ac3-a9e9-edfb0903f5c3\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"9220ec0e-44b9-4ac3-a9e9-edfb0903f5c3\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">生成分区表</div></div></div><div data-block-id=\"8fcda7b4-3569-4f76-94f9-8b53a79bd89b\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"ed517e58-b7c4-468b-9cea-867d96bde7f9\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"a2fda4be-4f2c-43a7-8d3d-9b777c75aa22\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">genfstab -U /mnt </span><span class=\"token operator\" data-token-index=\"0\">&gt;&gt;</span><span data-token-index=\"0\"> /mnt/etc/fstab\n</span><span class=\"token function\" data-token-index=\"0\">cat</span><span data-token-index=\"0\"> /mnt/etc/fstab\t</span><span class=\"token comment\" data-token-index=\"0\">#查看分区表</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"f7e76c34-570d-464e-b28a-96e2972fd23b\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"93cb1d71-6784-4fee-9d18-f762821c5780\" class=\"notion-selectable notion-image-block\" style=\"width: 480px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4aed95f7-f06e-431e-acc2-b4affa4552a9%2FUntitled.png?table=block&amp;id=93cb1d71-6784-4fee-9d18-f762821c5780&amp;width=960&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"2d3d353f-6df8-4c4c-ba7b-e0188d9bb14f\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.25);\"><div data-block-id=\"b92b3e50-6c6e-4528-9f81-7f2cec62801d\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"9100f6f9-cb9a-48ab-906f-f3043f5d969b\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"9100f6f9-cb9a-48ab-906f-f3043f5d969b\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">进入新系统</div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.75);\"><div data-block-id=\"8344888c-e901-4bcb-b4c9-9533229b5985\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"64f73050-6121-45d3-b42f-95387f67e5db\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">arch-chroot /mnt</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div></div><div data-block-id=\"a8a1e774-3a63-4797-8f0d-9c3d13263293\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.25);\"><div data-block-id=\"e34770cf-409c-49e8-9882-2dbbc4ba1de8\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"0c7a25a2-227c-4867-8993-6f267383ce8d\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"0c7a25a2-227c-4867-8993-6f267383ce8d\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">设定时区</div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.75);\"><div data-block-id=\"386bbc45-d7d9-4645-933d-08b1869e0dd8\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"31166291-b052-43c3-ae6b-8889b2a53e1d\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">ln</span><span data-token-index=\"0\"> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\t</span><span class=\"token comment\" data-token-index=\"0\">#时区设置</span><span data-token-index=\"0\">\nhwclock --systohc\t</span><span class=\"token comment\" data-token-index=\"0\">#硬件时间设置</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div></div><div data-block-id=\"ee3cf0bb-baf9-4edd-b2d0-38a5f0c655a6\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.25);\"><div data-block-id=\"75fa6396-3a78-4889-af85-3790db845d7f\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"5748d2d2-805b-4653-8d7d-fb1e1e1a1335\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"5748d2d2-805b-4653-8d7d-fb1e1e1a1335\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">本地化设置</div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.75);\"><div data-block-id=\"6f669b28-5f80-4313-b7bd-6aa00c5eb09c\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"2aa22860-142f-4092-848a-9023a02deab2\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> /etc/locale.conf    </span><span class=\"token comment\" data-token-index=\"0\">#添加一行LANG=en_US.UTF-8</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\"># 注释掉en_US.UTF-8 UTf-8,zh_CN.GBK GBK,</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\"># zh_CN.UTF-8 UTF-8,zh_CN GB2312</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> /etc/locale.gen     \nlocale-gen\t</span><span class=\"token comment\" data-token-index=\"0\">#更新语言环境</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div></div><div data-block-id=\"bcce15cd-fe48-492b-bd3a-bef63ceac505\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.25);\"><div data-block-id=\"8b2fc397-6dce-48d0-91be-dc6e1e6f3ed1\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"c1e9f2e8-9adb-48f8-bea8-8f49537f1a1c\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"c1e9f2e8-9adb-48f8-bea8-8f49537f1a1c\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">设定主机名</div></div></div><div data-block-id=\"b22185cf-0964-455e-93df-474863a5c290\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.75);\"><div data-block-id=\"66c46e72-fb6b-45f7-a506-bc48df95eeb3\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"2b2c3246-9ea8-4df7-9b61-6a0ec9de7ad5\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> /etc/hostname\t</span><span class=\"token comment\" data-token-index=\"0\">#添加主机名，例如chern</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">vi</span><span data-token-index=\"0\"> /etc/hosts\t\t</span><span class=\"token comment\" data-token-index=\"0\">#添加hosts条目</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div></div><div data-block-id=\"305e9bf7-f961-40d8-bef2-7591203198e1\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\"># /etc/hosts:</span><span data-token-index=\"0\">\nhosts条目添加：127.0.0.1\tlocalhost.localdomain\tlocalhost\n::1\t\tlocalhost.localdomain\tlocalhost\n</span><span class=\"token number\" data-token-index=\"0\">127.0</span><span data-token-index=\"0\">.1.1\t</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\">主机名</span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\">.localdomain\t</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\">主机名</span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"3dac8c7c-3650-4272-926c-098b8bb2cb3b\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.25);\"><div data-block-id=\"ac94e11a-35cf-4d12-b714-f18015320c32\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"eb079201-26be-445a-bb6d-b3e104b82af5\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"eb079201-26be-445a-bb6d-b3e104b82af5\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">root用户密码更改</div></div></div><div data-block-id=\"f55e6447-fab3-4592-9ce7-d303dd5b813d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.75);\"><div data-block-id=\"6fc2b782-d4b9-4576-a541-57cd3e2dfc64\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"c451b6c8-95c8-4897-957a-0768659e7da8\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">$ </span><span class=\"token function\" data-token-index=\"0\">passwd</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div></div><div data-block-id=\"52e1f6e8-9dfd-4c3a-b18a-81f83e9b02e1\" class=\"notion-selectable notion-sub_header-block\" id=\"52e1f6e8-9dfd-4c3a-b18a-81f83e9b02e1\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">安装引导程序(推荐refind)</div></div></div><div data-block-id=\"2bcb1104-b7a1-4b00-943e-813bec7e07e4\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.125);\"><div data-block-id=\"a4b2e0b2-4d39-4f39-847a-981b9d9196bd\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"eee8ded7-8b07-4062-9073-cfe3544843c9\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"eee8ded7-8b07-4062-9073-cfe3544843c9\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">grub</div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.875);\"><div data-block-id=\"d1cabe16-6e12-4421-9ba4-5c2d15dcbf65\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"32af289c-c19e-4bc5-b40a-9325969ed3e0\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">pacman -S dosfstools grub efibootmgr\ngrub-install --target</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">x86_64-efi --efi-directory</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">/boot/efi --bootloader-id</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">GRUB\n</span><span class=\"token function\" data-token-index=\"0\">grub-mkconfig</span><span data-token-index=\"0\"> -o /boot/grub/grub.cfg</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div></div><div data-block-id=\"640eb4b6-4125-4f7d-8041-bd16c1a3e923\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"0b0cc94b-93cf-4960-b908-b389e66e55b0\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"1c00247d-f076-43c6-816d-799092ce6383\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">其中第二条指令的挂载点可以自己根据你所做的分区方案更改：\ngrub-install --target=x86_64-efi --efi-directory=&lt;EFI 分区挂载点&gt; --bootloader-id=GRUB</div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"fa308353-fe74-41c2-9616-6257ed1c19e1\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"eece125a-afc4-4670-9fad-a865e4fefcd4\" class=\"notion-selectable notion-image-block\" style=\"width: 528px; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F110dedd1-621b-4d75-b239-fa788bc01085%2FUntitled.png?table=block&amp;id=eece125a-afc4-4670-9fad-a865e4fefcd4&amp;width=1060&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"8e4bdeda-c432-4b1a-9c82-245d15029824\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"15e467f6-3e45-4e16-a43f-7ef9d8691ac1\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.125);\"><div data-block-id=\"12fdb9dd-0e8d-4f3a-bca0-ae1adf5f1412\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"ec4e5076-6005-44ff-9007-647857d02a65\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"ec4e5076-6005-44ff-9007-647857d02a65\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">refind</div></div></div><div data-block-id=\"f26c60eb-e5fe-4d98-b32c-1f492a5f527f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.875);\"><div data-block-id=\"8ea49c16-4289-4125-aa04-2e21b9469bcf\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"eaf3c4cf-2d88-494d-a63d-cba586e6f224\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">pacman -S intel-ucode refind-efi\nrefind-install\nefibootmgr -c -l /boot/efi/refind/refind_x64.efi -L </span><span class=\"token string\" data-token-index=\"0\">'refind boot manager'</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div></div><div data-block-id=\"1cc23d14-542f-4ea1-9a89-d0edeedab700\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">注意refind_x64.efi路径</div></div></div><div data-block-id=\"264a727a-7f8f-4738-899e-f225f3c81130\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">修改/boot/refind_linux.conf内容：</div></div></div></div><div data-block-id=\"ef336424-362b-4e1e-8edb-9bbd5b32bceb\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\"># 注释前两行，否则无法启动。</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\"># \"Boot with standard options\"  \"archisobasedir=arch archisolabel=ARCH_201812\" </span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\"># \"Boot to single-user mode\"    \"archisobasedir=arch archisolabel=ARCH_201812 single\"</span><span data-token-index=\"0\">\n</span><span class=\"token string\" data-token-index=\"0\">\"Boot with minimal options\"</span><span data-token-index=\"0\">   </span><span class=\"token string\" data-token-index=\"0\">\"ro root=/dev/sda3 quiet initrd=/intel-ucode.img initrd=/initramfs-linux.img\"</span><span data-token-index=\"0\">  \n</span><span class=\"token comment\" data-token-index=\"0\"># 如果安装了微码更新，请按照这个格式修改，启用微码，且intel-ucode在前</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ae5b60d0-5d29-412a-8237-d30637cd721b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">其中的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">ro root=/dev/sda3</span>是你挂载<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">/</span>的分区。\n2019-07-26提醒：若<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">initrd=/boot/intel-ucode.img initrd=/boot/initramfs-linux.img</span>无法启动Arch，那么可去掉<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">/boot</span>进行尝试，差别原因尚不明。</div></div></div></div><div data-block-id=\"5b148714-06b2-443e-93b9-3fae308c0dfd\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">也可参考:</div></div></div></div><div data-block-id=\"16aa862f-0b3e-447a-a59d-a32c1c878b34\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://wiki.archlinux.org/index.php/REFInd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95%E9%A1%B9\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">rEFInd (简体中文)</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">翻译状态： 本文是英文页面 rEFInd 的 翻译，最后翻译时间：2014-06-01，点击 这里 可以查看翻译后英文页面的改动。 rEFInd 是一个 UEFI 启动管理器。它是 rEFIt （不再维护）的一个分支并且针对非 Mac 硬件修复了若干问题。它被设计为平台无关，可启动多个操作系统。 # refind-install 此操作会检测您的内核和 EFI system partition 分区，复制需要的文件，创建默认配置文件并将 rEFInd 设置为默认的 UEFI 启动项 如果 refind-install 脚本没有正常工作，您可以手动设置 rEFInd。 在 ESP 中创建一个目录来存放 rEFInd 的文件。此处假定您的 ESP 分区被挂载到 /boot/efi 并且您希望将 rEFInd 存放在 /boot/efi/EFI/refind。 将可执行文件、配置文件和资源文件复制到 ESP # cp /usr/share/refind/refind_x64.efi /boot/efi/EFI/refind/refind_x64.efi # cp /usr/share/refind/refind.conf-sample /boot/efi/EFI/refind/refind.conf # cp -r /usr/share/refind/{icons,fonts,drivers_x64} /boot/efi/EFI/refind/ 编辑刚才复制的配置文件。该文件有详细的注释。默认情况下，rEFInd 会在您的驱动器中寻找 EFISTUB 内核，所以您可能不需要做任何更改就能启动。 如果需要定制内核引导选项，复制示例配置文件到你的内核的目录。编辑该文件并为您的根分区输入正确的 PARTUUID 和 rootfstype （可以使用 blkid 和 lsblk -f）.</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fwiki.archlinux.org%2Ffavicon.ico?table=block&amp;id=16aa862f-0b3e-447a-a59d-a32c1c878b34&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://wiki.archlinux.org/index.php/REFInd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95%E9%A1%B9</div></div></div></div></a></div></div></div><div data-block-id=\"9895314e-722e-4c89-bc9d-72d892b2f7c9\" class=\"notion-selectable notion-sub_header-block\" id=\"9895314e-722e-4c89-bc9d-72d892b2f7c9\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">完成安装</div></div></div><div data-block-id=\"09bdf925-4f51-4929-bcb2-ea92d8af7347\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">#保证重启后进入系统可以在root下使用wifi-menu，如果是有线网，不需要安装dialog</span><span data-token-index=\"0\">\npacman -S networkmanager dialog\nsystemctl </span><span class=\"token builtin class-name\" data-token-index=\"0\">enable</span><span data-token-index=\"0\"> NetworkManager\n</span><span class=\"token builtin class-name\" data-token-index=\"0\">exit</span><span data-token-index=\"0\">\t</span><span class=\"token comment\" data-token-index=\"0\">#退出/mnt</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">umount</span><span data-token-index=\"0\"> -R /mnt\t</span><span class=\"token comment\" data-token-index=\"0\">#取消挂载</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">reboot</span><span data-token-index=\"0\">\t</span><span class=\"token comment\" data-token-index=\"0\">#重启</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"1fa81429-e645-4b8f-a5cd-2c0a42fb4f88\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">重启后，以用户名root登录。\nnetworkmanager会自动连接有线网络，查看以太网卡接口（当然可以使用wifi-menu连接无线网络）</div></div></div></div><div data-block-id=\"8be27d06-c4e7-40ca-8f72-763361d4849e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"7268e6c7-c790-42f7-9135-32adcaa76da6\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">ArchLinux相关配置见：<a href=\"https://idzc.me/posts/346b8ecb73b647ea87dc72acc5ee12cc\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">ArchLinux安装(二)-安装并配置AwesomeWM</span></a></div></div></div></div><div data-block-id=\"08c95751-bc05-42e2-a984-95c0f4b5661d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考文章：\n\n</div></div></div></div><div data-block-id=\"9af3bc68-84c2-425d-9a7e-8a34d18a3dd5\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.jianshu.com/p/d3078c2cb6f5https://blog.csdn.net/shuxiao9058/article/details/9020863\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">www.jianshu.com</div><div style=\"display: flex; margin-top: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://www.jianshu.com/p/d3078c2cb6f5https://blog.csdn.net/shuxiao9058/article/details/9020863</div></div></div></div></a></div></div></div><div data-block-id=\"47d3796a-d12d-48ae-bb5e-df29a3c5d4f4\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://yehuohan.github.io/2017/06/11/笔记/Arch-Linux安装记录/\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">yehuohan.github.io</div><div style=\"display: flex; margin-top: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://yehuohan.github.io/2017/06/11/笔记/Arch-Linux安装记录/</div></div></div></div></a></div></div></div><div data-block-id=\"83f744e0-3690-466f-b61b-d096d9d91646\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div>","slug":"f5fb79828baf4e678aa1aabaeba54315"}},{"node":{"description":"在最近的课程设计中使用Java写了一个独立博客，我想Java既然跨平台，我何不将打包后的jar包放在Linux下执行呢？\n因之，我折腾了本地访问VM Ware下的网络……","id":"5562c5f1-6466-5676-bf93-b1aeb65cea77","name":"VM Ware下通过ssh连接客户机","tags":["VMware","Skills"],"categories":["Tools"],"public_date":"2019-06-13","html":"<div data-block-id=\"cb39c755-8a5d-42b9-a8ac-c9a724121022\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在最近的课程设计中使用Java写了一个独立博客，我想Java既然跨平台，我何不将打包后的jar包放在Linux下执行呢？\n因之，我折腾了之前VM Ware下的ArchLinux，先安装了openssh软件包，但发现宿主机一直无法ssh通客户机，查找网上的帖子，当ssh通后，貌似不能连网了。\n下面参考<a href=\"https://blog.csdn.net/disalone201107/article/details/78411073\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">《解决ssh无法远程连接到NAT模式的虚拟机的问题》</span></a>一问，对该问题解决方案做简要记录。</div></div></div></div><div data-block-id=\"52ee5460-b52e-47a1-8a92-5c9de371f63d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">step1：将客户机的<span style=\"font-weight:600\" data-token-index=\"1\">网络适配器</span>的<span style=\"font-weight:600\" data-token-index=\"3\">网络连接</span>设置为<span style=\"font-weight:600\" data-token-index=\"5\">NAT模式</span></div></div></div></div></div><div data-block-id=\"0c495859-392a-49b5-919a-e43b7d89d098\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">step2：在Linux下获取客户机IP地址，本文为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">192.168.58.131</span></div></div></div></div></div><div data-block-id=\"ad2fe2fd-28dd-443d-b63e-5bdeddb7a3d4\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">step3：在<span style=\"font-weight:600\" data-token-index=\"1\">虚拟网络编辑器</span>中进行如下操作：</div></div><div data-block-id=\"8bdfcddd-58d1-445d-9c94-7023759dcfbf\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">点击<span style=\"font-weight:600\" data-token-index=\"1\">更改设置</span>，删除所有<span style=\"font-weight:600\" data-token-index=\"3\">外部连接</span>不为<span style=\"font-weight:600\" data-token-index=\"5\">NAT模式</span>的连接，本文删除后仅剩<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">VMnet8</span>。</div></div></div></div></div><div data-block-id=\"170d2c07-53c0-4958-8d8a-33d6381dcc91\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">点击<span style=\"font-weight:600\" data-token-index=\"1\">NAT设置</span>：</div></div><div data-block-id=\"60d181df-ac04-4afa-9d9f-10b17a45a60e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">设置<span style=\"font-weight:600\" data-token-index=\"1\">网关IP</span>为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">192.168.58.1</span>（即上文客户机的IP地址与255.255.255.0相与）</div></div></div></div></div><div data-block-id=\"686db627-eda2-402a-a3d5-5efa58b11b32\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">在<span style=\"font-weight:600\" data-token-index=\"1\">端口转发</span>添加：主机端口-22，类别-TCP，虚拟机IP地址（可自定义）-<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">192.168.58.2</span>，虚拟机端口-22。</div></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"df79f7bb-65fc-4e09-9024-0b306a3688e1\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">step4：在Windows（宿主机）的<span style=\"font-weight:600\" data-token-index=\"1\">网络适配器</span>中更改删除后仅剩的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">VMnet8</span>的<span style=\"font-weight:600\" data-token-index=\"5\">TCP/IPv4属性</span>：</div></div><div data-block-id=\"9dd50ebb-eb9c-4cae-8c8e-272ba8271c55\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">“使用下面的IP地址”：IP地址-<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">192.168.58.2</span>（端口转发添加的地址），子网掩码-255.255.255.0</div></div></div></div></div></div></div></div><div data-block-id=\"85907fb7-8799-4485-a90c-f6aab08d3b0c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考文章：<a href=\"https://blog.csdn.net/disalone201107/article/details/78411073\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">解决ssh无法远程连接到NAT模式的虚拟机的问题</span></a></div></div></div></div>","slug":"4171be15d5044db7b2a9e58bfb8bdd30"}},{"node":{"description":null,"id":"aed5eb7b-bae8-5416-a102-d4f6b1703504","name":"viPlugin破解方法","tags":["Crack","vim"],"categories":["Tools"],"public_date":"2019-05-15","html":"<div data-block-id=\"19249911-4de5-4174-9e55-4f75cb40b97b\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>1.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><a href=\"http://viplugin.com/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"0\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">http://viplugin.com/</span></a>此处下载viPlugin包<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">viPlugin_2.14.1.zip</span>。</div></div></div></div></div><div data-block-id=\"5e62879c-e5e7-4d47-8618-983f435df052\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>2.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">在eclipse中安装viPlugin，地址填写<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">http://viplugin.com</span>。</div></div></div></div></div><div data-block-id=\"42f3a87a-7b99-4c27-a28c-7e413b1dbcc0\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>3.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">解压<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">viPlugin_2.14.1.zip</span>得到<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">com.mbartl.viplugin.eclipse.layer_2.14.1.jar</span>。</div></div></div></div></div><div data-block-id=\"7cbaa846-a5bb-4d6e-90fa-fcb98473677f\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>4.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">再解压<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">com.mbartl.viplugin.eclipse.layer_2.14.1.jar</span>得到<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">***\\\\lib\\\\</span>文件夹下有3个jar包:</div></div></div></div></div><div data-block-id=\"97b53ac1-3288-4d2b-b0df-c851098995aa\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">commons-codec-1.6.jar\ncommons-lang-2.1.jar\nlicensechecker.jar</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"5aa8e0ab-a301-4660-8d24-f1c14e1474fb\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">5.导入这3个包，并运行如下代码：</div></div></div></div><div data-block-id=\"e5e83504-4f27-4bc7-adf5-2c335e6dca4c\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">com</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">mbartl</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">viimplementation</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">license</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">CheckLicenseFile</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> hello</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">static</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> args</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">try</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n            </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> lis </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CheckLicenseFile</span><span data-token-index=\"0\">\n                    </span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">encrypt</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"xxxx\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xxxx@gmail.com\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//用户和邮箱自己给定</span><span data-token-index=\"0\">\n            </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">lis</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n        </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">catch</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">Exception</span><span data-token-index=\"0\"> e</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n            </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">e</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getStackTrace</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">finally</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n            </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\";asdfasdf\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"b62e43b4-cb58-4afb-ac44-aefcc837bce4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">6.将输出的字符写进eclipse的workspace文件夹下的viPlugin2.lic中</div></div></div></div><div data-block-id=\"3a345661-cd26-4add-9e8e-e9907dd17008\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考文章：\n<a href=\"http://www.aiuxian.com/article/p-454859.html\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">http://www.aiuxian.com/article/p-454859.html</span></a></div></div></div></div>","slug":"9ecf1d332af74b98b1450e2b443a45f1"}},{"node":{"description":"最近刚做了最后一次实验，实现多线程同步（多线程对同一个缓冲区的使用问题），涉及到信号量的设计，这正是我知识点盲区……","id":"b091a848-e248-575b-8060-caab44d3db94","name":"操作系统实验——线程同步","tags":["underlying"],"categories":["Underlying Study"],"public_date":"2019-04-20","html":"<div data-block-id=\"ecb5aa57-7bdf-4b2a-a81a-c871337b8a25\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#5bafc167-2d49-470a-9bd4-7678786250d1\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实验内容</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#1056681e-b050-4c4e-9c88-8575947fbc0b\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实现信号量</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#1366985a-ea25-4736-b8b0-ca15b4f07adb\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">设计生产者/消费者</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#1a61bb4c-b882-44cd-b9e4-75c4dbfcf4ae\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">预备知识</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#3f2908f2-5991-4cb5-a2e7-49a765c0ced0\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">信号量</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#be2f9de2-c83a-4a5d-9760-b6a3b77ba689\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">线程睡眠/唤醒API</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#8e7af827-75d7-43d4-9b08-4bc107cc14fb\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实验步骤</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#1f8297c7-d998-4d0e-929f-4db84c29be5d\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">信号量系统调用实现</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c4ef21e6-fe48-47ea-bbff-be0644603627\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">生产者/消费者设计</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#5dda3b39-ec0f-4cf4-b500-3446afca8485\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实验结果</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#09bb552d-accb-459f-87b5-e9d9361e9173\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">感谢</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#32bfa939-c963-47b4-839f-02f2e73fa974\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">代码附录</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#77aeacd2-011c-434c-9da9-90c70502807d\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">main.c</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#29e9f967-adf1-4fec-ab03-dd44cfc6438a\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">lab4.h</div></div></div></a></div></div></div><div data-block-id=\"f93bd842-a014-4f11-ae63-6ec9b84d6231\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">最近刚做了最后一次实验，实现多线程同步（多线程对同一个缓冲区的使用问题），涉及到信号量的设计，这正是我知识点盲区，所以写得有点久了。</div></div></div></div><div data-block-id=\"1745d482-fe87-41db-86a4-204be290981c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">于是参考此处，略补了一点知识：<a href=\"https://github.com/Wangzhike/HIT-Linux-0.11/tree/master/5-semaphore\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://github.com/Wangzhike/HIT-Linux-0.11/tree/master/5-semaphore</span></a></div></div></div></div><div data-block-id=\"9c76d650-3978-42a3-8174-e419e2bbf539\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">下面进入正题（开始抄老师ppt）。</div></div></div></div><div data-block-id=\"5bafc167-2d49-470a-9bd4-7678786250d1\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"5bafc167-2d49-470a-9bd4-7678786250d1\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实验内容</div></div></div><div data-block-id=\"1056681e-b050-4c4e-9c88-8575947fbc0b\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"1056681e-b050-4c4e-9c88-8575947fbc0b\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实现信号量</div></div></div><div data-block-id=\"867ba6dd-9a5a-427b-a59b-42ee680d83cf\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">编辑文件kernel/sem.c，实现如下四个函数\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">int sys_sem_create(int value)value</span>是信号量的初值\n分配内存要用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">kmalloc</span>，不能用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">malloc</span>！\n成功返回信号量ID，否则返回-1\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">int sys_sem_destroy(int semid)</span>\n释放内存要用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">kfree</span>，不能用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"11\" spellcheck=\"false\">free</span>！\n成功返回0，否则返回-1\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"13\" spellcheck=\"false\">int sys_sem_wait(int semid)</span>\nP操作，要用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"15\" spellcheck=\"false\">save_flags_cli</span>/<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"17\" spellcheck=\"false\">restore_flags</span>和函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"19\" spellcheck=\"false\">sleep_on</span>\n成功返回0，否则返回-1\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"21\" spellcheck=\"false\">int sys_sem_signal(int semid)</span>\nV操作，要用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"23\" spellcheck=\"false\">save_flags_cli</span>/<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"25\" spellcheck=\"false\">restore_flags</span>和函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"27\" spellcheck=\"false\">wake_up</span>\n成功返回0，否则返回-1\n把这四个函数做成系统调用，分别是<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"29\" spellcheck=\"false\">sem_create/destroy/wait/signal</span></div></div></div></div><div data-block-id=\"1366985a-ea25-4736-b8b0-ca15b4f07adb\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"1366985a-ea25-4736-b8b0-ca15b4f07adb\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">设计生产者/消费者</div></div></div><div data-block-id=\"ef8476ef-5f68-4a89-b3e1-d5a4dc08caaa\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">①在图形模式下将屏幕沿垂直方向分成N份，作为N个缓冲区。其次，创建两个线程，其中一个是生产者，负责生成随机数并填到缓冲区中；另一个线程是消费者，负责把缓冲区中的随机数进行排序</div></div><div data-block-id=\"45cea482-be47-4d48-8414-8b0708ab0470\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">生产者生成随机数后，要画到缓冲区</div></div></div></div></div><div data-block-id=\"3df2277f-de3a-4188-b930-2e8affd8b33a\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">消费者完成排序之后，要清除缓冲区</div></div></div></div></div></div></div></div><div data-block-id=\"9c41863c-591b-4eeb-8acb-ec9fe02e8254\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">②创建一个控制线程，用键up/down控制生产者的优先级，用键right/left控制消费者的优先级</div></div><div data-block-id=\"503c7bd6-0d18-449e-a54f-7b3de5a3d1ac\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">把控制线程的静态优先级设置到最高，以保证控制效果</div></div></div></div></div><div data-block-id=\"685510de-6cfd-45be-888f-1303df57c190\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">在屏幕上用进度条动态显示生产者和消费者的静态优先级</div></div></div></div></div></div></div></div><div data-block-id=\"1a61bb4c-b882-44cd-b9e4-75c4dbfcf4ae\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"1a61bb4c-b882-44cd-b9e4-75c4dbfcf4ae\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">预备知识</div></div></div><div data-block-id=\"3f2908f2-5991-4cb5-a2e7-49a765c0ced0\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"3f2908f2-5991-4cb5-a2e7-49a765c0ced0\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">信号量</div></div></div><div data-block-id=\"58c816d4-8d90-4466-b549-a8ff1d410440\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">关于信号量</span>\n可以参考文章:<a href=\"https://github.com/Wangzhike/HIT-Linux-0.11/blob/master/5-semaphore/%20Linux%200.11%E4%B8%8B%E4%BF%A1%E5%8F%B7%E9%87%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%92%8C%E5%BA%94%E7%94%A8.md\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"2\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\"> Linux 0.11下信号量的实现和应用</span></a></div></div></div></div><div data-block-id=\"d2d94daa-a36e-477a-8c47-e05b79de0e24\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">EPOS互斥</span></div></div></div></div><div data-block-id=\"246a8645-2d9c-4eac-b1aa-c4e5241a688d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">EPOS运行于单CPU的计算机上 –内核可以用开关中断实现互斥</div></div></div></div></div><div data-block-id=\"bdf3b6e8-6d92-450f-bc0a-1247687d735e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">中断的开关由EFLAGS中的IF位决定，指令如下：</div></div><div data-block-id=\"07278876-4ccc-47c0-aa67-ed19b3d22ba5\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">sti，IF=1 中断打开</div></div></div></div></div><div data-block-id=\"1c6fa2a6-7307-4df2-af74-78a6d08804dc\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">cli，IF=0 中断关闭</div></div></div></div></div></div></div></div><div data-block-id=\"0b1be8de-97aa-445f-a9d2-74dad4976d20\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">EFLAGS组成如下：</div></div></div></div><div data-block-id=\"0db171f2-6f0c-4c4d-9d61-6011a48b005b\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be found.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink (Error 404)</div></div></div></div></div></div></div><div data-block-id=\"e6804db8-6bdc-4db1-a9f0-752908d2e941\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">EPOS提供的中断API：</div></div></div></div><div data-block-id=\"5893c0f3-c086-41d8-94f4-e59fd4d55c89\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">保存EFLAGS的值到一个变量flags中，然后IF=0\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">save_flags_cli(flags)</span></div></div></div></div></div><div data-block-id=\"d6cb00a5-1568-430e-878a-418f9266ab06\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">把变量flags的值恢复到EFLAGS中\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">restore_flags(flags)</span></div></div></div></div></div><div data-block-id=\"130b5d3b-aa73-4579-b73c-c63b6a2f8410\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">Sample:</div></div></div></div><div data-block-id=\"03bc79ee-e070-485a-9e0a-a854f88f1f25\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token class-name\" data-token-index=\"0\">uint32_t</span><span data-token-index=\"0\"> flags</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token function\" data-token-index=\"0\">save_flags_cli</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n临界区\n\n</span><span class=\"token function\" data-token-index=\"0\">restore_flags</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"be2f9de2-c83a-4a5d-9760-b6a3b77ba689\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"be2f9de2-c83a-4a5d-9760-b6a3b77ba689\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">线程睡眠/唤醒API</div></div></div><div data-block-id=\"a222d74d-4e39-4a4d-925e-b59a2c23f261\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">睡眠</span><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">void sleep_on(struct wait_queue **head)</span>\n参数head是睡眠队列的头指针\n<span style=\"font-weight:600\" data-token-index=\"3\">唤醒</span><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">void wake_up(struct wait_queue **head, int n)</span>\n参数n表示要唤醒的线程个数，n小于0表示唤醒该队列中的所有线程\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"6\" spellcheck=\"false\">sleep_on</span>和<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"8\" spellcheck=\"false\">wake_up</span>必须在关中断环境中运行，即用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"10\" spellcheck=\"false\">save_flags_cli</span>/<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"12\" spellcheck=\"false\">restore_flags</span>保护</div></div></div></div><div data-block-id=\"7d3aa6e3-adf2-4c3a-80bb-305ac399386b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">Sample:</div></div></div></div><div data-block-id=\"ce45e3cc-a714-4de0-ae38-05c0c5644235\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">wait_queue</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">wq_kbd </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//!!!非常重要!!!</span><span data-token-index=\"0\">\n</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\">   buf_kbd</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">//从键盘读按键信息</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_getchar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n     </span><span class=\"token class-name\" data-token-index=\"0\">uint32_t</span><span data-token-index=\"0\"> flags</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n     </span><span class=\"token function\" data-token-index=\"0\">save_flags_cli</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n     \n     </span><span class=\"token comment\" data-token-index=\"0\">//睡眠等待用户按键</span><span data-token-index=\"0\">\n     </span><span class=\"token function\" data-token-index=\"0\">sleep_on</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">wq_kbd</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n     \n     </span><span class=\"token function\" data-token-index=\"0\">restore_flags</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n     </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> buf_kbd</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">//键盘中断处理函数</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">isr_keyboard</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">uint32_t</span><span data-token-index=\"0\"> irq</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">context</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">ctx</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n     buf_kbd </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">read_data_from_kbd</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      \n     </span><span class=\"token comment\" data-token-index=\"0\">//注意：在ISR中，中断已经被关闭</span><span data-token-index=\"0\">\n     </span><span class=\"token comment\" data-token-index=\"0\">//唤醒1个等待用户按键的线程</span><span data-token-index=\"0\">\n     </span><span class=\"token function\" data-token-index=\"0\">wake_up</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">wq_kbd</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">     \n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"8e7af827-75d7-43d4-9b08-4bc107cc14fb\" class=\"notion-selectable notion-sub_header-block\" id=\"8e7af827-75d7-43d4-9b08-4bc107cc14fb\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实验步骤</div></div></div><div data-block-id=\"1f8297c7-d998-4d0e-929f-4db84c29be5d\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"1f8297c7-d998-4d0e-929f-4db84c29be5d\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">信号量系统调用实现</div></div></div><div data-block-id=\"a719bca2-9a8c-47d4-a55f-64ffbf0401ee\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">kernel\\kernel.h中定义结构体类型<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">Semaphore</span>，并声明需要用到的相关全局变量，并且声明系统调用服务例程函数</div></div></div></div><div data-block-id=\"2ebbb933-c4a7-4e2a-a48a-3cba7f193c07\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">// lab4</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">typedef</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Semaphore</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> id</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t\t\t\t\t </span><span class=\"token comment\" data-token-index=\"0\">// semaphore identifier</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> val</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t\t\t\t </span><span class=\"token comment\" data-token-index=\"0\">// semaphore value</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">wait_queue</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> wq</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">   </span><span class=\"token comment\" data-token-index=\"0\">// wait queue</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Semaphore</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// next semaphore</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> Sem_t</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">// global variables</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">extern</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> GSID</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t\t\t</span><span class=\"token comment\" data-token-index=\"0\">// allocate global semaphore identifier</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">extern</span><span data-token-index=\"0\"> Sem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> g_sem_head</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">   </span><span class=\"token comment\" data-token-index=\"0\">// header of semaphore link</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">extern</span><span data-token-index=\"0\"> Sem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> g_sem_slctd</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// selected semaphore in temporary use</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_sem_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> value</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_sem_destroy</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> semid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> semid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> semid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"4959649b-01e6-4c5b-9d78-2c0b7777264d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">需要对<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">Semaphore</span>结构体类型说明的是：\n①<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">Sem_t</span>为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">struct Semaphore</span>的别名\n②<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">id</span>来自于<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">GSID</span>的值，作用是标识唯一的信号量结构体，后面通过它来寻找对应的信号量结构体首地址\n③<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"11\" spellcheck=\"false\">val</span>是信号量的值，在每一次P/V操作后会增1/减1\n④<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"13\" spellcheck=\"false\">wq</span> 是存放要使用该信号量的线程的等待队列的头指针\n⑤<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"15\" spellcheck=\"false\">next</span>使用next指针把所用信号量串成一个单向链表。</div></div></div></div><div data-block-id=\"ed42935a-eed6-4593-ae76-33330232ad60\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在\\kernel\\sem.c中完成对全局变量的初始化，以及对系统调用服务例程函数的实现</div></div></div></div><div data-block-id=\"b3b7b6bd-deda-4457-b516-c47afa5e2441\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> GSID </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t\t\t\t</span><span class=\"token comment\" data-token-index=\"0\">// allocate global semaphore identifier</span><span data-token-index=\"0\">\nSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> g_sem_head </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">   </span><span class=\"token comment\" data-token-index=\"0\">// header of semaphore link</span><span data-token-index=\"0\">\nSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> g_sem_slctd </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// selected semaphore in temporary use</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// insert semaphore into link</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">InsertSem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Sem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> new</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">!</span><span data-token-index=\"0\">g_sem_head</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\t   </span><span class=\"token comment\" data-token-index=\"0\">// No semaphore</span><span data-token-index=\"0\">\n\t\tg_sem_head </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> new</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// to be header</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\tSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> p_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_sem_head</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// locate to the tail semaphore</span><span data-token-index=\"0\">\n\t\t\tp_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> p_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tp_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> new</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// insert into this link</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// return the addr of semaphore by its id</span><span data-token-index=\"0\">\nSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">AddrSem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> sid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> p_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_sem_head</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">id </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> sid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> p_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\">\n\t\t\tp_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> p_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// create a new semaphore</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_sem_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> value</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> new_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Sem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token function\" data-token-index=\"0\">kmalloc</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">sizeof</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Sem_t</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// if failed to alloc space</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">!</span><span data-token-index=\"0\">new_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// else</span><span data-token-index=\"0\">\n\tnew_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">id </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> GSID</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tnew_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">val </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> value</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tnew_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">wq </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tnew_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">InsertSem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">new_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> GSID</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_sem_destroy</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> sid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">!</span><span data-token-index=\"0\">g_sem_head</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> del </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">AddrSem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">sid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// to be destroyed</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">del </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> g_sem_head</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">   </span><span class=\"token comment\" data-token-index=\"0\">// if the destroying semaphore is the link header</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">g_sem_head</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// and if exist others next to the header</span><span data-token-index=\"0\">\n\t\t\tg_sem_head </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_sem_head</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// update header</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">kfree</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">del</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tdel </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\t\t\t\t\t\t</span><span class=\"token comment\" data-token-index=\"0\">// else, not the header</span><span data-token-index=\"0\">\n\t\tSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> p_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_sem_head</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// find the prev semaphore</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Sem </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> del</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> p_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> p_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// if p_Sem not NULL, p_Sem is prev semaphore, else, no prev one</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\tp_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> del</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">kfree</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">del</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\tdel </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> sid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">AddrSem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">sid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">!</span><span data-token-index=\"0\">w_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// no this semaphore</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">sid</span><span class=\"token operator\" data-token-index=\"0\">==</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n        </span><span class=\"token function\" data-token-index=\"0\">printk</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"w id val=%d\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">w_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">val</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tw_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">val</span><span class=\"token operator\" data-token-index=\"0\">--</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">w_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">val </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token class-name\" data-token-index=\"0\">uint32_t</span><span data-token-index=\"0\"> flags</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">save_flags_cli</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sleep_on</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">w_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">wq</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// let thread get into wait queue</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">restore_flags</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> sid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tSem_t</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">AddrSem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">sid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">!</span><span data-token-index=\"0\">w_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// no this semaphore</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">sid</span><span class=\"token operator\" data-token-index=\"0\">==</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n        </span><span class=\"token function\" data-token-index=\"0\">printk</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"s id val=%d\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">w_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">val</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tw_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">val</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">w_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">val </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token class-name\" data-token-index=\"0\">uint32_t</span><span data-token-index=\"0\"> flags</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">save_flags_cli</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">wake_up</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">w_Sem</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">wq</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// wake up a thread from wait queue</span><span data-token-index=\"0\">\n        </span><span class=\"token function\" data-token-index=\"0\">restore_flags</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"2bd20416-bb3e-4f0e-8500-841b55e28821\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">注：AddrSem(sid)可以得到id为sid的信号量x地址，但使用AddrSem(sid-1)来得到链表中信号量x的前一个信号量地址是有缺陷的，因为sid-1的信号量可能已被destroy。但本实验不涉及这个问题，你可以采用AddrSem(sid-1)先得到sid-1的信号量地址Y，然后Y-&gt;next自然便是信号量x的地址。</div></div></div><div data-block-id=\"d593d0fa-5cf1-4bd2-b498-6a542a34ae48\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">系统调用的添加，参考前几次实验的添加步骤，大致如下：</div></div></div></div><div data-block-id=\"5a7c1b3d-c87a-4d3f-b71c-0dae4e422e5a\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>1.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\userapp\\include\\syscall.h</span> 声明系统调用API</div></div></div></div></div><div data-block-id=\"ea74bfff-72fe-4322-aed3-a35825199b24\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>2.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\userapp\\lib\\syscall-wrapper.S</span> 定义封装例程</div></div></div></div></div><div data-block-id=\"34423782-928b-4100-b722-e6ab4d209bd7\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>3.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\include\\syscall-nr.h</span> 定义系统调用号</div></div></div></div></div><div data-block-id=\"d2f6735e-4fb7-439d-af71-5acf97d9035e\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>4.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\kernel\\kernel.h</span> 声明系统调用服务例程函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">sys_xxx</span></div></div></div></div></div><div data-block-id=\"ffb62df9-13cc-4cab-8cb3-5dd620ff61d3\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>5.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\kernel\\sem.c</span> 实现系统调用服务例程函数</div></div></div></div></div><div data-block-id=\"ac1b1341-d3fd-4a67-bf64-02d9ea68e5cf\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>6.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\kernel\\machdep.c</span> 在系统调用分发函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">syscall()</span>中根据系统调用号加入<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">SYSCALL_xxx</span>分支。\n跳过。</div></div></div></div></div><div data-block-id=\"c4ef21e6-fe48-47ea-bbff-be0644603627\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"c4ef21e6-fe48-47ea-bbff-be0644603627\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">生产者/消费者设计</div></div></div><div data-block-id=\"f0f96994-5e39-47aa-bed3-ca57d6fb8b0c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">后面主要是创建线程，使用线程，画图之类的折腾，略述。\n\\userapp\\main.c中，声明全局变量，信号量ID，buffer大小</div></div></div></div><div data-block-id=\"e78e1052-81ff-4b84-a3a2-c259b8db71b5\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">ar_Size</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">25</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">bfN</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> emp_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> ful_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">bfN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// empty,full,mutex semaphore</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">bfN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// the buffer size, we have {bfN} buffers and each can</span><span data-token-index=\"0\">\n\t\t\t\t\t\t</span><span class=\"token comment\" data-token-index=\"0\">// contain {ar_Size} integers</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t……\n\temp_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sem_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">bfN</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tful_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sem_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> bfN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sem_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t……\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"13a35413-beff-45e1-891d-3d5b56575232\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">注：互斥信号量数量取决于buffer的数量，这样可使生产者在填充新的缓冲区同时，可以让消费者清除旧的缓冲区（针对多消费者多生产者情况）。若只一个，那么只有等生产者线程填充完新的缓冲区，消费者才能清除旧的缓冲区，尽管两者使用的缓冲区并不是同一个。即使生产者线程用完了自己的时间片，由于共用了同一互斥信号量，消费者线程得到时间片也进不了临界区，直到生产者线程完成新缓冲区的填充。</div></div></div><div data-block-id=\"8f628ea5-a1e3-456c-b5f9-e3827be0c58e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">下面说说生产者与消费者线程函数的创建，模板如下（具体代码见尾部）:\n生产者线程函数模板：</div></div></div></div><div data-block-id=\"15d95592-0a07-475a-a0d7-239ed1ef7570\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo_producer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> seqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// 缓冲区编号</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">emp_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// 填充缓冲区代码区</span><span data-token-index=\"0\">\n\t\t\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ful_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tseqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqN </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> bfN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// 切换到下一个缓冲区</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"8a96d2b6-e728-4ecd-b3d2-f71a842197ca\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">消费者线程函数模板：</div></div></div></div><div data-block-id=\"a7d62cd1-d24e-407a-9e36-caa67979a5a0\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo_consumer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> seqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// 缓冲区编号</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ful_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// 清空缓冲区代码区</span><span data-token-index=\"0\">\n\t\t\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">emp_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tseqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqN </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> bfN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// 切换到下一个缓冲区</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"5dda3b39-ec0f-4cf4-b500-3446afca8485\" class=\"notion-selectable notion-sub_header-block\" id=\"5dda3b39-ec0f-4cf4-b500-3446afca8485\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实验结果</div></div></div><div data-block-id=\"cc2432da-1a09-46b1-bad3-590b9127fabc\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be loaded.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink</div></div></div></div></div></div></div><div data-block-id=\"f6a31ffd-c89c-41bd-8d91-cc830cab9829\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">可以直观地从图中看出，当缓冲区满了，生产者还想生产时，必须等待消费者消费一个缓冲区；缓冲区空时，消费者还想消费，必须等待生产者生产完一个。</div></div></div></div><div data-block-id=\"09bb552d-accb-459f-87b5-e9d9361e9173\" class=\"notion-selectable notion-sub_header-block\" id=\"09bb552d-accb-459f-87b5-e9d9361e9173\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">感谢</div></div></div><div data-block-id=\"95c2a45e-0d33-466a-b59d-79874bce6864\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">感谢洪明坚老师的ppt，感谢学长们的实验报告，感谢网上大神的笔记。</div></div></div></div><div data-block-id=\"32bfa939-c963-47b4-839f-02f2e73fa974\" class=\"notion-selectable notion-sub_header-block\" id=\"32bfa939-c963-47b4-839f-02f2e73fa974\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">代码附录</div></div></div><div data-block-id=\"77aeacd2-011c-434c-9da9-90c70502807d\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"77aeacd2-011c-434c-9da9-90c70502807d\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">main.c</div></div></div><div data-block-id=\"a24cf9d0-8e8b-47cd-a928-a2f9535e9427\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">/*\n * vim: filetype=c:fenc=utf-8:ts=4:et:sw=4:sts=4\n */</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">&lt;inttypes.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">&lt;math.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">&lt;netinet/in.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">&lt;stddef.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">&lt;stdio.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">&lt;stdlib.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">&lt;sys/mman.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">&lt;syscall.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"graphics.h\"</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">extern</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tlsf_create_with_pool</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> mem</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">size_t</span><span data-token-index=\"0\"> bytes</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">extern</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> g_heap</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// lab4</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"lab4.h\"</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * GCC insists on __main\n *    &lt;http://gcc.gnu.org/onlinedocs/gccint/Collect2.html&gt;\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">__main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token class-name\" data-token-index=\"0\">size_t</span><span data-token-index=\"0\"> heap_size </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">32</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1024</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1024</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> heap_base </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">mmap</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> heap_size</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> PROT_READ </span><span class=\"token operator\" data-token-index=\"0\">|</span><span data-token-index=\"0\"> PROT_WRITE</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\t\t\t   MAP_PRIVATE </span><span class=\"token operator\" data-token-index=\"0\">|</span><span data-token-index=\"0\"> MAP_ANON</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tg_heap </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tlsf_create_with_pool</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">heap_base</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> heap_size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 第一个运行在用户模式的线程所执行的函数\n */</span><span data-token-index=\"0\">\n\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"task #%d: I'm the first user task(pv=0x%08x)!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_getid</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t   pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token comment\" data-token-index=\"0\">// TODO: Your code goes here</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">test_lab4</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"29e9f967-adf1-4fec-ab03-dd44cfc6438a\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"29e9f967-adf1-4fec-ab03-dd44cfc6438a\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">lab4.h</div></div></div><div data-block-id=\"0b5ace0f-e892-4719-b7a9-63441e44a929\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">ifndef</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token expression\" data-token-index=\"0\">_LAB4_</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">_LAB4_</span><span data-token-index=\"0\">\n\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">ar_Size</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">25</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">max_Elem</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">100</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">bfN</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">// global variables</span><span data-token-index=\"0\">\n</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\"> scr_X</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t\t </span><span class=\"token comment\" data-token-index=\"0\">// screen width</span><span data-token-index=\"0\">\n</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\"> scr_Y</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t\t </span><span class=\"token comment\" data-token-index=\"0\">// screen length</span><span data-token-index=\"0\">\n</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">   </span><span class=\"token comment\" data-token-index=\"0\">// each buffer's width</span><span data-token-index=\"0\">\n</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\"> line_Ylen</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// each line's height</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">float</span><span data-token-index=\"0\"> line_LenR</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t </span><span class=\"token comment\" data-token-index=\"0\">// the ratio of transforming elements in array to a line's</span><span data-token-index=\"0\">\n\t\t\t\t\t </span><span class=\"token comment\" data-token-index=\"0\">// length</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> emp_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> ful_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">bfN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// empty,full,mutex semaphore</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">bfN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// the buffer size, we have {bfN} buffers and each can</span><span data-token-index=\"0\">\n\t\t\t\t\t\t</span><span class=\"token comment\" data-token-index=\"0\">// contain {ar_Size} integers</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// Drwa a line, width = 15</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">DrawLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> x0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> y0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> length</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> COLORREF cr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">15</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> length</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x0 </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> y0 </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> cr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// Draw the bar to show priority</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> length</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> LorR</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> seqN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tCOLORREF cr</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">LorR </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\tseqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tcr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\tseqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">9</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tcr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> x0 </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> seqN </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> buf_Xlen </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">39</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x0 </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> cr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> length </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x0 </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">119</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">136</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">153</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// set time delay for thread action</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">DrawDelay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">long</span><span data-token-index=\"0\"> lMs</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">long</span><span data-token-index=\"0\"> lRemainingMilliSecond </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">lMs</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1000</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">long</span><span data-token-index=\"0\"> lNanoSecond </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> lRemainingMilliSecond </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1000000</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">timespec</span><span data-token-index=\"0\"> ts_sleep</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> ts_remaining</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tts_sleep</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">tv_sec </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">lMs</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1000</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tts_sleep</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">tv_nsec </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> lNanoSecond</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">nanosleep</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ts_sleep</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ts_remaining</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// swap lines between a_lineNum and b_lineNum in the seqNum buffer</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">SwapBufLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">DrawLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> a_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_Ylen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_LenR</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">DrawLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> a_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_Ylen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_LenR</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">DrawLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> b_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_Ylen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_LenR</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">DrawLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> b_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_Ylen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_LenR</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tmp </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tarray</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tarray</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> tmp</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// Bubble Sort</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">BubbleSort</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// Draw again, unnecessary,just for beauty</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_Ylen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_LenR</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\t </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// start to sort this buffer</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> ar_Size </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j</span><span class=\"token operator\" data-token-index=\"0\">--</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">SwapBufLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">array</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> seqNum</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawDelay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">55</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// controller can change the priority</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo_control</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> key</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> tid_List </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">pv</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_A </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> tid_List</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_B </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> tid_List</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// Draw priority bar first</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tkey </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getchar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// wait for input</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">switch</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">key</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x4800</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// UP</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x5000</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// DOWN</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x4d00</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// RIGHT</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x4b00</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// LEFT</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">default</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// producer: generate rand arrays and put into buffer</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo_producer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> seqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// the sequence number of buffer</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">srand</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">time</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">emp_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// output the buffer</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\tbuf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">rand</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> max_Elem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqN </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_Ylen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_LenR</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\t\t </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawDelay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">40</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ful_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tseqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqN </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> bfN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// next buffer</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// consumer: sort the array in buffer outside critical region</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo_consumer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> seqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// the sequence number of buffer</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ful_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">BubbleSort</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">buf</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> seqN</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// clear the buffer</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawDelay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">200</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqN </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> line_Ylen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> buf_Xlen</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">seqN</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">sem_signal</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">emp_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tseqN </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">seqN </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> bfN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// next buffer</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// test function</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">test_lab4</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// enter the gui</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> graphMode </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x143</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">init_graphic</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">graphMode</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// initialize the semaphore</span><span data-token-index=\"0\">\n\temp_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sem_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">bfN</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tful_Sem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sem_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> bfN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sem_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// initial the parameter used to draw</span><span data-token-index=\"0\">\n\tscr_X </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_graphic_dev</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">XResolution</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tscr_Y </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_graphic_dev</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">YResolution</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tbuf_Xlen </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> scr_X </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">bfN </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tline_Ylen </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> scr_Y </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tline_LenR </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">buf_Xlen </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">float</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">max_Elem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token comment\" data-token-index=\"0\">// alloc stack space</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> st_Size </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1024</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1024</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">stk_Pro</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">stk_Con</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">stk_Ctr</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tstk_Pro </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token function\" data-token-index=\"0\">malloc</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tstk_Con </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token function\" data-token-index=\"0\">malloc</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tstk_Ctr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token function\" data-token-index=\"0\">malloc</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// create threads</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_Pro</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tid_Con</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tid_Ctr</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\ttid_Pro </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stk_Pro </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tsk_foo_producer</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\ttid_Con </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stk_Con </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tsk_foo_consumer</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_List</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">tid_Pro</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tid_Con</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\ttid_Ctr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stk_Ctr </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tsk_foo_control</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">tid_List</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// initial the priorities</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Pro</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Con</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Ctr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// nice = -19</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token comment\" data-token-index=\"0\">// exit all threads</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Pro</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Con</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Ctr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">free</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stk_Pro</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">free</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stk_Con</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">free</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stk_Ctr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token comment\" data-token-index=\"0\">// free the semaphore</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">sem_destroy</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">emp_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">sem_destroy</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ful_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> bfN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sem_destroy</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">mut_Sem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">endif</span><span class=\"token macro property\" data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">//_LAB4_</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div>","slug":"442b4fbc623d4e3aa638f3a7e0739eb0"}},{"node":{"description":null,"id":"c77dd8ed-2068-572c-806d-715b1d3e7357","name":"操作系统实验——线程创建与调度","tags":["underlying"],"categories":["Underlying Study"],"public_date":"2019-04-18","html":"<div data-block-id=\"9b949b6b-52e5-4908-b318-497a83c4b177\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#fd656702-dd2b-45af-9bff-38411df631bb\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实验目的</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#9672a5bb-fe32-4700-9093-caec8bca1247\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实验内容</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#2316f25e-f8d9-474d-bcff-3f747daa9d18\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">预备知识</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#68d7b51a-50ec-4bf3-a12f-8b19d7f0a8ca\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">线程API</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#d544c5f0-db54-4b50-a050-8968bf01409c\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">随机数组生成</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#64a129e2-cffb-4691-a678-7c96f336d490\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">图形模式API</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#fee2c4ae-6042-4525-b5b2-223992d47546\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">线程调度</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#1496b3c7-7b5d-4188-b19c-756fddef4b81\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">关于定点数</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#9665ba2a-c96b-49b1-9d8b-40c0f8fb3614\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实验步骤</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#259a6612-bd61-4177-8d6f-6a85fc8f3f57\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">增加tcb属性nice</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c63eb00c-7f67-498f-82ef-f80fcd4ec3e3\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">增加系统调用</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#e4534dcd-2ed1-42ac-b512-4f83bc63293e\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">tcb增加动态优先级属性</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#9a9d4be9-c306-44c2-a3b5-535407d12693\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">优先级调度算法</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#0ae670c0-d625-4ab8-8c60-4d18758a6fd8\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">测试调度器</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#14e97d76-9f8b-42fa-b889-87734b72d230\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实验结果</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#2566c064-bf64-47d5-900b-1bfd3084a385\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">总结</div></div></div></a></div></div></div><div data-block-id=\"7d32fee0-a28e-40b1-9182-90c98fe68edb\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"5167cb57-00c9-4da5-bb67-897e2ad84190\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">说明：</div></div></div></div><div data-block-id=\"ddcb8886-3a48-4e24-a073-f1e7570c4d2e\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">最近做了实验二和实验三，由于两者相关，所以堆在一起总结。\n另外注意到，各个bbs上也流传着往届学长写的总结，这也是老师只甩给我们PPT，我们也能做出这实验的原因之一。\n在此呢，我就写写自己的总结，当然也参考了往届学长的做法（，并且还把老师的PPT抄了一遍）。</div></div></div><div data-block-id=\"fd656702-dd2b-45af-9bff-38411df631bb\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"fd656702-dd2b-45af-9bff-38411df631bb\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实验目的</div></div></div><div data-block-id=\"f22a1d21-e3bc-43ce-a8c0-f37e500cd636\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">掌握线程的创建</div></div></div></div></div><div data-block-id=\"b9d34b35-2699-497d-aec2-b3d9a92662c8\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">掌握线程的调度</div></div><div data-block-id=\"2e8e5af1-a9ca-4285-a9d1-4f551c5fdcca\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">静态优先级调度</div></div></div></div></div><div data-block-id=\"bf6ac673-043b-402f-a2a1-ec1411a2a32b\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">动态优先级调度</div></div></div></div></div></div></div></div><div data-block-id=\"9672a5bb-fe32-4700-9093-caec8bca1247\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"9672a5bb-fe32-4700-9093-caec8bca1247\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实验内容</div></div></div><div data-block-id=\"ab78abcb-d5d2-4241-a582-30fcaef9cede\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">先贴实验内容：（EPOS系统，我会在上篇文章的实验一给出）</div></div></div></div><div data-block-id=\"45e55660-c2d1-4ae4-87b8-d60db982e72d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">创建两个冒泡排序的线程，记为A和B</div></div><div data-block-id=\"005c76ee-6f3a-4cf1-a7d5-8f63c6ba418c\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">分别占用屏幕的两个位置</div></div></div></div></div><div data-block-id=\"b1cea5e8-0b0e-4cca-86e9-2f6815ab5f45\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">在屏幕上用进度条动态显示两个线程的静态优先级</div></div></div></div></div></div></div></div><div data-block-id=\"edbc058b-1816-4667-beee-cc324da90bbd\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">另外创建一个控制线程</div></div><div data-block-id=\"24d6274c-f9f1-457e-a13f-fc435f922462\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">循环等待键盘输入</div></div><div data-block-id=\"bbbe26e5-83f5-4f1c-8d93-f7e07c77baae\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">int key = getchar();</span></div></div></div></div></div></div></div></div><div data-block-id=\"8e899d04-03e1-459f-9806-0980ce24775d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">如果key==0x4800(up)/0x5000(down)</div></div><div data-block-id=\"5eb12efc-1131-43cd-95a4-22b0f251e23b\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">调用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">setpriority</span>调高/低A线程的静态优先级</div></div></div></div></div><div data-block-id=\"f38a1c7e-1d7a-4c4b-830b-a33d1faf3688\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">更新A的优先级进度条</div></div></div></div></div></div></div></div><div data-block-id=\"6adf042b-6dfb-46d0-b40f-27b0e91eb43d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">如果key==0x4d00(right)/0x4b00(left)</div></div><div data-block-id=\"2ce8a703-86ab-49d8-bc76-235892807945\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">调用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">setpriority</span>调高/低B线程的静态优先级</div></div></div></div></div><div data-block-id=\"5c3e4471-d9de-4ab2-b243-35d2518e267d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">更新B的优先级进度条</div></div></div></div></div></div></div></div><div data-block-id=\"bee788ae-eda3-4947-8036-8b40a4be4bb6\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">把控制线程的静态优先级设置到最高，以保证控制效果</div></div></div></div></div></div></div></div><div data-block-id=\"2316f25e-f8d9-474d-bcff-3f747daa9d18\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"2316f25e-f8d9-474d-bcff-3f747daa9d18\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">预备知识</div></div></div><div data-block-id=\"68d7b51a-50ec-4bf3-a12f-8b19d7f0a8ca\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"68d7b51a-50ec-4bf3-a12f-8b19d7f0a8ca\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">线程API</div></div></div><div data-block-id=\"1ed72379-5e6c-4cc8-9e5d-ce7eea4eb87c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">下面说明实验所用到的API函数。\n<span style=\"font-weight:600\" data-token-index=\"1\">线程创建</span></div></div></div></div><div data-block-id=\"2127c712-015b-4f50-8b0f-38f5b102fe7e\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">tos</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">func</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"d68bd0be-4994-49da-95dc-71b52b135813\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">tos</span> ：用户栈的栈顶指针\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">func</span> ：线程函数\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">pv</span> ：传递给线程函数func的参数，一般传结构体指针以传多个参数\n返回值 ：大于0，则表示新创建线程之ID</div></div></div></div><div data-block-id=\"a6a5e01a-ba24-4ea3-8ab0-88d0288ee8b7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">线程退出</span></div></div></div></div><div data-block-id=\"6cd14e96-d555-4020-b23e-4fcd5a2178f6\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> code_exit</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"3603535c-80ee-418f-b657-f4e1a2d941c2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">code_exit</span> ：线程的退出代码</div></div></div></div><div data-block-id=\"a601f9ce-4274-4266-8282-caa18ce5f2a2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">获取当前线程的ID</span></div></div></div></div><div data-block-id=\"f3fdd67a-7066-46a9-b52d-7a32d31f1e6f\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_getid</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"586b4998-49b3-485a-9cf4-7194446236ef\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">等待线程退出</span></div></div></div></div><div data-block-id=\"2f8c5fb3-f80c-4531-808a-f4ac7387aed2\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">pcode_exit</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"0175d101-2ebd-4306-8ab4-b60ee1bebf0e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">tid</span> ：要等待线程之ID\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">pcode_exit</span> ：如果非NULL，用于保存线程tid的退出代码</div></div></div></div><div data-block-id=\"69231eba-7b9c-4e79-b8ea-d274696be7a3\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">Sample:</div></div></div></div><div data-block-id=\"46c63991-4408-400f-b3aa-24c84a751bf4\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">// Define thread function</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"This is task foo with tid=%d\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_getid</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// exit this task</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> st_Size </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1024</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1024</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// alloc user stack</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> stack_foo </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token function\" data-token-index=\"0\">malloc</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// create thread</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_foo </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack_foo </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tsk_foo</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// waiting for the quiting of threads</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_foo</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// release the memory</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">free</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack_foo</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"d544c5f0-db54-4b50-a050-8968bf01409c\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"d544c5f0-db54-4b50-a050-8968bf01409c\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">随机数组生成</div></div></div><div data-block-id=\"8d51301f-5f85-41c0-bfc9-a2f086b60189\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RandDemo</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">srand</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">time</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t</span><span class=\"token comment\" data-token-index=\"0\">// Use current time as seed for random generator</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> n</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">//generate elements are between 0~max_Elem</span><span data-token-index=\"0\">\n\t\tarray</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">rand</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> max_Elem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\t\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"64a129e2-cffb-4691-a678-7c96f336d490\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"64a129e2-cffb-4691-a678-7c96f336d490\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">图形模式API</div></div></div><div data-block-id=\"a5645d5b-4fa8-4939-908e-fb995d852b96\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">下面说明本实验可能用到的API函数。\n<span style=\"font-weight:600\" data-token-index=\"1\">获取当前系统支持的图形模式</span></div></div></div></div><div data-block-id=\"5d2df7e3-c8f9-418b-bd28-22d5f6c05cda\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">list_graphic_modes</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"1d20b6c9-9b07-45e8-b446-c66de350e4a9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">需在文本模式下运行才可看到结果。\n老师PPT参考模式列表：</div></div></div></div><div data-block-id=\"d0ccef70-818f-4e4e-9248-4dbf2ed15fb5\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be found.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink (Error 404)</div></div></div></div></div></div></div><div data-block-id=\"26d0caa2-6dc5-490a-a078-e99da995fb4a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">进入图形模式</span></div></div></div></div><div data-block-id=\"f15ca362-f0e1-40d9-8880-3cdf79495454\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">init_graphic</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> mode</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"e8b618ff-99a4-4a7e-9e45-622d3f6669e8\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">mode</span>: 为上述图形模式对应的值，如<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">int mode=0x100</span></div></div></div></div><div data-block-id=\"23d849eb-bb0e-48b2-ae87-b1ab42155374\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">获取屏幕的分辨率</span>\n直接访问变量获取：\n水平：<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">g_graphic_dev.XResolution</span>\n垂直：<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">g_graphic_dev.YResolution</span></div></div></div></div><div data-block-id=\"0ae032d1-1c3d-4c0d-b20b-1a4f30af8b5b\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">注：g_graphic_dev在graphics.h中被声明为一个全局变量，使用时应包含此头文件。</div></div></div><div data-block-id=\"d27ca3b2-e021-435c-b7af-1d55cdff59af\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">打像素点</span></div></div></div></div><div data-block-id=\"d7f2d799-3b22-446a-944f-202ef4d4d756\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> x</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> y</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> COLORREF cr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"486a779c-bfa3-4713-b534-b8a0b25dec72\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">(x, y)</span>是像素点坐标\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">cr</span>是颜色，用宏定义<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">RGB(r,g,b)</span>生成，其中r,g,b的取值范围都是0-255</div></div></div></div><div data-block-id=\"8ddf3975-e038-4f86-8a5a-cc6173dc59e3\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">如何从cr中取出r,g,b？用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">getXValue(cr)</span>，其中<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">X=R,G,B</span>，如<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">getRValue(cr)</span>取出cr的R分量值。</div></div></div></div><div data-block-id=\"6dbb45b2-ea16-4cde-82ce-f4f044d007ac\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">退出图形模式</span></div></div></div></div><div data-block-id=\"24fe77af-5d41-4247-b0b8-2c311bf55d40\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">exit_graphic</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"fee2c4ae-6042-4525-b5b2-223992d47546\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"fee2c4ae-6042-4525-b5b2-223992d47546\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">线程调度</div></div></div><div data-block-id=\"dd380186-1345-4ac7-b55a-cda01b310bfe\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">优先级</span></div></div></div></div><div data-block-id=\"fe471b07-0baa-4ea5-8056-7ebb3c4beb67\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">静态优先级(<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">nice</span>)：内核不会修改它，不随时间而变化，除非用户通过系统调用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">setpriority</span>进行修改。</div></div></div></div></div><div data-block-id=\"8e9b0d04-3de7-4928-be97-7617d3b1d424\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">动态优先级(<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">priority</span>)：内核根据线程使用CPU的状况、静态优先级nice和系统负荷计算出来，会随时间而变。作为最终的调度依据，即调度器只根据动态优先级进行调度。</div></div></div></div></div><div data-block-id=\"c14c1aec-e914-4191-8a6c-58e4ad1b0f37\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">线程数据结构</span></div></div></div></div><div data-block-id=\"19a6524d-7c7e-46e1-a08f-e557ded94db2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">epos的线程数据结构为单向链表：</div></div></div></div><div data-block-id=\"62484bd5-ced5-4e98-a81f-95143527a4e8\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be found.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink (Error 404)</div></div></div></div></div></div></div><div data-block-id=\"ff83c69a-a517-4fb4-9c51-14c237cf4b73\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">注意：</div></div></div></div><div data-block-id=\"1de6a725-8037-4209-b2c1-90421d2c8b24\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">在系统启动过程中，<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">g_task_running</span>是<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">NULL</span>！</div></div></div></div></div><div data-block-id=\"0d852930-1bcf-44f9-a01d-0b97aa2956ac\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">task0(tid=0)</span>是系统空闲线程（system idle thread），当没有其他线程可运行时，才运行<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">task0</span>!</div></div></div></div></div><div data-block-id=\"1496b3c7-7b5d-4188-b19c-756fddef4b81\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"1496b3c7-7b5d-4188-b19c-756fddef4b81\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">关于定点数</div></div></div><div data-block-id=\"5ae281c2-b5de-4e5e-919a-c9dd8f0c96e9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">本次实验为追求性能采用了定点数去定义一部分变量。</div></div></div></div><div data-block-id=\"82d80d46-6e45-43f1-b5f2-c25b5ba0e055\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">浮点(float-point)表示 ：精度高，性能差！</div></div></div></div></div><div data-block-id=\"970d61da-b5fe-45f6-a6f5-e6fc37590ff1\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">定点(fixed-point)表示：精度低，性能好！</div></div></div></div></div><div data-block-id=\"4f5e4fc8-e6e2-4b24-acb3-b4bdf40601d9\" class=\"notion-selectable notion-quote-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"font-size: 1.2em; padding: 3px 2px; color: inherit; fill: inherit; display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Empty quote\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); border-left: 3px solid currentcolor; padding-left: 0.9em; padding-right: 0.9em;\">注：文件fixedptc.h中定义了定点数类型fixedpt及其运算，所以使用时需包含该头文件</div></div></div><div data-block-id=\"655b1e07-2344-4f2b-a5c4-1c3c0832f5e1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">另外，阅读往届学长的实验报告，发现代码中出现很多的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">fixedpt_mul(,)</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">fixedpt_div(,)</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">fixedpt_add(,)</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">fixedpt_sub(,)</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">fixedpt_fromint(,)</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"11\" spellcheck=\"false\">fixedpt_toint(,)</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"13\" spellcheck=\"false\">FIXEDPT_ONE</span>……这是出于对性能的考虑。\n但其中<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"15\" spellcheck=\"false\">fixedpt_add(,)</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"17\" spellcheck=\"false\">fixedpt_sub(,)</span>的宏定义如下：</div></div></div></div><div data-block-id=\"575ac90d-5b2a-4245-8637-f8729a31a772\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name function\" data-token-index=\"0\">fixedpt_add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token expression\" data-token-index=\"0\">A</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token expression\" data-token-index=\"0\">B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token expression\" data-token-index=\"0\">A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token expression\" data-token-index=\"0\">B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name function\" data-token-index=\"0\">fixedpt_sub</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token expression\" data-token-index=\"0\">A</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token expression\" data-token-index=\"0\">B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token expression\" data-token-index=\"0\">A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token expression\" data-token-index=\"0\">B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"1214096d-f256-4076-ad37-1b3efb06f8ea\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">因此定点加减法可直接使用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">+、-</span>，因为没任何性能提升，反而让代码像a piece of shit。</div></div></div></div><div data-block-id=\"9665ba2a-c96b-49b1-9d8b-40c0f8fb3614\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"9665ba2a-c96b-49b1-9d8b-40c0f8fb3614\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实验步骤</div></div></div><div data-block-id=\"259a6612-bd61-4177-8d6f-6a85fc8f3f57\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"259a6612-bd61-4177-8d6f-6a85fc8f3f57\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">增加tcb属性nice</div></div></div><div data-block-id=\"090b5036-e284-49c7-8259-6fba4939a398\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">说明：</div></div></div></div><div data-block-id=\"5897c638-64b0-4384-bc22-7e355cf698bb\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">nice</span>是整数，取值范围<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">[-NZERO, NZERO-1]</span>，值越小优先级越高</div></div></div></div></div><div data-block-id=\"77d24166-defc-4fd6-9533-bc77549fe52a\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">#define NZERO 20</span></div></div></div></div></div><div data-block-id=\"e5d0f18f-509b-41c2-a125-bd42ddeeb643\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">①\\kernel\\kernel.h中，为线程数据结构<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">struct tcb</span>线程的静态优先级<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">nice</span>属性。</div></div></div></div><div data-block-id=\"818328b8-4621-4364-8f54-4be1831522c6\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t……\n    </span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">fpu</span><span data-token-index=\"0\"> fpu</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//数学协处理器的寄存器</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> nice</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">   </span><span class=\"token comment\" data-token-index=\"0\">//static priority</span><span data-token-index=\"0\">\n\n    </span><span class=\"token class-name\" data-token-index=\"0\">uint32_t</span><span data-token-index=\"0\"> signature</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//必须是最后一个字段</span><span data-token-index=\"0\">\n\t……\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"483b65a7-5df1-48d4-bd67-bfecf265ba45\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">②在\\kernel\\task.c中，函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">sys_task_create</span>中初始化<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">nice=0</span>。</div></div></div></div><div data-block-id=\"cfc17748-8f0c-489f-ad24-2a39e7506086\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> tos</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">func</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t……\n\tnew</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">signature </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> TASK_SIGNATURE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\tnew</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">nice </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// initialize the static priority</span><span data-token-index=\"0\">\n\t……\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c63eb00c-7f67-498f-82ef-f80fcd4ec3e3\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"c63eb00c-7f67-498f-82ef-f80fcd4ec3e3\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">增加系统调用</div></div></div><div data-block-id=\"614420b0-0933-4e22-8f64-c03fada3ef30\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">系统调用说明：</div></div></div></div><div data-block-id=\"e58ab9fe-92e6-4645-8cb4-d60e0d53bbf9\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">int getpriority(int tid)</span></div></div><div data-block-id=\"32e9f47a-0a82-4960-9325-5907ad99d88f\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">成功返回(<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">nice+NZERO</span>)，失败返回-1</div></div></div></div></div></div></div></div><div data-block-id=\"e56ab80a-411f-4809-b6e4-e5186fe450ce\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">int setpriority(int tid, int prio)</span></div></div><div data-block-id=\"ad075921-1553-4f10-a95a-665305a4a9ad\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">把线程tid的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">nice</span>设为(<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">prio-NZERO</span>)</div></div></div></div></div><div data-block-id=\"1c08d4b9-04a5-45e4-aeab-f85a23aeddfd\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">prio</span>必须在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">[0,2*NZERO-1]</span></div></div></div></div></div><div data-block-id=\"77264478-98c1-40ea-8b7e-dc211d8e687a\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">成功返回0，失败返回-1</div></div></div></div></div></div></div></div><div data-block-id=\"9b5c59b1-685d-45ae-9fd7-23449a79170a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">①按照实验一，增加系统调用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">getpriority</span> ,<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">setpriority</span>,\n大致步骤略述：</div></div></div></div><div data-block-id=\"fd6b3e6b-b92b-4adb-b42d-3977520deb08\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>1.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\userapp\\include\\syscall.h</span> 声明系统调用API</div></div></div></div></div><div data-block-id=\"ffbc5858-487c-4a2a-88e9-73844d1c5c68\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>2.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\userapp\\lib\\syscall-wrapper.S</span> 定义封装例程</div></div></div></div></div><div data-block-id=\"870dc8bb-a2b8-467b-b1a4-8b7e5b592438\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>3.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\include\\syscall-nr.h</span> 定义系统调用号</div></div></div></div></div><div data-block-id=\"69dccb60-e5fe-4a56-9d23-80e182686a25\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>4.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\kernel\\kernel.h</span> 声明系统调用服务例程函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">sys_setpriority</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">sys_getpriority</span></div></div></div></div></div><div data-block-id=\"d5dafae8-50be-42c8-ba19-f1a881546e83\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>5.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\kernel\\machdep.c</span> 实现两个系统调用服务例程函数。</div></div></div></div></div><div data-block-id=\"82dca370-4163-4c48-8876-2b763e627ca9\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>6.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">\\kernel\\machdep.c</span> 在系统调用分发函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">syscall()</span>中根据系统调用号加入<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">SYSCALL_xxx</span>分支。</div></div></div></div></div><div data-block-id=\"36d3db69-db64-4d13-817a-1ae4330fa3ec\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">②主要代码：\nsyscall()分发函数中添加分支：</div></div></div></div><div data-block-id=\"e9fa9ad4-01bc-4189-a664-0bb1c8aaf4cf\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">switch</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ctx</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">eax</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t……\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> SYSCALL_getpriority</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> \n\t</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> ttid </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ctx</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">esp </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">4</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tctx</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">eax </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ttid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> SYSCALL_setpriority</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> ttid </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ctx</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">esp </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">4</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> pprio </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ctx</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">esp </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tctx</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">eax </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ttid</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> pprio</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t……\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"97ad7f07-eef5-4ba2-8d3d-6670c70af346\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">系统调用服务例程函数的实现：</div></div></div></div><div data-block-id=\"344bc962-01c3-4887-abb4-1ffd308c520a\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">GetSelectedTcb</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> selected_Tcb</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// tid!=1</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token class-name\" data-token-index=\"0\">uint32_t</span><span data-token-index=\"0\"> flags</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">save_flags_cli</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// avoid interrupting</span><span data-token-index=\"0\">\n\t\tselected_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_task_head</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// find the tcb whose tid == tid</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">selected_Tcb </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">selected_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">tid </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> tid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\tselected_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> selected_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">restore_flags</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">flags</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// tid==0,return current tcb</span><span data-token-index=\"0\">\n\t\tselected_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_task_running</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> selected_Tcb</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> selected_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">GetSelectedTcb</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> selected_Tcb </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">?</span><span data-token-index=\"0\"> selected_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">nice </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> NZERO </span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> prio</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> op_Result </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// if failed,return -1, otherwise 0</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> valid_Prio </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> prio </span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> prio </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> NZERO </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> selected_Tcb</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tselected_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> valid_Prio </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">?</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">GetSelectedTcb</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tselected_Tcb </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">?</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">selected_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">nice </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> prio </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> NZERO</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t\t\t\t </span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">op_Result </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> op_Result</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"e4534dcd-2ed1-42ac-b512-4f83bc63293e\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"e4534dcd-2ed1-42ac-b512-4f83bc63293e\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">tcb增加动态优先级属性</div></div></div><div data-block-id=\"0a4179f2-4e2f-4dc7-bc4b-896a08f9c195\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">待增加的变量说明</span></div></div></div></div><div data-block-id=\"0efdaaed-7680-41f6-b30b-1d880374e464\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">estcpu</span>-表示线程所用CPU时间，<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">fixedpt</span>型，定时器中断会更新一次，并且每秒钟所有线程也会更新其<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">estcpu</span></div></div></div></div></div><div data-block-id=\"160d5da4-c204-4400-bd3e-d1439cf2e124\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">priority</span>-表示线程的动态优先级，<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">int</span>型，范围0-127</div></div></div></div></div><div data-block-id=\"c37c9c2b-58d9-4d6b-9b1a-65fe4f80bf14\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">g_load_avg</span>-表示系统的平均负荷，<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">fixedpt</span>型，每秒更新</div></div></div></div></div><div data-block-id=\"e0605808-29c0-423f-b642-a7d76dcfddf0\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">更新规则：\n<span style=\"font-weight:600\" data-token-index=\"1\">estcpu</span>:</div></div></div></div><div data-block-id=\"6f3529c9-a2a7-4d22-82eb-cf2a18bb3e6a\" class=\"notion-selectable notion-equation-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex; position: relative;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; position: relative; width: 100%; border-radius: 3px;\"><div style=\"display: flex; padding: 4px 8px; width: 100%; flex-direction: column; overflow: auto; color: inherit; fill: inherit;\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mi>s</mi><mi>t</mi><mi>c</mi><mi>p</mi><mi>u</mi><mo>⇐</mo><mfrac><mrow><mn>2</mn><mo>×</mo><mi>g</mi><mi mathvariant=\"normal\">_</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi mathvariant=\"normal\">_</mi><mi>a</mi><mi>v</mi><mi>g</mi></mrow><mrow><mn>2</mn><mo>×</mo><mi>g</mi><mi mathvariant=\"normal\">_</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi mathvariant=\"normal\">_</mi><mi>a</mi><mi>v</mi><mi>g</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>×</mo><mi>e</mi><mi>s</mi><mi>t</mi><mi>c</mi><mi>p</mi><mi>u</mi><mo>+</mo><mi>n</mi><mi>i</mi><mi>c</mi><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">estcpu \\Leftarrow \\frac{2\\times g\\_load\\_avg}{2\\times g\\_load\\_avg +1} \\times estcpu+nice</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.80952em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇐</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.39044em;vertical-align:-0.996em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.39444em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">1</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.6999999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.996em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.80952em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">e</span></span></span></span></span></div></div></div></div><div data-block-id=\"88df6db5-efdf-4fb2-8451-47e3cf3e3f4e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">\n可化为\n\n</div></div></div></div><div data-block-id=\"db380ea4-3958-45ce-b54e-e5101150479c\" class=\"notion-selectable notion-equation-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex; position: relative;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; position: relative; width: 100%; border-radius: 3px;\"><div style=\"display: flex; padding: 4px 8px; width: 100%; flex-direction: column; overflow: auto; color: inherit; fill: inherit;\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mi>s</mi><mi>t</mi><mi>c</mi><mi>p</mi><mi>u</mi><mo>⇐</mo><mi>e</mi><mi>s</mi><mi>t</mi><mi>c</mi><mi>p</mi><mi>u</mi><mo>−</mo><mfrac><mrow><mi>e</mi><mi>s</mi><mi>t</mi><mi>c</mi><mi>p</mi><mi>u</mi></mrow><mrow><mn>2</mn><mo>×</mo><mi>g</mi><mi mathvariant=\"normal\">_</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi mathvariant=\"normal\">_</mi><mi>a</mi><mi>v</mi><mi>g</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>+</mo><mi>n</mi><mi>i</mi><mi>c</mi><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">estcpu \\Leftarrow estcpu-\\frac{estcpu}{2\\times g\\_load\\_avg +1}+nice</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.80952em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇐</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.80952em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.28808em;vertical-align:-0.996em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.29208em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">1</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.996em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">e</span></span></span></span></span></div></div></div></div><div data-block-id=\"8a479752-cb35-4595-9d35-8ef0f60dc48c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">\n<span style=\"font-weight:600\" data-token-index=\"1\">prority</span>:\n\n</div></div></div></div><div data-block-id=\"92a2e184-66bb-48ba-b226-82dcec348d69\" class=\"notion-selectable notion-equation-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex; position: relative;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; position: relative; width: 100%; border-radius: 3px;\"><div style=\"display: flex; padding: 4px 8px; width: 100%; flex-direction: column; overflow: auto; color: inherit; fill: inherit;\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>⇐</mo><mi>P</mi><mi>R</mi><mi>I</mi><mi mathvariant=\"normal\">_</mi><mi>U</mi><mi>S</mi><mi>E</mi><mi>R</mi><mi mathvariant=\"normal\">_</mi><mi>M</mi><mi>A</mi><mi>X</mi><mo>−</mo><mfrac><mrow><mi>e</mi><mi>s</mi><mi>t</mi><mi>c</mi><mi>p</mi><mi>u</mi></mrow><mn>4</mn></mfrac><mo>−</mo><mn>2</mn><mo>×</mo><mi>n</mi><mi>i</mi><mi>c</mi><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">prority \\Leftarrow PRI\\_USER\\_MAX-\\frac{estcpu}{4}-2\\times nice</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇐</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.99333em;vertical-align:-0.31em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathdefault\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathdefault\">A</span><span class=\"mord mathdefault\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.9780799999999998em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.29208em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">4</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">s</span><span class=\"mord mathdefault\">t</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">u</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">c</span><span class=\"mord mathdefault\">e</span></span></span></span></span></div></div></div></div><div data-block-id=\"f0a281b0-bf6e-40ba-b499-b47826995b2d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">\n<span style=\"font-weight:600\" data-token-index=\"1\">g_load_avg</span>:\n\n</div></div></div></div><div data-block-id=\"9fd82c50-5e1d-4e77-b360-c4047ec932f9\" class=\"notion-selectable notion-equation-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex; position: relative;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; position: relative; width: 100%; border-radius: 3px;\"><div style=\"display: flex; padding: 4px 8px; width: 100%; flex-direction: column; overflow: auto; color: inherit; fill: inherit;\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mi mathvariant=\"normal\">_</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi mathvariant=\"normal\">_</mi><mi>a</mi><mi>v</mi><mi>g</mi><mo>⇐</mo><mfrac><mn>59</mn><mn>60</mn></mfrac><mo>×</mo><mi>g</mi><mi mathvariant=\"normal\">_</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi mathvariant=\"normal\">_</mi><mi>a</mi><mi>v</mi><mi>g</mi><mo>+</mo><mfrac><mn>1</mn><mn>60</mn></mfrac><mo>×</mo><mi>n</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">g\\_load\\_avg \\Leftarrow \\frac{59}{60}\\times g\\_load\\_avg+\\frac{1}{60}\\times nready</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.00444em;vertical-align:-0.31em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇐</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.00744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">6</span><span class=\"mord\">0</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">5</span><span class=\"mord\">9</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.00444em;vertical-align:-0.31em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.00744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">6</span><span class=\"mord\">0</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span></div></div></div></div><div data-block-id=\"ffbe53e4-942b-4d74-adcb-0f7bb24d1ba7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">\n可化为\n\n</div></div></div></div><div data-block-id=\"2fedafb6-faa7-437c-b104-e6d561c3b3b8\" class=\"notion-selectable notion-equation-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex; position: relative;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; position: relative; width: 100%; border-radius: 3px;\"><div style=\"display: flex; padding: 4px 8px; width: 100%; flex-direction: column; overflow: auto; color: inherit; fill: inherit;\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mi mathvariant=\"normal\">_</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi mathvariant=\"normal\">_</mi><mi>a</mi><mi>v</mi><mi>g</mi><mo>⇐</mo><mi>g</mi><mi mathvariant=\"normal\">_</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi mathvariant=\"normal\">_</mi><mi>a</mi><mi>v</mi><mi>g</mi><mo>−</mo><mfrac><mrow><mi>g</mi><mi mathvariant=\"normal\">_</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi mathvariant=\"normal\">_</mi><mi>a</mi><mi>v</mi><mi>g</mi></mrow><mn>60</mn></mfrac><mo>+</mo><mfrac><mrow><mi>n</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mi>y</mi></mrow><mn>60</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">g\\_load\\_avg \\Leftarrow g\\_load\\_avg-\\frac{g\\_load\\_avg}{60}+\\frac{ nready}{60}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.00444em;vertical-align:-0.31em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇐</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.00444em;vertical-align:-0.31em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.08044em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.39444em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">6</span><span class=\"mord\">0</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.6999999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathdefault\">o</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord\" style=\"margin-right:0.02778em;\">_</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.0574399999999997em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714399999999998em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">6</span><span class=\"mord\">0</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">n</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">e</span><span class=\"mord mathdefault\">a</span><span class=\"mord mathdefault\">d</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></div></div></div></div><div data-block-id=\"5309e7af-598a-4ca4-ba13-5e75eb3c6f3d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"ed1a6d0b-7f22-41de-996c-33bd88977b60\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">①在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">struct tcb</span>中，增加两个属性<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">estcpu</span>, <span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">priority</span>，头部声明一个全局变量<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">g_load_avg</span>\n\\kernel\\kernel.h中：\n在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">nice</span>属性后插入</div></div></div></div><div data-block-id=\"750020b2-e7d0-493d-bc3f-e82c606ed044\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> nice</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">   </span><span class=\"token comment\" data-token-index=\"0\">//static priority  </span><span data-token-index=\"0\">\nfixedpt estcpu</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//record the time of using cpu  </span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> priority</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">   </span><span class=\"token comment\" data-token-index=\"0\">//the priority of thread  </span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"0a03dd8f-fe89-4dbf-9478-14181fb0bca4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">头部需声明：</div></div></div></div><div data-block-id=\"5fca2ddc-8a37-45a6-80ee-cae140d4e242\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"fixedptc.h\"</span><span class=\"token macro property\" data-token-index=\"0\">      </span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">NZERO</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token expression\" data-token-index=\"0\">    </span><span class=\"token comment\" data-token-index=\"0\">//The bound of static priority  </span><span data-token-index=\"0\">\nfixedpt g_load_avg</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//System average load  </span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c4fb2a87-77c9-4a2d-b56c-648fc110c7e6\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在\\kernel\\task.c中：\n头部声明：</div></div></div></div><div data-block-id=\"348e9690-bb9f-4606-b375-6434b7cb8dd0\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">PRI_USER_MIN</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token expression\" data-token-index=\"0\">  </span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">PRI_USER_MAX</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">127</span><span class=\"token expression\" data-token-index=\"0\">  </span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"fcb2e90d-0eac-4d17-937a-8e809ca451cf\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">②在函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">sys_task_create</span>中<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">new-&gt;nice=0</span>后初始化<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">estcpu=0</span></div></div></div></div><div data-block-id=\"6bb25ea3-0a09-4a90-9bd5-d8fb0ef65470\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">new</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">nice </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// initialize the static priority  </span><span data-token-index=\"0\">\nnew</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">estcpu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_fromint</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  \nnew</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">priority </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">  \n    PRI_USER_MAX</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// new-&gt;priority=PRI_USER_MAX-(estcpu/4)-(nice*2);  </span><span data-token-index=\"0\">\n                   </span><span class=\"token comment\" data-token-index=\"0\">// initial the dynamic priority </span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"f7ade838-fea3-4b3c-a460-d2882fd74127\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">③在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">init_task()</span>中初始化<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">g_load_avg</span></div></div></div></div><div data-block-id=\"0da90479-c35f-463f-ab45-ef8b5f6cbf55\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">init_task</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  \n        ……  \n    g_task_own_fpu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  \n  \n    g_load_avg </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_fromint</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  \n        ……  \n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">  </span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"f79c2373-ad0f-4d9f-835e-21e5b8b1758e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">④每次定时器中断更新<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">estcpu</span>和<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">g_load_avg</span>：\n在\\kernel\\timer.c中<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">isr_timer()</span>函数前添加<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">UpdateEstcpu()</span>实现每秒为所有线程（运行、就绪和等待）更新<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">estcpu</span>和<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"11\" spellcheck=\"false\">g_load_avg</span>，<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"13\" spellcheck=\"false\">isr_timer()</span>中每次定时器中断更新<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"15\" spellcheck=\"false\">estcpu</span>，其中<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"17\" spellcheck=\"false\">g_timer_ticks % HZ == 0</span>表示已过1秒，此时应调用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"19\" spellcheck=\"false\">UpdateEstcpu()</span></div></div></div></div><div data-block-id=\"430e0244-33e6-498d-8df2-1f7cd125adb1\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">/**Update estcpu*/</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">UpdateEstcpu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> nready </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> p_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_task_head</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//point to some tcb in the linked list</span><span data-token-index=\"0\">\n\n    fixedpt deno </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_load_avg </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> g_load_avg </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> FIXEDPT_ONE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//the denominator of ratio as estcpu updating</span><span data-token-index=\"0\">\n\n    </span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//count the num of thread in ready queue</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> task0 </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">state </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> TASK_STATE_READY</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n            nready</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//update estcpu</span><span data-token-index=\"0\">\n        p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">estcpu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">estcpu\n            </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_div</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">estcpu</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> deno</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n            </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_fromint</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">nice</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        p_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">//update the average load</span><span data-token-index=\"0\">\n    g_load_avg </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_load_avg\n        </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_div</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">g_load_avg</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_fromint</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">60</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n        </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_div</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">fixedpt_fromint</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">nready</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_fromint</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">60</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 定时器的中断处理程序\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">isr_timer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">uint32_t</span><span data-token-index=\"0\"> irq</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">context</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> ctx</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    g_timer_ticks</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">//sys_putchar('.');</span><span data-token-index=\"0\">\n\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">g_task_running </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//如果是task0在运行，则强制调度</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">g_task_running</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">tid </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n            g_resched </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n            </span><span class=\"token comment\" data-token-index=\"0\">//否则，把当前线程的时间片减一</span><span data-token-index=\"0\">\n            </span><span class=\"token operator\" data-token-index=\"0\">--</span><span data-token-index=\"0\">g_task_running</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">timeslice</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n            </span><span class=\"token comment\" data-token-index=\"0\">//update estcpu for every timer tick</span><span data-token-index=\"0\">\n            </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">g_task_running </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> task0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n                g_task_running</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">estcpu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_task_running</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">estcpu </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> FIXEDPT_ONE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n            </span><span class=\"token comment\" data-token-index=\"0\">//如果当前线程用完了时间片，也要强制调度</span><span data-token-index=\"0\">\n            </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">g_task_running</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">timeslice </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n                g_resched </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n                g_task_running</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">timeslice </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> TASK_TIMESLICE_DEFAULT</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n            </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n        </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">//one second has gone</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">g_timer_ticks </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> HZ </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n        </span><span class=\"token function\" data-token-index=\"0\">UpdateEstcpu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"9a9d4be9-c306-44c2-a3b5-535407d12693\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"9a9d4be9-c306-44c2-a3b5-535407d12693\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">优先级调度算法</div></div></div><div data-block-id=\"453272d2-0722-4aab-83ab-e428fd91fcb4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">调度算法：</span>\n①线程链表中仅有task0 ? (切换到task0，重新调度) : ②\n②队首为task0 ? (从g_task_head-&gt;next开始遍历，然后③) : (从g_task_head开始遍历，然后③)\n③从遍历列表中找出最大优先级的tcb，同时更新priority（除task0）\n④切换到选中的tcb，重新调度</div></div></div></div><div data-block-id=\"f883df08-990c-422f-ba4d-82a98b14425f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">算法实现：</span>\n修改\\kernel\\task.c中的函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">schedule()</span>，实现优先级调度算法。\n附上修改后的代码，说明见注释：</div></div></div></div><div data-block-id=\"25469472-e04c-4a3d-882f-45867025c223\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">/**\n *  Calculate the priority,\n *  Find the highest-priority thread, return it\n *  Maybe there's only task0, return it\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">SelectedTcb</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> p_Tcb</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> maxprio_Tcb</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tmaxprio_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> p_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_task_head</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// update the priority</span><span data-token-index=\"0\">\n\t\tp_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">priority </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">\n\t\t\tPRI_USER_MAX </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">fixedpt_toint</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">fixedpt_div</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">estcpu</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">fixedpt_fromint</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">4</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">\n\t\t\tp_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">nice </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">priority </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> PRI_USER_MIN</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">priority </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> PRI_USER_MIN</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">priority </span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> PRI_USER_MAX</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">priority </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> PRI_USER_MAX</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> task0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">priority </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\">\n\t\t\t\t\tmaxprio_Tcb\n\t\t\t\t\t\t</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">priority </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// search the highest-priority thread</span><span data-token-index=\"0\">\n\t\t\t\tp_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">state </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> TASK_STATE_READY</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t\tmaxprio_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> p_Tcb</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\tp_Tcb </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> p_Tcb</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> maxprio_Tcb</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// return the max prio one, maybe task0</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * CPU调度器函数\n *\n * 注意：该函数的执行不能被中断\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">schedule</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">tcb</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> select </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">SelectedTcb</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">select </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> g_task_running</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">select</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">state </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> TASK_STATE_READY</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\tselect </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> task0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// printk(\"0x%d -&gt; 0x%d\\\\r\\\\n\", (g_task_running == NULL) ? -1 :</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// g_task_running-&gt;tid, select-&gt;tid);</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">select</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">signature </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> TASK_SIGNATURE</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">printk</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"warning: kernel stack of task #%d overflow!!!\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> select</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">tid</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tg_resched </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">switch_to</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">select</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"0ae670c0-d625-4ab8-8c60-4d18758a6fd8\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"0ae670c0-d625-4ab8-8c60-4d18758a6fd8\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">测试调度器</div></div></div><div data-block-id=\"9e5ee1b0-dd54-44a9-8685-ff24c9222f32\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">后面的工作就是创建线程、定义线程函数、折腾画图函数等操作，不做介绍，直接贴代码。\nmain.c函数中：</div></div></div></div><div data-block-id=\"8da5feef-398a-4f12-8237-087614e9aea7\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">……\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"graphics.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"lab3.h\"</span><span data-token-index=\"0\">\n……\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 第一个运行在用户模式的线程所执行的函数\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"task #%d: I'm the first user task(pv=0x%08x)!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_getid</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t   pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token comment\" data-token-index=\"0\">// TODO: Your code goes here</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">test_lab3</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"54b122c2-6487-4983-9510-07d6b446c8a0\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">lab3.h</div></div></div></div><div data-block-id=\"0e4025f4-0d34-40cc-ad26-a24f460183b3\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">ifndef</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token expression\" data-token-index=\"0\">_LAB3_</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">_LAB3_</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">/*\n#include &lt;inttypes.h&gt;\n#include &lt;math.h&gt;\n#include &lt;netinet/in.h&gt;\n#include &lt;stddef.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;sys/mman.h&gt;\n#include &lt;syscall.h&gt;\n#include \"graphics.h\"\n*/</span><span data-token-index=\"0\">\n\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">ar_Size</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">100</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">max_Elem</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">300</span><span data-token-index=\"0\">\n</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\"> l_Ratio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Thr</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> prio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> length</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> LorR</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\"> x </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_graphic_dev</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">XResolution </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> sign </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> LorR</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tCOLORREF cr</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">sign </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\tcr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\">\n\t\tcr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">78</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> sign </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">119</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">136</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">153</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">78</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> length</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> sign </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">78</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> cr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">78</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo_control</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> key</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Thr</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> th </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Thr</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">pv</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_A </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> th</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">tid</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> prio_A </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> th</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">prio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_B </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> th</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">tid</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> prio_B </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> th</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">prio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\tkey </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getchar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">switch</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">key</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x4800</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// UP</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">prio_A </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> prio_A </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">40</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">--</span><span data-token-index=\"0\">prio_A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x5000</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// DOWN</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">prio_A </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> prio_A </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">38</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">prio_A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_A</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x4d00</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// RIGHT</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">prio_B</span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> prio_B </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">40</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">--</span><span data-token-index=\"0\">prio_B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x4b00</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// LEFT</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">prio_B </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> prio_B </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">38</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">prio_B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_B</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">default</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">//  create 2 arrays</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Generate2arrays</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> ar_1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> ar_2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">srand</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">time</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">float</span><span data-token-index=\"0\"> x_Begin </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_graphic_dev</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">XResolution </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\tar_1</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> ar_2</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">rand</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> max_Elem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token comment\" data-token-index=\"0\">// draw lines</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">line</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> ar_1</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> l_Ratio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">line</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x_Begin </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">28</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> x_Begin </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">28</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> ar_1</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> l_Ratio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t i </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&lt;=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">78</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x_Begin </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">119</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">136</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">153</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> g_graphic_dev</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">YResolution</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">setPixel</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x_Begin</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// set time delay for thread action</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">DrawDelay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">long</span><span data-token-index=\"0\"> lMs</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">long</span><span data-token-index=\"0\"> lRemainingMilliSecond </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">lMs</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">%</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1000</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">long</span><span data-token-index=\"0\"> lNanoSecond </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> lRemainingMilliSecond </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1000000</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">timespec</span><span data-token-index=\"0\"> ts_sleep</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> ts_remaining</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tts_sleep</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">tv_sec </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">lMs</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1000</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tts_sleep</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">tv_nsec </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> lNanoSecond</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">nanosleep</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ts_sleep</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ts_remaining</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">// swap two elements and draw the lines</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">SwapLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> area_Num</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t  COLORREF cr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> l_fixed </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">28</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> area_Num</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> r_fixed </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">28</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">area_Num </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token class-name\" data-token-index=\"0\">uint16_t</span><span data-token-index=\"0\"> x_Begin </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> area_Num </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> g_graphic_dev</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">XResolution </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> l_fixed</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">line</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x_Begin</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> a_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t x_Begin </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> l_Ratio </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> r_fixed</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> a_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">line</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x_Begin</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> a_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t x_Begin </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> l_Ratio </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> r_fixed</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> a_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t cr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">line</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x_Begin</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> b_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t x_Begin </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> l_Ratio </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> r_fixed</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> b_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">line</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">x_Begin</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> b_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t x_Begin </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> l_Ratio </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> r_fixed</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> b_lineNum </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> w_Line</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t cr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tmp </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tarray</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">a_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tarray</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">b_lineNum</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> tmp</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">DrawDelay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">55</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo_BubbleSort_1</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> array </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">pv</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> ar_Size </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j</span><span class=\"token operator\" data-token-index=\"0\">--</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">SwapLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">array</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">tsk_foo_BubbleSort_2</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> pv</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> array </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">pv</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> ar_Size </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j</span><span class=\"token operator\" data-token-index=\"0\">--</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> array</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\t\t\t\t</span><span class=\"token function\" data-token-index=\"0\">SwapLine</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">array</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">RGB</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">255</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_exit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">test_lab3</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// declare 2 arrays</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> arr1</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> arr2</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token comment\" data-token-index=\"0\">// enter the gui</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> graphMode </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x143</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">init_graphic</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">graphMode</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token comment\" data-token-index=\"0\">// calculate the ratio(maybe there's no need to do these)</span><span data-token-index=\"0\">\n\tl_Ratio </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_graphic_dev</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">XResolution </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2.0</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> max_Elem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tw_Line </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> g_graphic_dev</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">YResolution </span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">float</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">ar_Size</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// generate 2 arrays and draw!</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Generate2arrays</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">arr1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> arr2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token comment\" data-token-index=\"0\">// alloc stack size</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> st_Size </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1024</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1024</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// create 2 sort threads</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> stack_Sort1 </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token function\" data-token-index=\"0\">malloc</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_Sort1 </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack_Sort1 </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tsk_foo_BubbleSort_1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> arr1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> stack_Sort2 </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token function\" data-token-index=\"0\">malloc</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_Sort2 </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack_Sort2 </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tsk_foo_BubbleSort_2</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> arr2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// initial the priorities</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Sort1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Sort2</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Sort1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">DrawPrioBar</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token function\" data-token-index=\"0\">getpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Sort2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">// create the control thread</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">struct</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Thr</span><span data-token-index=\"0\"> th</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">tid_Sort1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">tid_Sort2</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> stack_Ctr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">char</span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token function\" data-token-index=\"0\">malloc</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> tid_Ctr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">task_create</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack_Ctr </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> st_Size</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> tsk_foo_control</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> th</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">setpriority</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Ctr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">// nice = -19</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token function\" data-token-index=\"0\">task_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Sort1</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Sort2</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">task_wait</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">tid_Ctr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">free</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack_Sort1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">free</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack_Sort2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">free</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack_Ctr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"Mession Success, Well Done!\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">endif</span><span class=\"token macro property\" data-token-index=\"0\">  </span><span class=\"token comment\" data-token-index=\"0\">//_LAB3_</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"7cd43b82-2a76-4115-86cc-1451fdf3817f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"14e97d76-9f8b-42fa-b889-87734b72d230\" class=\"notion-selectable notion-sub_header-block\" id=\"14e97d76-9f8b-42fa-b889-87734b72d230\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实验结果</div></div></div><div data-block-id=\"3ff7cc07-bb53-43ad-ab86-bd1f2c6feffa\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be loaded.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink</div></div></div></div></div></div></div><div data-block-id=\"2566c064-bf64-47d5-900b-1bfd3084a385\" class=\"notion-selectable notion-sub_header-block\" id=\"2566c064-bf64-47d5-900b-1bfd3084a385\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">总结</div></div></div><div data-block-id=\"c47259a5-459b-47b1-b4f6-e5fab7efd1de\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">编程时对性能更加注重</div></div></div></div></div><div data-block-id=\"6958ca05-5395-4eb9-bbbf-0fd030a2554f\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">对线程的调度有初步认识</div></div></div></div></div><div data-block-id=\"b3f7738f-1fad-4344-9270-8070c9feaf56\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">温故了C，感觉自己的C越来越垃圾</div></div></div></div></div><div data-block-id=\"b9ec3c13-0cb3-4bd7-99e4-24f1e05e0008\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">不足：</div></div><div data-block-id=\"97abe761-d77f-46f0-8581-d5bdc273c262\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">实验中对<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">nice</span>以及<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">priority</span>属性的范围未做显式约束</div></div></div></div></div><div data-block-id=\"b50ce218-e3c0-47cc-94af-7295bfecc928\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">神奇的bug是，main()中添加<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">task_wait()</span>会提前结束线程，推测调度算法有缺陷，产生于无边界约束，后期修正。（已修正）</div></div></div></div></div></div></div></div><div data-block-id=\"74aa5b6b-5172-4994-8b9d-25b4dec53bd9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">若有时间，计划折腾其他调度算法。</div></div></div></div><div data-block-id=\"24d71496-130c-44db-b654-602b855c82cb\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">感谢：林坤、王凯学长！</div></div></div></div>","slug":"2bcafec576ec4a79b892c9ec55dff1ac"}}],"totalCount":32}},"pageContext":{"skip":18,"limit":6,"currentPage":4}},"staticQueryHashes":["51046549"]}