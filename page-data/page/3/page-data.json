{"componentChunkName":"component---plugins-gine-theme-mod-src-components-post-post-page-js","path":"/page/3","result":{"data":{"siteConfig":{"pageSize":6},"allPosts":{"edges":[{"node":{"description":null,"id":"1dee4ba9-68b4-5912-95c7-78781075cf23","name":"Composite模式实现及与Iterator模式结合","tags":["DesignPattern"],"categories":["Programming"],"public_date":"2020-05-18","html":"<div data-block-id=\"f697c7f4-9783-4c19-a195-d8d300b16476\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#4cea0cb9-983a-40f1-ae20-bf13513dffaa\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实现</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#a232227f-7376-49cd-be7e-cd00d07052a9\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">关注的问题</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#ba2a4352-c5ba-45c8-8e4b-7dc295fd9f97\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实例</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#feba5c9b-67d3-4518-b72b-5a61b2ff4cfe\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">与Iterator的结合</div></div></div></a></div></div></div><div data-block-id=\"4cea0cb9-983a-40f1-ae20-bf13513dffaa\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"4cea0cb9-983a-40f1-ae20-bf13513dffaa\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实现</div></div></div><div data-block-id=\"99eb287b-377c-487a-aea4-bd3a44d5cf96\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">基于前文Composite模式，实现简单Demo</div></div></div></div><div data-block-id=\"a232227f-7376-49cd-be7e-cd00d07052a9\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"a232227f-7376-49cd-be7e-cd00d07052a9\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">关注的问题</div></div></div><div data-block-id=\"bc81f916-5e27-41d3-bbe0-4f29357f48b1\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">保持从子部件到父部件的引用能简化组合结构的遍历和管理</span>。父部件引用可以简化结构的上移和组件的删除。通常在Component类中定义父部件引用。Leaf和Composite类可以继承这个引用以及管理这个引用的那些操作。</div></div></div></div></div><div data-block-id=\"865b76fd-59f5-4027-baab-40a427b6c1a6\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">Composte模式的目的之一是<span style=\"font-weight:600\" data-token-index=\"1\">使得用户不知道他们正在使用的具体的Leaf和Composite类</span>。因此，Component类应为Leaf和Composite类尽可能多定义一些公共操作。Component类通常为这些操作提供缺省的实现，而Leaf和Composite子类可以对它们进行重定义。</div></div></div></div></div><div data-block-id=\"c784b53e-76a0-4a58-9b21-3859de7d8aca\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">声明管理子部件的操作</span>。虽然C omposite类实现了Add和Remove操作用于管理子部件，但在Composite模式中一个重要的问题是：在 Composite类层次结构中哪一些类声明这些操作。是应该在Component中声明这些操作，并使这些操作对 Leaf类有意义呢，还是只应该在Composite和它的子类中声明并定义这些操作呢？</div></div></div></div></div><div data-block-id=\"c0d2ef3b-ad7b-4614-9095-98109e6dfe3f\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">存贮组件最好用哪一种数据结构？</span> Composite可使用多种数据结构存贮它们的子节点，包括连接列表、树、数组和hash表。数据结构的选择取决于效率。</div></div></div></div></div><div data-block-id=\"a8671651-20f4-4321-9f41-ab8319f069ac\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">透明组合模式 和 安全组合模式 都有各自的优点和缺点，应该优先选择哪一种呢？</span>透明组合模式 将公共接口封装到抽象根节点（Component）中，那么系统所有节点就具备一致行为，所以如果当系统绝大多数层次具备相同的公共行为时，采用 透明组合模式 也许会更好（代价：为剩下少数层次节点引入不需要的方法）；而如果当系统各个层次差异性行为较多或者树节点层次相对稳定（健壮）时，采用安全组合模式</div></div></div></div></div><div data-block-id=\"ba2a4352-c5ba-45c8-8e4b-7dc295fd9f97\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"ba2a4352-c5ba-45c8-8e4b-7dc295fd9f97\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实例</div></div></div><div data-block-id=\"b5c26d0f-e8aa-4e3b-8de6-d66b3f59854f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">场景</span></div></div></div></div><div data-block-id=\"026abe5d-21d5-4ce8-a079-348575a52efe\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">针对上一文中的iterator模式的餐馆合并实例，我们提出新的需求：</div></div></div></div><div data-block-id=\"e4f54363-9022-4383-8869-37adf3b64673\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">给正餐菜单增加“甜点”子菜单。如图，让甜点菜单变成正餐菜单中的一个子节点，我们想要的类似下图。但很明显，iterator模式的设计无法满足：</div></div></div></div><div data-block-id=\"ba12e78e-cb23-4ade-a4fb-a45752af5135\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"f79d8801-a75a-4824-818d-1d61097e4e3f\" class=\"notion-selectable notion-image-block\" style=\"width: 576px; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Faffadde8-23b4-44e3-b5cf-012f385172c9%2FUntitled.png?table=block&amp;id=f79d8801-a75a-4824-818d-1d61097e4e3f&amp;width=1150&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"f2ca87d8-5346-404c-ae3c-19b513a3eae4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">我们需要某种树状结构来容纳嵌套菜单和菜单项，因此我们需要改用Composite模式来进行设计。</div></div></div></div><div data-block-id=\"62c07137-e6d0-405c-95e8-004e5438fd9a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">代码</span></div></div></div></div><div data-block-id=\"ccec6dd8-af8d-4baf-aabe-3819457d8e66\" class=\"notion-selectable notion-image-block\" style=\"width: 480px; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9cc27627-3278-4ab9-b0cb-f94643ec7d60%2FMain2TestComposite.jpg?table=block&amp;id=ccec6dd8-af8d-4baf-aabe-3819457d8e66&amp;width=960&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"deee79ca-e25a-443b-9887-d5e835ba6d13\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">根据前面的模式结构，并结合上图:</div></div></div></div><div data-block-id=\"8c4e1dbc-c683-4bfb-8a2d-52cce37dbf77\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">首先设计<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">MenuComponent</span>抽象构件类，里面定义组合菜单和菜单项的共有方法</div></div></div></div><div data-block-id=\"842aac2d-432a-4fbd-948f-2093a06d6413\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * Component抽象类 为组合中的所有对象定义一个接口 组合菜单（CompositeMenu）和叶子菜单项（MenuItem）继承它\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">abstract</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">// =======菜单（组合节点）的方法=======</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 增加菜单项\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">throw</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">UnsupportedOperationException</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 删除指定菜单项\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">remove</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">throw</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">UnsupportedOperationException</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 获取指定下标的菜单项\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">throw</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">UnsupportedOperationException</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">// =======菜单项（叶子节点）的方法=======</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 获取菜单项的名称\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">throw</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">UnsupportedOperationException</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 获取菜单项的价格\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">throw</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">UnsupportedOperationException</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 打印出菜单中的所有菜单项的信息，或者单个菜单项的信息 菜单和菜单项都要用到的方法\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">print</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 同时将菜单项和菜单的方法定义了出来，继承时，菜单项和菜单只需要覆盖各自的实现即可。\n * 这虽然违背了“单一责任”设计原则，但在具体场景下，为了需求和设计，需要采用折中的方式。\n */</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"54197d57-b394-4a20-be5c-0ce609476d2c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">后设计<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">CompositeMenu</span>和<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">MenuItem</span>来继承<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">MenuComponent</span>抽象类，这里选用透明式组合方式，即，我们仅在树枝结构中实现管理子节点的相关方法。</div></div></div></div><div data-block-id=\"ae5a47ba-5358-4c05-9b7f-fd62c8f268cf\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">List</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">extends</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">List</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> menuComponents </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> description</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> description</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">description </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> description</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">remove</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">remove</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">print</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"菜单名称：\"</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"(\"</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getDescription</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\")\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> menuComponent </span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      menuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">print</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getDescription</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> description</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"3f01b267-dfe1-4108-b823-18de2bd8ff0c\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">extends</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">price </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">print</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\":\"</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">price </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"862feb80-dd07-489c-8be0-b1f0809140a8\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">最后定义服务员类<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">Waitress</span>类，并在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">main</span>中调用执行</div></div></div></div><div data-block-id=\"cb911e76-b0ea-43bb-87a7-79838b81810d\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> allMenus</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> allMenus</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">allMenus </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> allMenus</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 打印出菜单\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    allMenus</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">print</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c329d852-741b-4cef-ac9d-821a93996552\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeUtils</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeUtils</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeUtils</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeUtils</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Main2TestComposite</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">static</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\">args</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token comment\" data-token-index=\"0\">//建造烧饼菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> pancakeMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"早餐\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token string\" data-token-index=\"0\">\"原烧饼店菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"葱花饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">3.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"牛肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">6</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"猪肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"韭菜饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//建造正餐菜单子菜单-甜点菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> dessertMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"甜点\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token string\" data-token-index=\"0\">\"正餐子菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"芒果牛奶冰\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"珍珠果豆花\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">6</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"榴莲蛋黄\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//建造正餐菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> dinnerMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"正餐\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token string\" data-token-index=\"0\">\"原饭店菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"青椒肉丝炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"番茄鸡蛋炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"鱼香茄子炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">11</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"土豆烧鸡炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//建造主菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> totalMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"总菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//服务员打印菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> waitress </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"\\ncomposite模式：\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        waitress</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//递归调用菜单项和菜单内部的print，是内部迭代</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"a29c1971-9467-4fc9-8713-daa683a18f24\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">运行结果</div></div></div></div><div data-block-id=\"16e8d365-143a-43da-a0fe-dde488fe8c1d\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">composite模式：\n\n菜单名称：菜单</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">总菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n菜单名称：早餐</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">原烧饼店菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n葱花饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">3.5</span><span data-token-index=\"0\">\n牛肉饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">6.0</span><span data-token-index=\"0\">\n猪肉饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">5.0</span><span data-token-index=\"0\">\n韭菜饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">2.5</span><span data-token-index=\"0\">\n菜单名称：正餐</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">原饭店菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n青椒肉丝炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">12.0</span><span data-token-index=\"0\">\n番茄鸡蛋炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">10.0</span><span data-token-index=\"0\">\n鱼香茄子炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">11.0</span><span data-token-index=\"0\">\n土豆烧鸡炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">12.5</span><span data-token-index=\"0\">\n菜单名称：甜点</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">正餐子菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n芒果牛奶冰</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">8.0</span><span data-token-index=\"0\">\n珍珠果豆花</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">6.0</span><span data-token-index=\"0\">\n榴莲蛋黄</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">8.0</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"feba5c9b-67d3-4518-b72b-5a61b2ff4cfe\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"feba5c9b-67d3-4518-b72b-5a61b2ff4cfe\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">与Iterator的结合</div></div></div><div data-block-id=\"58efd6b4-7d24-4521-9109-df9b88a2abb4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在新需求下，我们改用了Composite模式，然而问题来了：</div></div></div></div><div data-block-id=\"23e327c4-8a17-4a64-b4e9-4b520b951c6b\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>1.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">iterator模式的好处就烟消云散了，因为在本例中，Composite模式下对菜单的存储是通过<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">ArrayList</span>这一数据结构进行的。</div></div></div></div></div><div data-block-id=\"cee7d7ae-ac34-4779-9ffa-eaa09c3be70d\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>2.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">并且，例子中使用的迭代都是递归调用的菜单项和菜单内部迭代的方式，属于内部迭代，如果我们需要外部迭代该怎么办？</div></div></div></div></div><div data-block-id=\"ecb586d3-5adc-48de-8d88-a5be86632b11\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">首先我们来解决问题2：</div></div></div></div><div data-block-id=\"0d28179b-787f-4e78-b92e-3d2f2127c303\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">加入有新需求：一位顾客只想看只含有蔬菜性质的菜单。如何实现？</div></div></div></div><div data-block-id=\"56a6bb06-a773-4082-9906-9fcc25f8368d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"86bf3bd7-c09c-4c12-b2b8-bdd2933685ca\" class=\"notion-selectable notion-image-block\" style=\"width: 661px; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fac2f71db-03df-44f8-9f2f-dbd4d66065fe%2FMain2TestCombine.jpg?table=block&amp;id=86bf3bd7-c09c-4c12-b2b8-bdd2933685ca&amp;width=1320&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"d45b2b7e-e3c5-458c-9af1-6a9e1a3e5742\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">step1</span>: 由于<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">MenuComponent</span>抽象类中定义了所有对象的方法，我们现在该类中添加判断食品的方法，然后再在叶节点和树枝节点中进行重写</div></div></div></div><div data-block-id=\"6fcaa707-00b5-46a3-ac40-88534bad6a25\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">abstract</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">// =======菜单项（叶子节点）的增加方法=======</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 判断是否为蔬菜类食品\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">throw</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">UnsupportedOperationException</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ce22470f-87cd-40a9-baaa-6c85fe22a665\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">step2-3</span>: 在菜单项<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">MenuItem</span>中重写相关方法，注意，可能还需要定义新的变量和构造函数</div></div></div></div><div data-block-id=\"9a1d1ded-27ca-44d9-91e3-5b69b435da32\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">extends</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">// 新增蔬菜类食品标志</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">price </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 修改构造函数</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">isVegetable </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">// 新增构造函数</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">price </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">isVegetable </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">// =======菜单项（叶子节点）的增加方法=======</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 重写抽象类的方法\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">isVegetable </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"db7893ed-0edb-4292-8fc2-825574473aec\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">step4</span>: 然后为了迭代组合中的每个对象，来调用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">isVegetable()</span>，我们需要设计一个新的组合菜单迭代器<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">CompositeIterator</span>。注意，这个迭代器中使用了递归的算法，可以递归的迭代树枝节点。</div></div></div></div><div data-block-id=\"8d7a2e2b-e4f8-4407-94ba-8010569bef1b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompostiteWithItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">ArrayDeque</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">Deque</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 组合菜单迭代器\n * 4.使用递归创建组合菜单的迭代器\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeIterator</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">implements</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/** 迭代器栈，存储最近一次迭代的菜单的迭代器 */</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">Deque</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> stack </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ArrayDeque</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 初始化时中将组合菜单的总迭代器（即List&lt;MenuComponent&gt;的迭代器）放入栈</span><span data-token-index=\"0\">\n    stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">push</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">isEmpty</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 返回栈顶的迭代器</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> myIterator </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">peek</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 如果该迭代器仍有元素可迭代，返回true</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 如果迭代器元素都已迭代完，弹出栈，递归判断栈中下一个迭代器</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">pop</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 如果没有元素可迭代，直接返回null</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">!</span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 有元素可迭代时，返回栈顶迭代器</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> iterator </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">peek</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 取出迭代器中的下一个元素</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> iterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 如果该元素为菜单，将子菜单的迭代器放入栈中。这样下一次执行next()方法，则迭代该子菜单了</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component </span><span class=\"token keyword\" data-token-index=\"0\">instanceof</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">push</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c50a22f5-746f-4119-97fb-b94a557c1253\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">step5-8</span>: 接着在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">MenuComponent</span>抽象类中添加创建迭代器的抽象方法，并在叶节点和树枝节点中进行重写。注意：叶节点没有子节点，所有创建的迭代器为空，所以需要定义一个空迭代器。</div></div></div></div><div data-block-id=\"7c34bb06-7169-4c59-bcf3-c910d4205070\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">abstract</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n   </span><span class=\"token comment\" data-token-index=\"0\">/**\n     * 创建迭代器\n     */</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">abstract</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"6d490561-032c-4353-ab3c-aa6684c1371b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">空迭代器的定义</div></div></div></div><div data-block-id=\"075f2fa8-ca66-4fc8-8a5b-5026a59658b2\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">/**\n * 空迭代器\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">NullIterator</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">implements</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n    </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"a2676051-6baf-44be-bdef-e636e0c6036c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">菜单项中重写</div></div></div></div><div data-block-id=\"71d15cae-c2a3-4d42-ba14-f52f803a6d53\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">extends</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 菜单项创建迭代器\n   * @return NullIterator\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">NullIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"7dcef6a7-ee30-4edb-9bbc-8ab80bd38d64\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">组合菜单中重写</div></div></div></div><div data-block-id=\"59f3051d-61c9-44b4-83a6-efd5f6891f80\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">extends</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 组合菜单创建迭代器\n   */</span><span data-token-index=\"0\">\n      </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> myIterator</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">GetMyItrFromArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ecafeaaf-42b9-401e-979a-011dcc73a68e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">这里的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">GetMyItrFromArrayList</span>类是从<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">ArrayList</span>中返回<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">MyIterator</span>类型的迭代器，类似iterator模式一文中<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">PancakeMenuIterator</span>的操作（本质上相同）</div></div></div></div><div data-block-id=\"cb829e42-f8ec-432b-a759-b5a3779d5ec5\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompostiteWithItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 从ArrayList对象中获取MyIterator类型的迭代器\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">GetMyItrFromArrayList</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">implements</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> position </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">GetMyItrFromArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">menuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">position </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">size</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">||</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">position</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> item </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">position</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    position </span><span class=\"token operator\" data-token-index=\"0\">+=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> item</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"cac3be09-f64d-4d1f-a8fa-b137309219cb\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">step9: </span>在服务员类中添加新需求的业务处理函数<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">printVegetarianMenu()</span></div></div></div></div><div data-block-id=\"bd3aaa4e-3297-4b73-bae5-9ba3ff8b2717\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 打印蔬菜食品\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">printVegetarianMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> iterator </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> allMenus</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">iterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> iterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">try</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n          </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n      </span><span class=\"token comment\" data-token-index=\"0\">// 如果为组合菜单调用isVegetable方法，会直接抛出异常，这里会直接不处理</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">catch</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">UnsupportedOperationException</span><span data-token-index=\"0\"> e</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"555cd22a-ed55-4507-b3af-52710d7c0b6f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">然后再在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">main</span>函数中进行测试</div></div></div></div><div data-block-id=\"4f2d1e42-1a12-4034-9e51-c7a9182d20f3\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Main2TestCombine</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">static</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> args</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//建造烧饼菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> pancakeMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"早餐\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token string\" data-token-index=\"0\">\"原烧饼店菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"葱花饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">3.5</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"牛肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">6</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"猪肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">5</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"韭菜饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2.5</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//建造正餐菜单子菜单-甜点菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> dessertMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"甜点\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token string\" data-token-index=\"0\">\"正餐子菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"芒果牛奶冰\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"珍珠果豆花\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">6</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"榴莲蛋黄\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//建造正餐菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> dinnerMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"正餐\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token string\" data-token-index=\"0\">\"原饭店菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"青椒肉丝炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"番茄鸡蛋炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"鱼香茄子炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">11</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"土豆烧鸡炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12.5</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//建造主菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> totalMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"总菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">//服务员打印菜单</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> waitress </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"\\ncomposite+iterator模式：\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token comment\" data-token-index=\"0\">// waitress.printMenu();</span><span data-token-index=\"0\">\n        waitress</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">printVegetarianMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"a153b8b7-b03a-49d5-854c-6907361e9b97\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">结果</div></div></div></div><div data-block-id=\"2531ee57-771b-4df3-b5be-fbb0e3a38c74\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">composite</span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\">iterator模式：\n\n葱花饼\n韭菜饼\n番茄鸡蛋炒饭</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"d1b30b6f-b221-48c9-9ce7-912dadc1c7e4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">然后解决问题1：</div></div></div></div><div data-block-id=\"41095ef6-1b64-4107-b8f1-c838343e3b8c\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F47159b55-f3e3-4da8-a8b2-30ea3cd15d54%2FMain2TestFinal.jpg?table=block&amp;id=41095ef6-1b64-4107-b8f1-c838343e3b8c&amp;width=1870&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"cdaf1e5b-9f85-4786-8fb5-4385e2fbea86\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">注意到前面到例子中，创建组合菜单是通过新建<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">CompositeMenu</span>类，而在该类的内部是采用的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">ArrayList</span>这一数据结构，而在iterator模式一文的例子中，午餐餐馆的菜单是通过数组实现的，为了继续使用数组实现，我们将<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">CompositeMenu</span>拷贝一份为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">CompositeMenu_ArrayVer</span>，并修改相关实现细节</div></div></div></div><div data-block-id=\"17d33fa3-8bcb-4340-b6d1-09694804037b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu_ArrayVer</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">extends</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> menuComponents </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> numberOfItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> description</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu_ArrayVer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu_ArrayVer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> description</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">description </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> description</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">numberOfItems </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">length</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"菜单已满，不能再添加！\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component </span><span class=\"token keyword\" data-token-index=\"0\">instanceof</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> menuItem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">numberOfItems</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">  menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span class=\"token keyword\" data-token-index=\"0\">else</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">numberOfItems</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">  component</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">remove</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 这里对数组元素的删除相当于后一个覆盖前一个</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> numberOfItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">equals</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> numberOfItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> j</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n          menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">j</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">j </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n        menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token operator\" data-token-index=\"0\">--</span><span data-token-index=\"0\">numberOfItems</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">print</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"\\n菜单名称：\"</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"(\"</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getDescription</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\")\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> menuComponent </span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuComponent</span><span class=\"token operator\" data-token-index=\"0\">==</span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      menuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">print</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getDescription</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> description</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 组合菜单创建迭代器\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> myIterator </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">GetMyItrFromArray</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"36da3118-98ad-42c7-8227-0c17113cbd1a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">注意到<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">CompositeMenu_ArrayVer</span>中的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">createIterator</span>方法从数组对象中返回一个迭代器，因此参考iterator模式一文中的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">PancakeMenuIterator</span>，拷贝一份为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">GetMyItrFromArray</span></div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"9e0572c5-0b72-47fb-80e4-31aaa5aa0138\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">/**\n * 从对象数组中获取MyIterator类型的迭代器\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">GetMyItrFromArray</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">implements</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> position </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">GetMyItrFromArray</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">menuComponents </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">position </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">length </span><span class=\"token operator\" data-token-index=\"0\">||</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">position</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> item </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuComponents</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">position</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    position </span><span class=\"token operator\" data-token-index=\"0\">+=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> item</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"be53651a-0238-4d44-b427-69a8810816ca\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">修改<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">CompositeIterator</span>对新的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">CompositeMenu_ArrayVer</span>聚合对象做适配</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"8a790020-371d-48b7-92e4-ffe75c45e6c2\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeIterator</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">implements</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/** 迭代器栈，存储最近一次迭代的菜单的迭代器 */</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">Deque</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> stack </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ArrayDeque</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 初始化时中将组合菜单的总迭代器（即List&lt;MenuComponent&gt;的迭代器）放入栈</span><span data-token-index=\"0\">\n    stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">push</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">isEmpty</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 返回栈顶的迭代器</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> myIterator </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">peek</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 如果该迭代器仍有元素可迭代，返回true</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">else</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span class=\"token comment\" data-token-index=\"0\">// 如果迭代器元素都已迭代完，弹出栈，递归判断栈中下一个迭代器</span><span data-token-index=\"0\">\n      stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">pop</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 如果没有元素可迭代，直接返回null</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">!</span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 有元素可迭代时，返回栈顶迭代器</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> iterator </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">peek</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 取出迭代器中的下一个元素</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> component </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> iterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 如果该元素为菜单，将子菜单的迭代器放入栈中。这样下一次执行next()方法，则迭代该子菜单了</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component </span><span class=\"token keyword\" data-token-index=\"0\">instanceof</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">||</span><span data-token-index=\"0\"> component </span><span class=\"token keyword\" data-token-index=\"0\">instanceof</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu_ArrayVer</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      stack</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">push</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> component</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"3c6ded70-c262-4b37-83eb-fac6fb956cb7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">对<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">Waitress</span>类的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">printVegetarinMenu()</span>方法适当修改</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"1ea4da20-8e67-4946-845c-eb9fa56a740f\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 打印蔬菜食品\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">HashMap</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token class-name\" data-token-index=\"0\">Double</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getVegetarianMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> hashMap</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">HashMap</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token class-name\" data-token-index=\"0\">Double</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\">allMenus</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getLength</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> menuComponent</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">allMenus</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> iterator</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">menuComponent</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">while</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">iterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> component</span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\">iterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">isVegetable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n          hashMap</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">put</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">component</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n        </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n      </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> hashMap</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">printVegetarianMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> hashMap</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">getVegetarianMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> ele</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">hashMap</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">entrySet</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">ele</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getKey</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token operator\" data-token-index=\"0\">+</span><span class=\"token string\" data-token-index=\"0\">\" : \"</span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\">ele</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getValue</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"50fa3d73-cfa4-4173-8d28-a0f819b7d25e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">然后在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">main</span>函数中进行测试</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"68db7a5e-9c2c-4783-b0fe-961cf50ad7fc\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">层次结构：</div></div></div></div><div data-block-id=\"94434e40-01ef-4262-b0a2-7d0e5f87219f\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 100%; align-self: flex-start; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F61563205-5185-4e67-84d2-e7436ead1af6%2FFlowchartDiagram1.jpg?table=block&amp;id=94434e40-01ef-4262-b0a2-7d0e5f87219f&amp;width=2160&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"79ecbff0-ccdf-4980-9355-55a230dd61f7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">代码</div></div></div></div><div data-block-id=\"3ca1b8ce-a21e-4ac3-9e28-17ac8cc6614a\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Main2TestFinal</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">static</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> args</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 建造烧饼菜单</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> pancakeMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"早餐\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"原烧饼店菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"葱花饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">3.5</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"牛肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">6</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"猪肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">5</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"韭菜饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2.5</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">//饮料菜单</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> drinkMenu</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu_ArrayVer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"饮料\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token string\" data-token-index=\"0\">\"正餐子菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    drinkMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"冰可乐\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">3</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    drinkMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"冰雪碧\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">3</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 建造正餐菜单子菜单-甜点菜单</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> dessertMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu_ArrayVer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"甜点\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"正餐子菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"芒果牛奶冰\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"珍珠果豆花\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">6</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"榴莲蛋黄\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 建造正餐菜单</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> dinnerMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu_ArrayVer</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"正餐\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"原饭店菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"青椒肉丝炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"番茄鸡蛋炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"鱼香茄子炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">11</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"土豆烧鸡炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12.5</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">drinkMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">dessertMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 建造主菜单</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuComponent</span><span data-token-index=\"0\"> totalMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">CompositeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"总菜单\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token comment\" data-token-index=\"0\">// 服务员打印菜单</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> waitress </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">totalMenu</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"\\ncomposite+iterator模式：\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    waitress</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"\\n蔬菜菜单：\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    waitress</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">printVegetarianMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"2f6e2848-2a14-418d-81cd-3e49877881c1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">结果</div></div></div></div><div data-block-id=\"dbe4ab21-533c-4f35-b9da-03d55cb4ae6b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">composite</span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\">iterator模式：\n\n菜单名称：菜单</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">总菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\n菜单名称：早餐</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">原烧饼店菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n葱花饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">3.5</span><span data-token-index=\"0\">\n牛肉饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">6.0</span><span data-token-index=\"0\">\n猪肉饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">5.0</span><span data-token-index=\"0\">\n韭菜饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">2.5</span><span data-token-index=\"0\">\n\n菜单名称：正餐</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">原饭店菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n青椒肉丝炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">12.0</span><span data-token-index=\"0\">\n番茄鸡蛋炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">10.0</span><span data-token-index=\"0\">\n鱼香茄子炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">11.0</span><span data-token-index=\"0\">\n土豆烧鸡炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">12.5</span><span data-token-index=\"0\">\n\n菜单名称：饮料</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">正餐子菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n冰可乐</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">3.0</span><span data-token-index=\"0\">\n冰雪碧</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">3.0</span><span data-token-index=\"0\">\n\n菜单名称：甜点</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">正餐子菜单</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n芒果牛奶冰</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">8.0</span><span data-token-index=\"0\">\n珍珠果豆花</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">6.0</span><span data-token-index=\"0\">\n榴莲蛋黄</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">8.0</span><span data-token-index=\"0\">\n\n蔬菜菜单：\n番茄鸡蛋炒饭 </span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10.0</span><span data-token-index=\"0\">\n韭菜饼 </span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2.5</span><span data-token-index=\"0\">\n葱花饼 </span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">3.5</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"4849d256-31c2-472e-b2c9-1b238f28aedc\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">通过上面，就完成了composite模式与iterator模式的结合。</div></div></div></div><div data-block-id=\"bacf2139-b205-4f3f-8148-c6727a64d4ca\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"ca747b4e-c3a6-452f-97b6-a5b91f679780\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考文章：</div></div></div></div><div data-block-id=\"28d96dae-fc4a-4bfe-9a07-8be67e862450\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.csdn.net/z55887/article/details/70548861\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Head First 设计模式（九）迭代器与组合模式_Java_大树的学习之路-CSDN博客</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">迭代器模式提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露其内部的表示 迭代器模式我们很熟悉，其实就是Java中集合的迭代原理，如果你研究过集合的源码，就会很容易理解这个模式。 现在有两家餐厅：煎饼店和饭店，它们想要合并。两家店的菜单需要统一起来，以便服务员给客户看。 但此时有一个问题，煎饼店和饭店的菜单，实现是不一样的： 从代码我们可以看出，两家店的菜单一个是数组实现，一个是集合实现。 这时，我们想要服务员提供新的菜单时，得分别针对两种不同的底层实现，进行不同的迭代： /** * 打印出菜单 */ public void printMenu() { ArrayList pMenuItems = pancakeMenu.menuItems; for (int i = 0; i &lt; pMenuItems.size(); i++) { MenuItem menuItem = pMenuItems.get(i); System.out.println(menuItem.getName()+\":\"+menuItem.getPrice()); } MenuItem[] dMenuItems = dinnerMenu.menuItems; for (int i = 0,n = dMenuItems.length; i &lt; n; i++) {</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fpublic%2Ffavicon.ico?table=block&amp;id=28d96dae-fc4a-4bfe-9a07-8be67e862450&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://blog.csdn.net/z55887/article/details/70548861</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://img-blog.csdn.net/20170423225834709?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvejU1ODg3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"7c2b0b75-bbdf-47c6-8541-ab9c5d16a63e\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.cnblogs.com/wuqinglong/p/12425411.html\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">www.cnblogs.com</div><div style=\"display: flex; margin-top: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://www.cnblogs.com/wuqinglong/p/12425411.html</div></div></div></div></a></div></div></div>","slug":"c2c83866f30d426fb8066eaf3d2fd13c"}},{"node":{"description":null,"id":"cb5761cf-37c7-59ea-a53f-07cde530d904","name":"Composite模式概念","tags":["DesignPattern"],"categories":["Programming"],"public_date":"2020-05-17","html":"<div data-block-id=\"a8912b5e-f2f1-4085-bc74-377d20dcfe91\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c605c46c-3f21-4232-bd44-10286dc1d74e\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">目的</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#dfa877b9-9ac6-4989-8519-8e60a2610c28\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">动机</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#447b15fe-a05b-4091-88c4-de860057e46f\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">好处</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#e76935a4-395c-4ce1-91d2-b53e47a9cf91\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">模式的结构</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#0f801432-76cf-4a48-9b2f-ea36d61170b1\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">适用范围</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#34a0d6f5-5688-46cb-bb49-5120dc394333\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">评价</div></div></div></a></div></div></div><div data-block-id=\"c605c46c-3f21-4232-bd44-10286dc1d74e\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"c605c46c-3f21-4232-bd44-10286dc1d74e\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">目的</div></div></div><div data-block-id=\"7837c595-d8f6-441d-8595-c2b98ca19538\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">将对象组合成树形结构以表示“部分-整体”的层次结构。Composite使得用户对单个对象和组合对象的使用具有一致性。</div></div></div></div><div data-block-id=\"dfa877b9-9ac6-4989-8519-8e60a2610c28\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"dfa877b9-9ac6-4989-8519-8e60a2610c28\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">动机</div></div></div><div data-block-id=\"57b88320-8be3-4e2b-86c8-f174c18b09ba\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在绘图编辑器和图形捕捉系统这样的图形应用系统中，用户可以使用简单的组件创建复杂的图标。用户可以组合多个简单组件以形成一些较大的组件，这些组件又可以组合成更大的组件。一个简单的实现方法是为Text和Line这样的图元定义一些类，另外定义一些类作为这些图元的容器类（Container）。\n然而这种方法存在一个问题：使用这些类的代码必须区别对待图元对象与容器对象，而实际上大多数情况下用户认为它们是一样的。对这些类区别对待，使得程序更加复杂。Composite模式描述了如何使用递归组合，使得用户不比对这些类进行区别，如下图：\n\n</div></div></div></div><div data-block-id=\"d287279f-ae80-4066-bddf-fc374bd8bad6\" class=\"notion-selectable notion-image-block\" style=\"width: 624px; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3a1aafd9-6158-4121-a27a-25c685d0138a%2FUntitled.png?table=block&amp;id=d287279f-ae80-4066-bddf-fc374bd8bad6&amp;width=1250&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"447b15fe-a05b-4091-88c4-de860057e46f\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"447b15fe-a05b-4091-88c4-de860057e46f\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">好处</div></div></div><div data-block-id=\"fc9c1814-7411-472e-9a7d-c64df8b630f2\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">一些部件对象经过组合构成的复合部件对象仍然具有单个部件对象的接口，这样的复合部件对象称为“容器(Container)”</div></div></div></div></div><div data-block-id=\"11d36e62-1497-4220-bb62-9dac840aba79\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">复合部件与单个部件具有同样的接口，所有接口包含两部分：单个部件的功能、管理子部件的功能</div></div></div></div></div><div data-block-id=\"3615766a-5c12-4680-aac2-0740fa824ae2\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">实现递归组合</div></div></div></div></div><div data-block-id=\"d4d11b03-eec2-4a77-9df7-ca20f13999b2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"e76935a4-395c-4ce1-91d2-b53e47a9cf91\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"e76935a4-395c-4ce1-91d2-b53e47a9cf91\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">模式的结构</div></div></div><div data-block-id=\"ea7159e9-6569-4a0d-8016-46fcf3f4a76b\" class=\"notion-selectable notion-image-block\" style=\"width: 528px; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe4458666-1a95-4c25-8869-ca30da93e900%2FUntitled.png?table=block&amp;id=ea7159e9-6569-4a0d-8016-46fcf3f4a76b&amp;width=1060&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"a0bd5b15-b18e-4773-ac39-f03f30c4d7b7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">组合模式结构如上图所示，</div></div></div></div><div data-block-id=\"e2639543-369c-49cd-afeb-155d40836e7c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"background: rgb(244, 223, 235);\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">其包含以下主要角色：</div></div></div></div><div data-block-id=\"9e29f643-f1b7-4f02-b91d-5585a8080296\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">抽象构件</span>（Component）角色：它的<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">主要作用是为树叶构件和树枝构件声明公共接口，并实现它们的默认行为</span>。在透明式的组合模式中抽象构件还声明访问和管理子类的接口；在安全式的组合模式中不声明访问和管理子类的接口，管理工作由树枝构件完成。</div></div></div></div></div><div data-block-id=\"86c060b0-5ef8-485c-a086-bd11f338027d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">树叶构件</span>（Leaf）角色：是组合中的叶节点对象，它没有子节点，<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">用于实现抽象构件角色中声明的公共接口</span>。</div></div></div></div></div><div data-block-id=\"314cfe35-beb4-497c-92ed-d22c4d25ff2b\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">树枝构件</span>（Composite）角色：是组合中的分支节点对象，它有子节点。它<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"2\" spellcheck=\"false\">实现了抽象构件角色中声明的接口，它的主要作用是存储和管理子部件</span>，通常包含 <span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">Add()</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"6\" spellcheck=\"false\">Remove()</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"8\" spellcheck=\"false\">GetChild()</span> 等方法。</div></div></div></div></div><div data-block-id=\"d4aa034c-13c0-45ae-a05d-541dfc3561ea\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">客户端</span>（Client）角色：调用抽象构建接口的方法。</div></div></div></div></div><div data-block-id=\"ee247740-ce3d-43e1-9d54-415048e903c1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"background: rgb(244, 223, 235);\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">组合方式分类</div></div></div></div><div data-block-id=\"3fc3f219-d8d7-4070-812a-95929d33a70d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">透明式组合方式：</span>在该方式中，由于抽象构建声明了所有子类中的全部方法，所以客户端无需区别树叶对象和树枝对象，对客户端来说是透明的。<span style=\"font-weight:600\" data-token-index=\"2\">缺点</span>是：树叶构建本来没有 <span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"4\" spellcheck=\"false\">add()</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"6\" spellcheck=\"false\">remove()</span> 及<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"8\" spellcheck=\"false\"> getChild() </span>等方法，却要实现它们（空实现或抛异常），这样会带来一些安全性问题。</div></div></div></div></div><div data-block-id=\"ecb13db7-8475-4560-8c04-699fb2535a83\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-weight:600\" data-token-index=\"0\">安全式组合方式：</span>在该方式中，将管理自购件的方法移到树枝构件中，抽象构件和树叶构件没有对子对象的管理方法，这样就避免了上一种方式的安全性问题。但由于叶子和分支有不同的接口，客户端在调用时要知道树叶对象和树枝对象的存在，所以<span style=\"font-weight:600\" data-token-index=\"2\">失去了透明性</span>。</div></div></div></div></div><div data-block-id=\"37a13350-b50d-4a16-8beb-5d355cb8081e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"0f801432-76cf-4a48-9b2f-ea36d61170b1\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"0f801432-76cf-4a48-9b2f-ea36d61170b1\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">适用范围</div></div></div><div data-block-id=\"8e607a00-d924-4b35-b072-71626d1f71e9\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">想要表示对象的部分-整体层次结构</div></div></div></div></div><div data-block-id=\"3ac323d9-935f-40b6-a1cb-a459446650f5\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">希望用户忽略组合对象和单个对象的不同，用户将统一地使用组合结构中的所有对象</div></div></div></div></div><div data-block-id=\"34a0d6f5-5688-46cb-bb49-5120dc394333\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"34a0d6f5-5688-46cb-bb49-5120dc394333\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">评价</div></div></div><div data-block-id=\"1ccd6673-ec03-47de-9137-0eeb9902ca60\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">定义了包含leaf对象和composite对象的类层次接口，是一种递归结构</div></div></div></div></div><div data-block-id=\"4bd7f946-eaca-4c38-96e8-1c0fef3a54c8\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">客户一致地处理复合对象和单个对象。</div></div></div></div></div><div data-block-id=\"e95e0505-7b59-4708-9a25-15943f7914df\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">易于增加新类型的组件。</div></div></div></div></div><div data-block-id=\"428f9192-ac13-4df0-b1ea-c15651941c66\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">容易增加新组件也会带来问题：很难限制组合中的组件。有时希望一个组合只能有某些特定的组件，使用Composite时，不能依赖类型系统施加的这些约束，而必须在运行时刻进行检查。</div></div></div></div></div><div data-block-id=\"f97d332c-1656-4a30-a17d-aa8c08fadd1e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"2ab8c7f3-552b-44ad-b85c-a109bc82ae46\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实现见后文。</div></div></div></div><div data-block-id=\"ce1c1a6f-1adc-4cd2-83d9-e0e79a192aa7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考文章：</div></div></div></div><div data-block-id=\"72c206ac-3a30-450d-a06c-3e35513ca05d\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.csdn.net/z55887/article/details/70548861\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Head First 设计模式（九）迭代器与组合模式_Java_大树的学习之路-CSDN博客</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">迭代器模式提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露其内部的表示 迭代器模式我们很熟悉，其实就是Java中集合的迭代原理，如果你研究过集合的源码，就会很容易理解这个模式。 现在有两家餐厅：煎饼店和饭店，它们想要合并。两家店的菜单需要统一起来，以便服务员给客户看。 但此时有一个问题，煎饼店和饭店的菜单，实现是不一样的： 从代码我们可以看出，两家店的菜单一个是数组实现，一个是集合实现。 这时，我们想要服务员提供新的菜单时，得分别针对两种不同的底层实现，进行不同的迭代： /** * 打印出菜单 */ public void printMenu() { ArrayList pMenuItems = pancakeMenu.menuItems; for (int i = 0; i &lt; pMenuItems.size(); i++) { MenuItem menuItem = pMenuItems.get(i); System.out.println(menuItem.getName()+\":\"+menuItem.getPrice()); } MenuItem[] dMenuItems = dinnerMenu.menuItems; for (int i = 0,n = dMenuItems.length; i &lt; n; i++) {</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fpublic%2Ffavicon.ico?table=block&amp;id=72c206ac-3a30-450d-a06c-3e35513ca05d&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://blog.csdn.net/z55887/article/details/70548861</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://img-blog.csdn.net/20170423225834709?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvejU1ODg3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"c2977a2d-2b48-4bac-8021-0dec11cf79a7\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.cnblogs.com/wuqinglong/p/12425411.html\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">www.cnblogs.com</div><div style=\"display: flex; margin-top: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://www.cnblogs.com/wuqinglong/p/12425411.html</div></div></div></div></a></div></div></div>","slug":"558e0b131d69454788d5042384d52a48"}},{"node":{"description":"提供一种对集合中的元素进行有序遍历的方式，而不关心不暴露集合的底层结构...","id":"2c941b83-ae79-538d-9d3b-cc3054740eb4","name":"Iterator模式","tags":["DesignPattern"],"categories":["Programming"],"public_date":"2020-05-16","html":"<div data-block-id=\"41d23e5d-3d8e-46cf-9c7e-41b746c00c1d\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#1b33c6c3-e214-460c-90b1-0713785e8815\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">目的</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#87993bec-7c83-4612-90de-cc36077c8303\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">好处</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#9e613f6b-9511-498c-adfc-1849e6cf3f58\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">适用范围</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#b1ff5906-59ae-438f-9298-7ecc98f7bfc4\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">模式结构</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#4a56d7f2-6b11-4403-9cda-32d8308b2d35\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">评价</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#459cc074-2db4-4f56-9b5b-e260ddc02af7\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">联系</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#737f7f81-4a2f-4eec-a918-273563f6b165\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实现</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#e25a2a6f-1845-4b94-9352-0411a5c59f40\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">关注的问题</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c8436caa-0d64-41bf-bebf-57658ee95575\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">示例</div></div></div></a></div></div></div><div data-block-id=\"1b33c6c3-e214-460c-90b1-0713785e8815\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"1b33c6c3-e214-460c-90b1-0713785e8815\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">目的</div></div></div><div data-block-id=\"677d85c9-ee92-4720-b2a8-248c87a4fff7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">提供一种对集合中的元素进行有序遍历的方式，而不关心不暴露集合的底层结构。</div></div></div></div><div data-block-id=\"87993bec-7c83-4612-90de-cc36077c8303\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"87993bec-7c83-4612-90de-cc36077c8303\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">好处</div></div></div><div data-block-id=\"4f463fe5-8c83-40c3-8c17-89c8dfc55aac\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>1.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">正如目的中所谈到，提供一种不关心不暴露底层数据结构的遍历方式</div></div></div></div></div><div data-block-id=\"07e97378-2832-4016-b010-06fcb84a0f73\" class=\"notion-selectable notion-numbered_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><span>2.</span></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">将遍历机制和集合的结构分离，可以允许我们定义不同迭代策略的迭代器，而不是在内部的数据结构中进行遍历。</div></div></div></div></div><div data-block-id=\"9e613f6b-9511-498c-adfc-1849e6cf3f58\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"9e613f6b-9511-498c-adfc-1849e6cf3f58\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">适用范围</div></div></div><div data-block-id=\"63be38fe-824d-4506-8fcb-8d853e32f186\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">在不暴露内部结构的情况下，对聚合对象进行迭代访问</div></div></div></div></div><div data-block-id=\"06650cd7-5eab-4afa-bb82-599a78e9d8e6\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">对聚合对象的多次遍历有需求</div></div></div></div></div><div data-block-id=\"4176c9b8-2b54-4271-81ee-fc59f4bc877f\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">提供用于遍历不同聚合结构的统一接口（即支持多态迭代）</div></div></div></div></div><div data-block-id=\"b1ff5906-59ae-438f-9298-7ecc98f7bfc4\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"b1ff5906-59ae-438f-9298-7ecc98f7bfc4\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">模式结构</div></div></div><div data-block-id=\"b452f2df-8b8b-401c-97da-4dba08f11be4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"84104949-7b05-40ea-8ff8-e918c368550d\" class=\"notion-selectable notion-image-block\" style=\"width: 480px; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd9089c2e-ae78-4afb-a278-05df469eb46a%2FUntitled.png?table=block&amp;id=84104949-7b05-40ea-8ff8-e918c368550d&amp;width=960&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"4a56d7f2-6b11-4403-9cda-32d8308b2d35\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"4a56d7f2-6b11-4403-9cda-32d8308b2d35\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">评价</div></div></div><div data-block-id=\"66526279-c300-4066-9968-4339757fd16e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">对内部结构不同的聚合对象的遍历进行很好的支持</div></div></div></div></div><div data-block-id=\"6cc0b1bb-ec93-46c9-a1fe-542c4f1eddae\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">iterator简化了聚合对象遍历接口</div></div></div></div></div><div data-block-id=\"9789f160-6284-468d-8be9-50bb702a2218\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">对聚合对象的多次遍历进行很好的支持</div></div></div></div></div><div data-block-id=\"459cc074-2db4-4f56-9b5b-e260ddc02af7\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"459cc074-2db4-4f56-9b5b-e260ddc02af7\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">联系</div></div></div><div data-block-id=\"10fe3668-fcaa-42a5-b942-859e81897947\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">Composite模式：iterator模式常被用于composite模式的符合结构</div></div></div></div></div><div data-block-id=\"ec8c4c9d-13a3-4cba-a7b3-f13874613efe\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">Factory模式：多态迭代器依赖于工厂方法来实例化适当的Iterator子类。</div></div></div></div></div><div data-block-id=\"737f7f81-4a2f-4eec-a918-273563f6b165\" class=\"notion-selectable notion-header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2em; margin-bottom: 4px;\" id=\"737f7f81-4a2f-4eec-a918-273563f6b165\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 1\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实现</div></div></div><div data-block-id=\"e25a2a6f-1845-4b94-9352-0411a5c59f40\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"e25a2a6f-1845-4b94-9352-0411a5c59f40\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">关注的问题</div></div></div><div data-block-id=\"b65a7e96-ac0a-4f3a-978d-ad83eaa7ec85\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">谁来控制集合的迭代？</span>内部迭代器和外部迭代器</div></div></div></div><div data-block-id=\"4090734d-967c-46ad-b4c2-6ce2c733f5fa\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">怎么定义迭代算法？</span></div></div></div></div><div data-block-id=\"5baf4032-9fae-4ebe-91bf-cb658eda6db4\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">Aggregate本身定义算法——Cursor mode光标模式</div></div></div></div></div><div data-block-id=\"7d96267d-294e-47a2-9f66-a0c5fc4ddb69\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">iterator定义算法——iterator如何访问数据</div></div></div></div></div><div data-block-id=\"76a590e4-412f-4f42-9adf-13a321fe5f16\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">迭代器有哪些常见操作？</span><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">First</span>,<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">Next</span>,<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">hasNext</span>,<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">IsDone</span>,<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">CurrentItem</span></div></div></div></div><div data-block-id=\"73fd5d19-8ce0-4d48-acd0-f54b1fc48b55\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">其他：</span>实现多态迭代器，空迭代器</div></div></div></div><div data-block-id=\"c8436caa-0d64-41bf-bebf-57658ee95575\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"c8436caa-0d64-41bf-bebf-57658ee95575\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">示例</div></div></div><div data-block-id=\"bd3b0fd9-4305-4e46-b2d4-f5f65915355a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">场景</span></div></div></div></div><div data-block-id=\"5586a728-872c-4921-ac59-5c0d454da55e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">现在有两家餐厅：煎饼店和午餐饭店，它们想要合并。两家店的菜单需要统一起来，以便服务员给客户看。</div></div></div></div><div data-block-id=\"b9a0a41d-ff3d-448f-abc1-6030d7b2a3ac\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">但问题是：两家饭店菜单实现方式不一样，也即数据结构不一样，一家是通过数组实现的，另一家是动态数组实现的。</div></div></div></div><div data-block-id=\"fdb17f45-58e9-46ec-8a26-10ba7a549884\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">如果服务员为顾客提供新菜单是，得分别针对不同数据结构，在底层实现不同的迭代。</div></div></div></div><div data-block-id=\"cc0e6b97-0271-4656-9495-0178e8865173\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">代码一</span></div></div></div></div><div data-block-id=\"b5d7c9b1-921e-4bc2-9712-e3a68912fc03\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">MenuItem.java</span></div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"2585d131-20e9-4745-ba4a-376534fd1564\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token comment\" data-token-index=\"0\">/**\n * 菜单项\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">price </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">price </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"0b5f5a67-40ef-4a66-b3c3-3bba258defdc\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">PancakeMenu.java</span></div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"51c53d77-06fa-40b6-8f00-0f6c1b17e8e4\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 煎饼菜单\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenu</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> menuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> menuItem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">initItems</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">initItems</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"葱花饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">3.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"牛肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">6</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"猪肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"韭菜饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"757d3d29-9e43-4c09-9f00-57506a8d0dc9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">DinnerMenu.java</span></div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"fbdf234e-d07e-452a-aadd-dbffaa083c91\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">Iterator</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 午餐菜单\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenu</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> menuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> numberOfItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">initItems</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> menuItem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">numberOfItems </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">length</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"菜单已满，不能再添加！\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">numberOfItems</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    numberOfItems</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">initItems</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"青椒肉丝炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"番茄鸡蛋炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"鱼香茄子炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">11</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"土豆烧鸡炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"e06ad33a-6e34-40e1-b35c-dd61c7e8830f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">Waitress.java</span></div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"b7ed77c6-010a-492d-a97f-fb2dd269473d\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenu</span><span data-token-index=\"0\"> pancakeMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenu</span><span data-token-index=\"0\"> dinnerMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 打印出菜单\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> pMenuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> pMenuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">size</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> menuItem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> pMenuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\":\"</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> dMenuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> n </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> dMenuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">length</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> n</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> menuItem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> dMenuItems</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuItem </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n        </span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\":\"</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"812732c0-5832-40bb-ae06-469d288e2a7c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">Main.java</span></div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"b310d0e6-f819-49c5-8414-a3fd651b02c3\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Main</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">static</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> args</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">var</span><span data-token-index=\"0\"> waitress</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    waitress</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"44278007-be90-4a02-a5c2-2d9b1bcc45f2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"0321eae1-ab2f-427d-b4b9-591f6a7f3359\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">分析一</span></div></div></div></div><div data-block-id=\"1befe8b2-ff84-4c7c-8a56-5eb10441737f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">代码一的问题在于：</div></div></div></div><div data-block-id=\"e9e4c3ad-a914-4728-bd36-31e2f3eb9020\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">Waitress</span>类暴露了菜单的底层结构</div></div></div></div></div><div data-block-id=\"53d706a1-63a6-4aca-a3ae-32104b3465ce\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">扩展性差，如果新加盟了一家咖啡馆，菜单实现为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">HashMap</span>，那么又得新增迭代代码</div></div></div></div></div><div data-block-id=\"1c2bb9c2-fc0a-458d-a620-7e2eff9ae7c3\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">迭代部分大同小异，代码冗余。</div></div></div></div></div><div data-block-id=\"b96c2d34-47f1-4725-8a2b-6ef7fdf67a3c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"7cf6db18-c23d-4f61-b7ec-2f48fe01b86d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">改进</span></div></div></div></div><div data-block-id=\"6b773283-c3a7-48a2-ba0f-5e7f017d736e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">采用iterator设计模式，下图为该模式的结构：</div></div></div></div><div data-block-id=\"1c9ab84d-6a08-48b5-9fe3-2f4b4c80da48\" class=\"notion-selectable notion-image-block\" style=\"width: 576px; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F75569866-2bc9-41f1-90a9-07cc1cf832b3%2FUntitled.png?table=block&amp;id=1c9ab84d-6a08-48b5-9fe3-2f4b4c80da48&amp;width=1150&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"0a2dc7c5-ab4f-494e-8246-9d0943b55d69\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">迭代动作被封装成了一个接口<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">Iterator</span>，每一种聚合（也就是不同底层实现的集合），都对应了一种具体的迭代器<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">ConcreteIterator</span>。</div></div></div></div><div data-block-id=\"37ab50b9-87ae-4dc8-87b1-6ff5a1fb0872\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"2ba4294b-a0f1-41b4-b153-21af0dc271b0\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">代码二</span></div></div></div></div><div data-block-id=\"121b3f8a-3b79-4264-9146-9eea54f19122\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">创建基本的菜单项类<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">MenuItem</span>，包含了各种菜单的共有属性和方法</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"c0542e87-8840-4d70-871a-db4766e6a646\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 菜单项\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">price </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">name </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">setPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">price </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"5fab4806-c5cf-42d9-9d8e-ed37b2dafb7c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">自定义迭代器接口<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">MyIterator.java</span>，有<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">hasNext</span>和<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">next</span>两种方法</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"e8714472-b8d8-4ec2-b22e-81850af2fb99\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 自定义迭代器接口\n * @param &lt;E&gt;\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">interface</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">E</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">E</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"b48e315f-712a-4e13-b288-90d67663e43e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实现具体的迭代器接口<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">PancakeMenuIterator.java</span>以及<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">DinnerMenuIterator.java</span>，其中实现的方法依赖于聚合对象的数据结构</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"13540563-e575-4e10-8891-7fb5d64c3666\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 煎饼菜单迭代器\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenuIterator</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">implements</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> position </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenuIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">menuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">position </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">size</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">||</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">position</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> item </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">get</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">position</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    position </span><span class=\"token operator\" data-token-index=\"0\">+=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> item</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"f19ee694-ca2c-48ff-9e53-6f37fd641211\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 饭店菜单迭代器\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenuIterator</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">implements</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> position </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenuIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">this</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">menuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">boolean</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">position </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">length </span><span class=\"token operator\" data-token-index=\"0\">||</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">position</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">null</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">false</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token boolean\" data-token-index=\"0\">true</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token annotation punctuation\" data-token-index=\"0\">@Override</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> item </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">position</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    position </span><span class=\"token operator\" data-token-index=\"0\">+=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> item</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"d7a83539-dc21-4697-b81f-85a658ed569e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div></div></div></div><div data-block-id=\"3b600604-de24-4e5b-a72d-81fd597ed13d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实现具体聚合（某一对象集合）类并在其中实现创建迭代器的方法，即分别创建<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">DinnerMenu</span>和<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">PancakeMenu</span>类</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"39b9055b-63c8-493d-beb3-5efacd9ceece\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 午餐菜单\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenu</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> menuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token number\" data-token-index=\"0\">20</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> numberOfItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">initItems</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> menuItem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">numberOfItems </span><span class=\"token operator\" data-token-index=\"0\">&gt;=</span><span data-token-index=\"0\"> menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">length</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"菜单已满，不能再添加！\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n    menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span data-token-index=\"0\">numberOfItems</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    numberOfItems</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenuIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">initItems</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"青椒肉丝炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"番茄鸡蛋炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"鱼香茄子炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">11</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"土豆烧鸡炒饭\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">12.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"4aac8b38-9a1c-44f5-9a98-8b7ddc018d17\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token namespace\" data-token-index=\"0\">java</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token namespace\" data-token-index=\"0\">util</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 煎饼菜单\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenu</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> menuItems </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ArrayList</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">double</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> menuItem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">name</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> price</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">add</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">initItems</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">initItems</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"葱花饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">3.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"牛肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">6</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"猪肉饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">addItem</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"韭菜饼\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">2.5</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 创建自己的迭代器\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenuIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuItems</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"2b44dfe5-0969-427c-ba6e-46a6d920a7eb\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">创建服务员类<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">Waitress</span>，现在的服务员，不需要清楚菜单的具体设计，打印总菜单时，只需要调用各自菜单的迭代器即可。而且即使扩展增加新的菜单时，也更加容易</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"caaaccc2-162d-4777-9579-fe056b51aff9\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">package</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">/**\n * 服务员类\n */</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenu</span><span data-token-index=\"0\"> pancakeMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">PancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenu</span><span data-token-index=\"0\"> dinnerMenu </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">DinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n  </span><span class=\"token comment\" data-token-index=\"0\">/**\n   * 打印出菜单\n   */</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> myIterator </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> pancakeMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    myIterator </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> dinnerMenu</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">createIterator</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n  </span><span class=\"token keyword\" data-token-index=\"0\">private</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">MyIterator</span><span class=\"token punctuation\" data-token-index=\"0\">&lt;</span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span class=\"token punctuation\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">hasNext</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">MenuItem</span><span data-token-index=\"0\"> menuItem </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> myIterator</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">next</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n      </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getName</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\":\"</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">+</span><span data-token-index=\"0\"> menuItem</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">getPrice</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"f2566191-725c-4b55-9bdc-f520d828611f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">main</span>函数中运行</div></div><div style=\"padding-left: 1.5em; display: flex; flex-direction: column;\"><div data-block-id=\"a2d365b8-1cc9-4008-b53d-5fe6cae3fba2\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">import</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">ItrUtils</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">class</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Main2TestItreator</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n  </span><span class=\"token keyword\" data-token-index=\"0\">public</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">static</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token class-name\" data-token-index=\"0\">String</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">[</span><span class=\"token punctuation\" data-token-index=\"0\">]</span><span data-token-index=\"0\">args</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span data-token-index=\"0\"> waitress</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token keyword\" data-token-index=\"0\">new</span><span data-token-index=\"0\"> </span><span class=\"token class-name\" data-token-index=\"0\">Waitress</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    </span><span class=\"token class-name\" data-token-index=\"0\">System</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">out</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">println</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"\\niterator模式：\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n    waitress</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span class=\"token function\" data-token-index=\"0\">printMenu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n  </span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"6699b786-7874-4b85-bf7e-355a34359e4b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">结果：</div></div></div></div><div data-block-id=\"d4199229-9fb3-4720-bbad-1ae7cdfd5c8f\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">iterator模式：\n\n葱花饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">3.5</span><span data-token-index=\"0\">\n牛肉饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">6.0</span><span data-token-index=\"0\">\n猪肉饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">5.0</span><span data-token-index=\"0\">\n韭菜饼</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">2.5</span><span data-token-index=\"0\">\n青椒肉丝炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">12.0</span><span data-token-index=\"0\">\n番茄鸡蛋炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">10.0</span><span data-token-index=\"0\">\n鱼香茄子炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">11.0</span><span data-token-index=\"0\">\n土豆烧鸡炒饭</span><span class=\"token operator\" data-token-index=\"0\">:</span><span class=\"token number\" data-token-index=\"0\">12.5</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Java<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div></div></div></div><div data-block-id=\"73e14a22-8326-4024-b7d3-f68e8a86ef1f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"4e44597f-f676-4620-8020-3115d879188f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-weight:600\" data-token-index=\"0\">分析二</span></div></div></div></div><div data-block-id=\"c8632e33-54a3-4bed-92e1-17f3c2506735\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">通过上面的代码，可看到，迭代器模式能够不暴露聚合内部的具体实现，<span style=\"font-weight:600\" data-token-index=\"1\">而且也让聚合任务减轻，把“游走”的任务放在了迭代器上，简化了聚合的接口和实现，也让任务各得其所</span>。</div></div></div></div><div data-block-id=\"beea525e-257d-4b5d-9321-5994610d0a8f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">加粗部分就是<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">单一责任原则</span>（一个类应该只有一个引起变化的原因）的体现。</div></div></div></div><div data-block-id=\"6c988735-e579-4cad-b3f2-256aaa36e45f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">之所以我们要让一个类只有一个改变的原因，在于：我们需要避免类的改变，而类的责任越多时，它改变的机率就越大。而且，当类真的改变时，两个责任的代码都可能受到影响。</div></div></div></div><div data-block-id=\"d603252c-26be-444d-99dc-e25e460bf047\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"6b188591-a9bd-43ad-974c-a326be19e0d1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考文章：</div></div></div></div><div data-block-id=\"453e26ae-55cf-4491-baee-712ddabded28\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.csdn.net/Lammonpeter/article/details/82142020\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">设计模式01--Iterator模式_Java_脚踏实地，慢慢来-CSDN博客</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">定义 迭代器（ Iterator ）模式，从其英文单词可以看出，有反复做某件事的意思。迭代器模式常用于数据集合中，对数据集合中的数据按照顺序进行遍历。它能提供一种方法访问一个容器对象中各个元素，而又不暴露该对象的内部细节。 问题引入 假设我们有一个书架，假设书架可以按照顺序放置无数本书，现在有一个需求，那就是遍历书架里面的所有的书籍，将书籍的名称打印出来。 常规的解决办法 一般情况下，我们在用代码来解决该问题的时候，都是想到使用 for循环，对书架中的每一本书进行循环遍历，然后输出名称。这是一种比较常规的做法，考虑的问题就是为了遍历书架中的书籍，并使用变量 i 来记录当前遍历到哪一本书了，以及将指针指向下一本书，伪代码如下： 这里的 for语句中的 i++的作用是将 i的值在每一次循环之后就自增 1，使得在遍历的过程中就可以访问集合中的下一本书籍，下下一本书籍，再下下一本书籍，直到遍历完所有的书籍。如果我们考虑将 i 的作用进行抽象化，使其通用化，那么就可以形成迭代器模式。 从List中获取启发 说到迭代器设计模式，大家肯定会想到 java.util包中的集合，是的， Java中集合类中运用到了迭代器设计模式，那么，我们在学习迭代器设计模式的时候，完全可以通过去学习集合的源码来学习迭代器设计模式，下面，我将从 ArrayList出发，探究一下在 ArrayList中如何运用的迭代器设计模式。 作为集合类的顶级接口， Collection接口继承了 Iterable接口， Iterable接口的子接口或者实现类都具备迭代和遍历的功能，那么List接口继承自 Collection，自然也是具备基本的迭代功能的，那么我们从 List出发，来探究迭代器模式的运用。 List接口中有一个重写自 Collection的 iterator()方法，它的返回值是一个 Iterator接口的实现类对象。 那么我们接着看 ArrayList类，它实现了 List接口，也实现了 List接口中的 iterator()方法。 那么，针对实例化 ArrayList的时候传入的具体的泛型，可以生成其对应的迭代器，也就是说，上图中 new语句后面的 Itr()创造出来的迭代器对象肯定是针对传入的泛型的迭代器对象。我们继续阅读代码，发现 Itr是 ArrayList的私有内部类，它还实现了 Iterator接口，也实现了基本的 hasNext()方法和 next()方法。 因为 Itr是 ArrayList的内部类，那么 Itr可以操作 ArrayList的成员变量，而 ArrayList作为集合，它内部的元素是存储在变量名为 elementData的 Object数组中的，整个遍历的过程就是针对这个数组进行遍历的。 分析完源码，我们也许还是有些迷糊，那么我们需要借助UML类图来描述这些接口或者类之间的关系了。 从上图可以看出， List接口中有创建 Iterator接口的实现类对象的抽象方法，而 ArrayList实现了 List接口，而 Itr类实现了 Iterator接口，且其拥有 ArrayList的元素数组，可以针对该数组进行一系列的操作，比如遍历。类图可以很清晰表表现出类与类之间的关系，不太熟悉的可以去学习一下 UML 类图。 手动实现迭代器设计模式 从 List中获取到迭代器设计模式实现的灵感，那么我们需要自己手动实现自己的迭代器模式，来解决文章开始引入的遍历书架的问题。首先，我们根据 List中采用的迭代器设计模式，我们需要一个集合接口 Aggregate（有\"使聚集\"、\"聚合\"的意思），该集合接口中有创建迭代器接口 Iterator实现类对象的抽象方法 iterator，这个迭代器接口有 hasNext、 next方法，用来判断集合是否还有元素以及获取集合元素，我们还需要具体的集合实现类，也就是具体的书架，用来承载书籍，该实现类实现了 Aggregate集合的 iterator方法，最后，我们还需要实现迭代器接口的具体类，它持有集合的具体的实现类，还实现了 hasNext和 next方法。我们将类图设计如下所示： 根据类图，我们可以很轻松地设计出基本的迭代器设计模式及的代码，主要代码如下所示： 该接口遵循类图的设计，接口中包含创建 Iterator 接口实现类对象的方法。 该迭代器接口有两个方法，分别是判断被遍历的集合是否还有元素以及获取集合中元素并将指针指向下一个元素。 getBookAt方法可以获取指定索引位置的书籍， appendBook方法是向书架中最后一个位置添加书籍的方法， getLength方法可以得到书籍的数量， iterator ...</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fpublic%2Ffavicon.ico?table=block&amp;id=453e26ae-55cf-4491-baee-712ddabded28&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://blog.csdn.net/Lammonpeter/article/details/82142020</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA5LzE2L25Sd3JKZi5qcGc?x-oss-process=image/format,png\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"dd7e26ca-b70c-475b-b4b7-30d8ff261422\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.csdn.net/z55887/article/details/70548861\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">Head First 设计模式（九）迭代器与组合模式_Java_大树的学习之路-CSDN博客</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">迭代器模式提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露其内部的表示 迭代器模式我们很熟悉，其实就是Java中集合的迭代原理，如果你研究过集合的源码，就会很容易理解这个模式。 现在有两家餐厅：煎饼店和饭店，它们想要合并。两家店的菜单需要统一起来，以便服务员给客户看。 但此时有一个问题，煎饼店和饭店的菜单，实现是不一样的： 从代码我们可以看出，两家店的菜单一个是数组实现，一个是集合实现。 这时，我们想要服务员提供新的菜单时，得分别针对两种不同的底层实现，进行不同的迭代： /** * 打印出菜单 */ public void printMenu() { ArrayList pMenuItems = pancakeMenu.menuItems; for (int i = 0; i &lt; pMenuItems.size(); i++) { MenuItem menuItem = pMenuItems.get(i); System.out.println(menuItem.getName()+\":\"+menuItem.getPrice()); } MenuItem[] dMenuItems = dinnerMenu.menuItems; for (int i = 0,n = dMenuItems.length; i &lt; n; i++) {</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fcsdnimg.cn%2Fpublic%2Ffavicon.ico?table=block&amp;id=dd7e26ca-b70c-475b-b4b7-30d8ff261422&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://blog.csdn.net/z55887/article/details/70548861</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://img-blog.csdn.net/20170423225834709?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvejU1ODg3/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div>","slug":"437cc038ebdc46e691fd735538d3fed1"}},{"node":{"description":null,"id":"9289d16e-6480-5f57-84f6-e5fbba11e44b","name":"Zynq7000软件中断SGI使用摘要","tags":["Embedded Systems"],"categories":["Underlying Study"],"public_date":"2020-01-06","html":"<div data-block-id=\"2e3e85c2-68f3-4518-a2b7-29f5ae9713b5\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#7613b756-68f5-4740-a1ae-59a01bc3b5e5\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">参考文章</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#eb4a3069-b745-4526-801a-83fe52be964e\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">相关API</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#d09a9ddf-366e-4b76-81ca-f15945ef83e3\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">1.初始化GIC中断控制器；</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#e85118bd-5d50-4c48-bf85-ce0e8043933c\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">2.设置中断异常</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#f3d62186-039e-4a1b-a917-dbf2dd72fa77\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">3.绑定中断服务函数</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#8b9741d5-c5c6-4828-80f2-7d86ab1ee202\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">4.设置中断优先级和触发方式</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#56fe8170-7199-4c6b-a406-93c2c970f4ef\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">5.绑定触发中断的CPU</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#e13da9e1-2bce-4cad-976c-5679468e9a88\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">6.允许中断</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#c3010ee1-2bf7-4324-8b3d-e03bd6dc8e07\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">7.触发软件中断</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#b3eb31e8-9907-45fc-887e-097e52f8cc39\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实例</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#0e770d64-af9f-48d2-b070-c900d269e6bd\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">P0_main.c:</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#6dcd2a16-92b0-4616-ba5d-047508752dd6\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">P1_main.c</div></div></div></a></div></div></div><div data-block-id=\"7613b756-68f5-4740-a1ae-59a01bc3b5e5\" class=\"notion-selectable notion-sub_header-block\" id=\"7613b756-68f5-4740-a1ae-59a01bc3b5e5\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考文章</div></div></div><div data-block-id=\"e8e55d29-2196-496c-bfec-ce54ffcf3749\" class=\"notion-selectable notion-bookmark-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div><div style=\"display: flex;\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://zhuanlan.zhihu.com/p/30653352\" style=\"display: block; color: inherit; text-decoration: none; flex-grow: 1; min-width: 0px;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%; display: flex; flex-wrap: wrap-reverse; align-items: stretch; text-align: left; overflow: hidden; border: 1px solid rgba(55, 53, 47, 0.16); border-radius: 3px; position: relative; color: inherit; fill: inherit;\"><div style=\"flex: 4 1 180px; padding: 12px 14px 14px; overflow: hidden; text-align: left;\"><div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-height: 24px; margin-bottom: 2px;\">ZYNQ有两个CPU？（三）--SGI异步通信</div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.6); height: 32px; overflow: hidden;\">前面两篇文章中我分享了ZYNQ上在Standalone环境下搭建AMP和用OCM共享内存传递数据的方法。而到目前为止实现的功能是在两个CPU上跑了多线程，线程之间可以通过共享内存进行同步通信，而我们知道同步通信需要耗费大量的CPU时间，为了节约CPU时间必须要采用异步通信的方式也就是中断方式。 ...</div><div style=\"display: flex; margin-top: 6px;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fstatic.zhihu.com%2Fstatic%2Ffavicon.ico?table=block&amp;id=e8e55d29-2196-496c-bfec-ce54ffcf3749&amp;userId=&amp;cache=v2\" style=\"width: 16px; height: 16px; min-width: 16px; margin-right: 6px;\"><div style=\"font-size: 12px; line-height: 16px; color: rgb(55, 53, 47); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">https://zhuanlan.zhihu.com/p/30653352</div></div></div><div style=\"flex: 1 1 180px; display: block; position: relative;\"><div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fpic1.zhimg.com%2Fv2-6ee5566fa3da0237faf8326cf39a5189_b.jpg?table=block&amp;id=e8e55d29-2196-496c-bfec-ce54ffcf3749&amp;width=500&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; height: 100%;\"></div></div></div></div></a></div></div></div><div data-block-id=\"b40ad8b9-7c65-4a79-ab96-81dab9b03353\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">使用软件中断的基本流程如下：</div></div></div></div><div data-block-id=\"100a95f9-54be-408e-a6e4-b913a5da159e\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">1.初始化GIC中断控制器</div></div></div></div></div><div data-block-id=\"abbe179c-a40f-4db7-a185-51d1deb90cc7\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">2.设置中断异常</div></div></div></div></div><div data-block-id=\"a09d6b7b-2370-4e40-bf8f-80abc06b15ae\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">3.绑定中断服务函数</div></div></div></div></div><div data-block-id=\"030bade0-4156-4df7-bf72-70cea5f61445\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">4.设置中断优先级和触发方式</div></div></div></div></div><div data-block-id=\"fbeec7e1-69f5-42be-8ee9-f536054458c2\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">5.绑定触发中断的CPU</div></div></div></div></div><div data-block-id=\"037dbff8-b3bc-4200-a198-eef4d90f9bdf\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">6.允许中断</div></div></div></div></div><div data-block-id=\"c35b57da-183d-46a9-ae1a-e13973cc5665\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">7.触发软件中断</div></div></div></div></div><div data-block-id=\"eb4a3069-b745-4526-801a-83fe52be964e\" class=\"notion-selectable notion-sub_header-block\" id=\"eb4a3069-b745-4526-801a-83fe52be964e\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">相关API</div></div></div><div data-block-id=\"d09a9ddf-366e-4b76-81ca-f15945ef83e3\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"d09a9ddf-366e-4b76-81ca-f15945ef83e3\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">1.初始化GIC中断控制器；</div></div></div><div data-block-id=\"8727b6bb-ffbe-46f9-a8d3-d0928c7d0d65\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">XScuGic_Config </span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token function\" data-token-index=\"0\">XScuGic_LookupConfig</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">u16 DeviceId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"e8377fa5-610a-4ce4-af91-33aeb2ff9b1d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">通过设备id查找设备的配置\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">DeviceID</span>，设备ID的唯一标识符。\n返回<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic_Config *</span>型指针，指向指定设备的配置信息结构体中。</div></div></div></div><div data-block-id=\"48d32813-16d3-4593-ad4a-bbb61436b0d3\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">s32  </span><span class=\"token function\" data-token-index=\"0\">XScuGic_CfgInitialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">InstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\tXScuGic_Config </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">ConfigPtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\tu32 EffectiveAddr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"29e0a3f8-2322-4254-b632-5531785bbdb7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">对指定的中断控制器实例进行初始化。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">ConfigPtr</span>是指向所关联的特定设备的配置表的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">EffectiveAddr</span>是所关联设备的有效地址。</div></div></div></div><div data-block-id=\"e85118bd-5d50-4c48-bf85-ce0e8043933c\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"e85118bd-5d50-4c48-bf85-ce0e8043933c\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">2.设置中断异常</div></div></div><div data-block-id=\"0a4c1def-4ac1-41de-ba69-5e80149e7e11\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionInit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"4f460529-f8be-464e-acef-3d7e24c84b4e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">异常处理，在Coretex-A9中不做任何事，因为异常处理已被静态初始化。</div></div></div></div><div data-block-id=\"d57e6f61-c7f5-48f0-9ff7-2cd928aa061a\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionRegisterHandler</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">u32 Exception_id</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\t    Xil_ExceptionHandler Handler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\t    </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">Data</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ad9d4eff-9aa8-4f9d-b9ca-0d42e31ae9a2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">为特定的异常注册一个handler，当处理器发生特定异常后调用对应handler。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">Exception_id</span>异常源的id。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">Handler</span>是异常处理函数。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Data</span>是异常发生时，传给对应handler的参数。</div></div></div></div><div data-block-id=\"b8869e42-d261-4914-bde4-fb709234d94a\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name function\" data-token-index=\"0\">Xil_ExceptionEnable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token expression\" data-token-index=\"0\"> \\\\</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionEnableMask</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XIL_EXCEPTION_IRQ</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c18315f4-4a72-46c2-b4ce-5e78fd867775\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">允许中断的异常处理</div></div></div></div><div data-block-id=\"f3d62186-039e-4a1b-a917-dbf2dd72fa77\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"f3d62186-039e-4a1b-a917-dbf2dd72fa77\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">3.绑定中断服务函数</div></div></div><div data-block-id=\"9fd80ded-5fd9-4b4a-bc0b-e22dc803365e\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">s32  </span><span class=\"token function\" data-token-index=\"0\">XScuGic_Connect</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">InstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 Int_Id</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n                      Xil_InterruptHandler Handler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">CallBackRef</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"85c45521-4a1e-4f88-9a11-0349fb5891b9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">将指定中断服务函数绑定到指定中断号上。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Int_Id</span>是中断源的中断号。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">Handler</span>是中断处理函数。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">CallBackRef</span>是回调的一个引用，会传递给中断服务函数作为参数，一般是所关联的设备的实例指针，通过类型转换在中断服务函数获取设备实例。</div></div></div></div><div data-block-id=\"8b9741d5-c5c6-4828-80f2-7d86ab1ee202\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"8b9741d5-c5c6-4828-80f2-7d86ab1ee202\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">4.设置中断优先级和触发方式</div></div></div><div data-block-id=\"214ed0c2-cfaf-4d04-9529-4cbb71240761\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_SetPriorityTriggerType</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">InstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 Int_Id</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\t\tu8 Priority</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u8 Trigger</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"8138cd3c-646c-419b-9415-3fe177b303f1\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">为指定中断源设定中断优先级和触发类型。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Int_Id</span>是中断源的中断号。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">Priority</span>是要将中断源更新后的优先级，0为最高，0xF8为最低。有32个等级，以8为步长，0,8,16,...,248。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">Trigger</span>是要将中断源更新后的触发类型。</div></div></div></div><div data-block-id=\"56fe8170-7199-4c6b-a406-93c2c970f4ef\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"56fe8170-7199-4c6b-a406-93c2c970f4ef\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">5.绑定触发中断的CPU</div></div></div><div data-block-id=\"b9ec32ba-0fc8-4252-a3e5-45800881c415\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_InterruptMaptoCpu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">InstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u8 Cpu_Id</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 Int_Id</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"cc047ce7-592f-4f57-bd81-5144a4643620\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">将中断源和目标CPU绑定\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Cpu_Id</span>目标CPU的id。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">Int_Id</span>是中断源的中断号。</div></div></div></div><div data-block-id=\"e13da9e1-2bce-4cad-976c-5679468e9a88\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"e13da9e1-2bce-4cad-976c-5679468e9a88\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">6.允许中断</div></div></div><div data-block-id=\"f6033338-21cd-4670-883a-aae76d620a64\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_Enable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">InstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 Int_Id</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"9cba8973-4429-46b9-8d53-b4478e7e8b46\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">中断使能，在该函数调用后，可使对应id的pending的中断能够发生。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Int_Id</span>是中断源的中断号。</div></div></div></div><div data-block-id=\"c3010ee1-2bf7-4324-8b3d-e03bd6dc8e07\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"c3010ee1-2bf7-4324-8b3d-e03bd6dc8e07\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">7.触发软件中断</div></div></div><div data-block-id=\"c851e606-e813-41e3-a443-6c84eb96edc7\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">s32  </span><span class=\"token function\" data-token-index=\"0\">XScuGic_SoftwareIntr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">InstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 Int_Id</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 Cpu_Id</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"77ba6894-499a-46d6-8fac-17419e5cecce\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">通过软件模拟中断的方式在中断控制器中触发中断。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Int_Id</span>是软件模拟的中断源的中断号。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">Cpu_Id</span>将中断送往到的目标CPU的id。</div></div></div></div><div data-block-id=\"b3eb31e8-9907-45fc-887e-097e52f8cc39\" class=\"notion-selectable notion-sub_header-block\" id=\"b3eb31e8-9907-45fc-887e-097e52f8cc39\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实例</div></div></div><div data-block-id=\"ddf179d9-c9ea-4276-bd1b-0fb7ea45cb9e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">搬运文章3的使用实例:\n该例子中，cpu0和cpu1都注册两个软件中断，将1号软件中断注册给cpu1，表示cpu0发送中断给cpu1，将2号软件中断注册给cpu0，表示cpu1发送中断给cpu0；然后在程序运行时，cpu0触发1号软件中断，此时cpu1正在运行主程序被该中断中断，进入中断服务函数，其处理完中断后触发2号软件中断，此时该中断会中断cpu0，进入中断服务函数，cpu0处理完中断后回到主函数，再触发1号软件中断，往复运行。</div></div></div></div><div data-block-id=\"1c611115-a46c-4d7e-b538-f494f7ff4151\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">代码略作修改后如下。</div></div></div></div><div data-block-id=\"0e770d64-af9f-48d2-b070-c900d269e6bd\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"0e770d64-af9f-48d2-b070-c900d269e6bd\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">P0_main.c</span>:</div></div></div><div data-block-id=\"8c6e8832-0c67-4d4d-b426-6d40eb16726b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">&lt;stdio.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_cache.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xparameters.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_mmu.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_misc_psreset_api.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_exception.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xscugic.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xuartps.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"stdio.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"sleep.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_printf.h\"</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">volatile</span><span data-token-index=\"0\"> u8 software_intr_received </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">TRIGGER_BY_CPU0_INT_ID</span><span class=\"token macro property\" data-token-index=\"0\">   </span><span class=\"token number\" data-token-index=\"0\">0x01</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">TRIGGER_BY_CPU1_INT_ID</span><span class=\"token macro property\" data-token-index=\"0\">   </span><span class=\"token number\" data-token-index=\"0\">0x02</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">//函数声明</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_intr_init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Setup_Intr_Exception</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> IntcInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Scu_Intr_Init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> IntancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Scu_Int_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Init_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\tXil_InterruptHandler IntrHandler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u16 SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u8 CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Gen_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u16 SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">IntrFromCPU1_Handler</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">Callback</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\nXScuGic ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">delay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> count</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> count</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">sys_intr_init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"cpu0 start!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">/*\n\tGen_Software_Intr(&amp;ScuGic, TRIGGER_BY_CPU0_INT_ID,\n\t\t\tXSCUGIC_SPI_CPU1_MASK);\n\t\t\t*/</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> software_intr_received</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\tsoftware_intr_received </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"So, cpu0_main can do ...\\\\r\\\\n\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">Gen_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> TRIGGER_BY_CPU0_INT_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\t\tXSCUGIC_SPI_CPU1_MASK</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">delay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">200000000</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_intr_init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//初始化GIC</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Scu_Intr_Init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> XPAR_SCUGIC_SINGLE_DEVICE_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//绑定中断服务函数，设置中断优先级和触发方式，绑定触发中断到目标CPU，允许中断</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Init_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">IntrFromCPU1_Handler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> TRIGGER_BY_CPU1_INT_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Setup_Intr_Exception</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Setup_Intr_Exception</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> IntcInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//connect hardware interrupt</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionInit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionRegisterHandler</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XIL_EXCEPTION_ID_INT</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Xil_ExceptionHandler</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> XScuGic_InterruptHandler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> IntcInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//enable hardware interrupt</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionEnable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">//1.初始化GIC中断控制器；</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Scu_Intr_Init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> IntancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Scu_Int_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tXScuGic_Config </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">ScuConfigPtr</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tScuConfigPtr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_LookupConfig</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Scu_Int_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//中断设置查找 1</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XScuGic_CfgInitialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">IntancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> ScuConfigPtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token comment\" data-token-index=\"0\">//GIC初始化 2</span><span data-token-index=\"0\">\n\t\t\tScuConfigPtr</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">CpuBaseAddress</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">IntrFromCPU1_Handler</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">Callback</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"P0_main.c: receive interrupt from core1!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tsoftware_intr_received </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token comment\" data-token-index=\"0\">//2.绑定中断服务函数；3设置中断优先级和触发方式；4.绑定触发中断的CPU;5.允许中断</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Init_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\tXil_InterruptHandler IntrHandler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u16 SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u8 CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XScuGic_SetPriorityTriggerType</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0xd0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x3</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//设置中断优先级及中断触发方式 3</span><span data-token-index=\"0\">\n\tStatus </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_Connect</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Xil_InterruptHandler</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> IntrHandler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//设置中断服务程序入口地址 4</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Status </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"core%d: interrupt %d set fail!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> XPAR_CPU_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\tSoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XScuGic_InterruptMaptoCpu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//配置中断到对应的CPU 5</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XScuGic_Enable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//GIC允许，允许中断</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token comment\" data-token-index=\"0\">//6.触发软件中断；</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Gen_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u16 SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tStatus </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_SoftwareIntr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//在正在更新的内核中触发软件中断。该命令将向该指定内核发出一个软件中断</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Status </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"core%d: interrupt %d gen fail!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> XPAR_CPU_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\tSoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"6dcd2a16-92b0-4616-ba5d-047508752dd6\" class=\"notion-selectable notion-sub_sub_header-block\" id=\"6dcd2a16-92b0-4616-ba5d-047508752dd6\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"0\" spellcheck=\"false\">P1_main.c</span></div></div></div><div data-block-id=\"d37fd94b-05f7-4732-8009-7fd5ea543c3f\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">&lt;stdio.h&gt;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_cache.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xparameters.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_mmu.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_misc_psreset_api.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_exception.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xscugic.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xuartps.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"stdio.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"sleep.h\"</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_printf.h\"</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">volatile</span><span data-token-index=\"0\"> u8 software_intr_received </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">TRIGGER_BY_CPU0_INT_ID</span><span class=\"token macro property\" data-token-index=\"0\">   </span><span class=\"token number\" data-token-index=\"0\">0x01</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">TRIGGER_BY_CPU1_INT_ID</span><span class=\"token macro property\" data-token-index=\"0\">   </span><span class=\"token number\" data-token-index=\"0\">0x02</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_intr_init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Setup_Intr_Exception</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> IntcInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Scu_Intr_Init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> IntancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Scu_Int_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Init_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\tXil_InterruptHandler IntrHandler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u16 SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u8 CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Gen_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u16 SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">IntrFromCPU0_Handler</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">Callback</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\nXScuGic ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">delay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">unsigned</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> count</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">i </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\"> count</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">sys_intr_init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"cpu1 start!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Gen_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> TRIGGER_BY_CPU1_INT_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\tXSCUGIC_SPI_CPU0_MASK</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">==</span><span data-token-index=\"0\"> software_intr_received</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\tsoftware_intr_received </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"So, cpu1_main can do ...\\\\r\\\\n\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">Gen_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> TRIGGER_BY_CPU1_INT_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\t\tXSCUGIC_SPI_CPU0_MASK</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">delay</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">200000000</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">sys_intr_init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Scu_Intr_Init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> XPAR_SCUGIC_SINGLE_DEVICE_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Init_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> IntrFromCPU0_Handler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> TRIGGER_BY_CPU0_INT_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Setup_Intr_Exception</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">ScuGic</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Setup_Intr_Exception</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> IntcInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//connect hardware interrupt</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionInit</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionRegisterHandler</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XIL_EXCEPTION_ID_INT</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Xil_ExceptionHandler</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> XScuGic_InterruptHandler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> IntcInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//enable hardware interrupt</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">Xil_ExceptionEnable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Scu_Intr_Init</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> IntancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Scu_Int_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tXScuGic_Config </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">ScuConfigPtr</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//find device</span><span data-token-index=\"0\">\n\tScuConfigPtr </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_LookupConfig</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Scu_Int_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//config scuint</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XScuGic_CfgInitialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">IntancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> ScuConfigPtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\tScuConfigPtr</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">CpuBaseAddress</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">IntrFromCPU0_Handler</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">Callback</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"P1_main.c: receive interrupt from core0!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tsoftware_intr_received </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Init_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\tXil_InterruptHandler IntrHandler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u16 SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u8 CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XScuGic_SetPriorityTriggerType</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0xB0</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tStatus </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_Connect</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Xil_InterruptHandler</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> IntrHandler</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> </span><span class=\"token constant\" data-token-index=\"0\">NULL</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Status </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"core%d: interrupt %d set fail!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> XPAR_CPU_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\tSoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XScuGic_InterruptMaptoCpu</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//map the the Software interrupt to target CPU</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XScuGic_Enable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">//enable the interrupt for the Software interrupt at GIC</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token keyword\" data-token-index=\"0\">void</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">Gen_Software_Intr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XScuGic </span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u16 SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> u32 CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tStatus </span><span class=\"token operator\" data-token-index=\"0\">=</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">XScuGic_SoftwareIntr</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">GicInstancePtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> SoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> CpuId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Status </span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"core%d: interrupt %d gen fail!\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\"> XPAR_CPU_ID</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">\n\t\t\t\tSoftwareIntrId</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div>","slug":"2ff1e3b74690456db18f83c48f3cf8c1"}},{"node":{"description":"简要介绍ZYNQ的私有定时中断的使用，在ZYNQ的纯PS里实现私有定时器中断。每隔一秒钟中断一次，在中断函数里计数加1，通过串口打印输出...","id":"c264ad53-abd9-5099-a9c1-d9777f9a12ef","name":"Zynq7000私有定时器使用摘要","tags":["Embedded Systems"],"categories":["Underlying Study"],"public_date":"2019-12-04","html":"<div data-block-id=\"32af40b7-d207-471a-a1ef-dffac26920c7\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#2397b843-c409-4f1f-9149-f4d2aff55e3a\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">初始化私有定时器设备实例</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#33e38de2-1946-4334-b253-6aa420d59a70\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">设置定时器中断</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#966bd03f-ef64-4f38-bb0d-74dba2c52d05\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">1.初始化GIC中断控制器；</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#2c120acc-249c-49cb-b8e9-136bc05adf8d\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">2.设置中断异常</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#3a68e2de-50ed-4a95-9c51-4a93d4e77268\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">3.绑定中断服务函数</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#523d0589-412c-4813-9810-3d581b55838e\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">4.使能中断</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#3a126960-7d19-45d4-9055-eb47daf22bb0\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">启动私有定时器</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#479325a7-031b-43e7-8fe0-c2a02e169b0a\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">实例参考</div></div></div></a></div></div></div><div data-block-id=\"1d79c920-784e-4519-8dc6-6abe1d4193de\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">参考文章：</div></div></div></div><div data-block-id=\"dcff2b5b-b51d-46a3-a6ab-15d74b1f50bd\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><a href=\"http://xilinx.eetrend.com/blog/2019/100043515.html\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"0\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">学会Zynq（9）定时器使用示例（PPI）</span></a><a href=\"https://my.oschina.net/msxbo/blog/3099104\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">米联客 ZYNQ/SOC精品教程 S02-CH08 定时器中断实验</span></a></div></div></div></div><div data-block-id=\"2397b843-c409-4f1f-9149-f4d2aff55e3a\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"2397b843-c409-4f1f-9149-f4d2aff55e3a\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">初始化私有定时器设备实例</div></div></div><div data-block-id=\"f78958fe-041b-468b-ac85-d815395bb856\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">XScuTimer_Config *XScuTimer_LookupConfig(u16 DeviceId);\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"8a82816f-39af-4b6a-94eb-09dfa73403c8\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">通过设备ID查找设备配置\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">DeviceId</span>，设备ID\n返回<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuTimer_Config</span>型指针，指向配置表中对应设备ID的配置，若未查找到相应设备返回NULL。</div></div></div></div><div data-block-id=\"827ade58-362b-407e-b39c-5f0ff5999aa4\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">s32 XScuTimer_CfgInitialize(XScuTimer *InstancePtr,\n\t\t\t XScuTimer_Config *ConfigPtr, u32 EffectiveAddress)\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"91804f4e-83dc-47a1-aa15-e8b839284d9d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">初始化指定的定时器设备。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>，指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuTimer</span>的一个实例。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">ConfigPtr</span>，指向定时器实例的配置信息结构体\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">EffectiveAddress</span>，设备的起始地址。\n返回初始化的结果状态，初始化成功为<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">XST_SUCCESS</span>或者已被使用<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"11\" spellcheck=\"false\">XST_DEVICE_IS_STARTED</span>。</div></div></div></div><div data-block-id=\"1ca57efa-71ce-450d-8bc2-4d41932972c0\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">#define XScuTimer_LoadTimer(InstancePtr, Value)\t\t\t\t\\\\\n\tXScuTimer_WriteReg((InstancePtr)-&gt;Config.BaseAddr,\t\t\\\\\n\t\t\tXSCUTIMER_LOAD_OFFSET, (Value))\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"20c98464-436d-4d6c-ad6a-80690060253a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">加载定时器的计数器中的值，其本质上只是操作Timer Load寄存器。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>，指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuTimer</span>的一个实例。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Value</span>，计数的预加载值。\n私有定时器是从装载值递减到0时发出中断。私有定时器的工作时钟为333MHz，每1/333M秒减1。因此若想定时1s，则装载值为1/(1/333M)-1，</div></div></div></div><div data-block-id=\"9828ffb1-5b3c-460a-9c4e-65ba7d6e4d41\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">#define XScuTimer_EnableAutoReload(InstancePtr)\t\t\t\t\\\\\n\tXScuTimer_WriteReg((InstancePtr)-&gt;Config.BaseAddr,\t\t\\\\\n\t\t\tXSCUTIMER_CONTROL_OFFSET,\t\t\t\\\\\n\t\t\t(XScuTimer_ReadReg((InstancePtr)-&gt;Config.BaseAddr, \\\\\n\t\t\t\tXSCUTIMER_CONTROL_OFFSET) |\t\t \\\\\n\t\t\t\tXSCUTIMER_CONTROL_AUTO_RELOAD_MASK))\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"c6af08da-6103-4c4a-a663-cdf550730e9a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">允许指定定时器设备实例能自动重载。</div></div></div></div><div data-block-id=\"33e38de2-1946-4334-b253-6aa420d59a70\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"33e38de2-1946-4334-b253-6aa420d59a70\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">设置定时器中断</div></div></div><div data-block-id=\"da46104e-ecab-4d33-8c77-829799f8bfbc\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">中断时基本过程：初始化中断控制器、设置中断异常、连接中断、使能中断。</div></div></div></div><div data-block-id=\"966bd03f-ef64-4f38-bb0d-74dba2c52d05\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"966bd03f-ef64-4f38-bb0d-74dba2c52d05\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">1.初始化GIC中断控制器；</div></div></div><div data-block-id=\"b4be02b2-dc31-4119-801c-fb33eac8a869\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">XScuGic_Config *XScuGic_LookupConfig(u16 DeviceId);\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"ae5ff065-4fed-4321-be68-632f85210119\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">通过设备id查找设备的配置\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">DeviceID</span>，设备ID的唯一标识符。\n返回<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic_Config *</span>型指针，指向指定设备的配置信息结构体中。</div></div></div></div><div data-block-id=\"0a9e124a-9d7f-4aca-86c7-1a8a7881ffbb\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">s32  XScuGic_CfgInitialize(XScuGic *InstancePtr,\n\t\t\t\tXScuGic_Config *ConfigPtr,\n\t\t\t\tu32 EffectiveAddr);\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"30c779a4-c0ee-4ddd-8b1c-4be59cdd4dfe\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">对指定的中断控制器实例进行初始化。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">ConfigPtr</span>是指向所关联的特定设备的配置表的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">EffectiveAddr</span>是所关联设备的有效地址。</div></div></div></div><div data-block-id=\"2c120acc-249c-49cb-b8e9-136bc05adf8d\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"2c120acc-249c-49cb-b8e9-136bc05adf8d\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">2.设置中断异常</div></div></div><div data-block-id=\"c3b69219-88d2-49d9-a2da-7c73440fd73f\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">void Xil_ExceptionInit(void);\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"b4083229-0dc2-42aa-b3b3-51c849797526\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">异常处理，在Coretex-A9中不做任何事，因为异常处理已被静态初始化。</div></div></div></div><div data-block-id=\"6aa6c405-5201-43f0-b995-9785ff5d4f96\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">void Xil_ExceptionRegisterHandler(u32 Exception_id,\n\t\t\t\t    Xil_ExceptionHandler Handler,\n\t\t\t\t    void *Data);\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"1d52a1ad-22e5-4f0c-8517-95443e0b5fed\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">为特定的异常注册一个handler，当处理器发生特定异常后调用对应handler。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">Exception_id</span>异常源的id。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">Handler</span>是异常处理函数。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Data</span>是异常发生时，传给对应handler的参数。</div></div></div></div><div data-block-id=\"15714182-94b5-4939-9230-14b99ccb9c5c\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">#define Xil_ExceptionEnable() \\\\\n\t\tXil_ExceptionEnableMask(XIL_EXCEPTION_IRQ)\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"cd639eac-8888-40e3-b705-0c4fe38b5c10\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">允许中断的异常处理。</div></div></div></div><div data-block-id=\"3a68e2de-50ed-4a95-9c51-4a93d4e77268\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"3a68e2de-50ed-4a95-9c51-4a93d4e77268\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">3.绑定中断服务函数</div></div></div><div data-block-id=\"50f95688-e291-4a00-9ec4-5408ce6fc557\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">s32  XScuGic_Connect(XScuGic *InstancePtr, u32 Int_Id,\n                      Xil_InterruptHandler Handler, void *CallBackRef);\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"5c2b2e30-368c-4ce8-9488-b66a62749d90\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">将指定中断服务函数绑定到指定中断号上。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Int_Id</span>是中断源的中断号。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">Handler</span>是中断处理函数。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"9\" spellcheck=\"false\">CallBackRef</span>是回调的一个引用，一般是所连接的设备的指针。</div></div></div></div><div data-block-id=\"523d0589-412c-4813-9810-3d581b55838e\" class=\"notion-selectable notion-sub_sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1em; margin-bottom: 1px;\" id=\"523d0589-412c-4813-9810-3d581b55838e\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 3\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">4.使能中断</div></div></div><div data-block-id=\"d1e50daa-27e9-4473-86f7-e9168cf8d72b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">void XScuGic_Enable(XScuGic *InstancePtr, u32 Int_Id);\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"d4498be4-8fd3-4833-a861-284f494fbd50\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">中断使能，在该函数调用后，可使对应id的pending的中断能够发生。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">XScuGic</span>实例的指针。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">Int_Id</span>是中断源的中断号。</div></div></div></div><div data-block-id=\"8703fbb7-8500-4aa8-83de-af84a01ed6cc\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">#define XScuTimer_EnableInterrupt(InstancePtr)\t\t\t\t\\\\\n\tXScuTimer_WriteReg((InstancePtr)-&gt;Config.BaseAddr,\t\t\\\\\n\t\t\tXSCUTIMER_CONTROL_OFFSET,\t\t\t\\\\\n\t\t\t(XScuTimer_ReadReg((InstancePtr)-&gt;Config.BaseAddr, \\\\\n\t\t\t\t\tXSCUTIMER_CONTROL_OFFSET) |\t\\\\\n\t\t\t\t\tXSCUTIMER_CONTROL_IRQ_ENABLE_MASK))\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"64e0725e-497a-4c8c-92df-8f0a789eaa59\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">允许定时器中断。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向私有定时器设备实例的指针。</div></div></div></div><div data-block-id=\"3a126960-7d19-45d4-9055-eb47daf22bb0\" class=\"notion-selectable notion-sub_header-block\" id=\"3a126960-7d19-45d4-9055-eb47daf22bb0\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">启动私有定时器</div></div></div><div data-block-id=\"955033d3-3b0f-4d43-825e-866d494c359b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">void XScuTimer_Start(XScuTimer *InstancePtr);\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"d8db8ec5-966c-43ea-af1f-f6b5184502e9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">启动定时器。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向私有定时器设备实例的指针。</div></div></div></div><div data-block-id=\"ccd9cf07-80b0-483c-b546-57879f46d775\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">#define XScuTimer_ClearInterruptStatus(InstancePtr)\t\t\t\\\\\n\tXScuTimer_WriteReg((InstancePtr)-&gt;Config.BaseAddr,\t\t\\\\\n\t\tXSCUTIMER_ISR_OFFSET, XSCUTIMER_ISR_EVENT_FLAG_MASK)\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"0c6daaf9-8a65-4d0b-9150-60b0d03d18d9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">清除中断状态。\n<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">InstancePtr</span>是指向私有定时器设备实例的指针。</div></div></div></div><div data-block-id=\"5d7b51db-407b-4e70-807d-0dcf9fa04217\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">在定时器中断处理程序中，我们必须清除中断标志，因此<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">XscuGic_Connect</span>的第三个参数设置为定时器的控制设备实例的指针，在调用中断状态清除函数时会用到该参数。</div></div></div></div><div data-block-id=\"479325a7-031b-43e7-8fe0-c2a02e169b0a\" class=\"notion-selectable notion-sub_header-block\" id=\"479325a7-031b-43e7-8fe0-c2a02e169b0a\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实例参考</div></div></div><div data-block-id=\"4ae88d94-0621-4d86-ba7b-df9cc3fb666b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">搬运米联客文章中的案例，完成私有定时器计秒。</div></div></div></div><div data-block-id=\"bf5d0640-4576-4697-9c15-231ddd638e26\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\">\n/*\n *\n * www.osrc.cn\n * www.milinker.com\n * copyright by nan jin mi lian dian zi www.osrc.cn\n * axi dma test\n *\n*/\n\n#include \"xscugic.h\"\n#include \"xil_exception.h\"\n#include \"xscutimer.h\"\n#include \"xparameters.h\"\n\n#define INTC_DEVICE_ID          XPAR_SCUGIC_SINGLE_DEVICE_ID\nextern volatile int usec;\n//timer info\n#define TIMER_DEVICE_ID     XPAR_XSCUTIMER_0_DEVICE_ID\n#define TIMER_IRPT_INTR     XPAR_SCUTIMER_INTR\n\nstatic XScuGic Intc; //GIC\nstatic  XScuTimer Timer;//timer\n\n\n#define TIMER_LOAD_VALUE    0x13D92D3F //1S\n\nstatic void TimerIntrHandler(void *CallBackRef)\n{\n\n    XScuTimer *TimerInstancePtr = (XScuTimer *) CallBackRef;\n    XScuTimer_ClearInterruptStatus(TimerInstancePtr);\n    usec++;\n    xil_printf(\" %d Second\\\\n\\\\r\",usec);  //每秒打印输出一次\n}\n\nint init_timer(void)\n{\n    XScuTimer_Config *TMRConfigPtr;     //timer config\n    //私有定时器初始化\n    TMRConfigPtr = XScuTimer_LookupConfig(0);\n    XScuTimer_CfgInitialize(&amp;Timer, TMRConfigPtr,TMRConfigPtr-&gt;BaseAddr);\n    //XScuTimer_SelfTest(&amp;Timer);\n    //加载计数周期，私有定时器的时钟为CPU的一半，为333MHZ,如果计数1S,加载值为1sx(333x1000x1000)(1/s)-1=0x13D92D3F\n    XScuTimer_LoadTimer(&amp;Timer, TIMER_LOAD_VALUE);//F8F00600+0=reg=F8F00600\n    //自动装载\n    XScuTimer_EnableAutoReload(&amp;Timer);//F8F00600+8=reg=F8F00608\n\tXScuGic_Config *IntcConfig;\n\tIntcConfig = XScuGic_LookupConfig(INTC_DEVICE_ID);\n\tif (NULL == IntcConfig) {\n\t\treturn XST_FAILURE;\n\t}\n\tint Status = XScuGic_CfgInitialize(&amp;Intc, IntcConfig,\n\t\t\t\t\tIntcConfig-&gt;CpuBaseAddress);\n\tif (Status != XST_SUCCESS) {\n\t\treturn XST_FAILURE;\n\t}\n\t/* Enable interrupts from the hardware */\n\tXil_ExceptionInit();\n\tXil_ExceptionRegisterHandler(XIL_EXCEPTION_ID_INT,\n\t\t\t(Xil_ExceptionHandler)XScuGic_InterruptHandler,\n\t\t\t(void *)&amp;Intc);\n\tXil_ExceptionEnable();\n    XScuGic_Connect(&amp;Intc, TIMER_IRPT_INTR,\n                    (Xil_ExceptionHandler)TimerIntrHandler,//set up the timer interrupt\n                    (void *)&amp;Timer);\n\n    XScuGic_Enable(&amp;Intc, TIMER_IRPT_INTR);//enable the interrupt for the Timer at GIC\n    XScuTimer_EnableInterrupt(&amp;Timer);//enable interrupt on the timer\n    XScuTimer_Start(&amp;Timer);\n    return XST_SUCCESS;\n}\n\nint main(void)\n{\n\txil_printf(\"------------START-------------\\\\n\");\n\tint Status=init_timer();\n\tif(Status!=XST_SUCCESS){\n\t\txil_printf(\"Failed to initialize Timer!\\\\n\\\\r\");\n\t\treturn 0;\n\t}\n\n\twhile(1);\n}\n\n</div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Plain Text<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div>","slug":"489e4390646d4c3a9fd2e2533f9ab849"}},{"node":{"description":"对zynq7000上的3中GPIO使用各做一个demo……","id":"323955c7-a2f7-5203-84a5-c5dde32c81b5","name":"Zynq7000三种GPIO的使用之点亮流水灯摘要","tags":["Embedded Systems"],"categories":["Underlying Study"],"public_date":"2019-12-02","html":"<div data-block-id=\"3af44181-799a-4369-a507-edcce8018ec8\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#d1f54060-cd5a-4c3f-8e0e-332ddd5c75e7\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">MIO</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#33206361-3a6c-4308-bdca-e98e352d76b7\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">EMIO</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#209be02b-b648-427d-9296-bcdfe0938e06\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div class=\"\" role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">AXI GPIO</div></div></div></a></div></div></div><div data-block-id=\"d1f54060-cd5a-4c3f-8e0e-332ddd5c75e7\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"d1f54060-cd5a-4c3f-8e0e-332ddd5c75e7\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">MIO</div></div></div><div data-block-id=\"f378270f-037e-4f0f-9f5e-84dd89c93b6b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">直接使用PS部分的MIO。</div></div></div></div><div data-block-id=\"6acd9f0e-5fe9-4fc0-8132-05ab6dab94e7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">由于MIO属于PS部分，不需要进行块设计，因而不用进行Program FPGA。</div></div></div></div><div data-block-id=\"7f2859fd-62ae-482c-be07-1c5233923966\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">另外，由于MIO上的大部分引脚已被固定，因而可操作的Pins几乎没有，下面仅操作D3这一绿色LED灯使之闪烁。</div></div></div></div><div data-block-id=\"4256ab9b-8711-4525-8fc7-4c9692a84f30\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">SDK代码：</div></div></div></div><div data-block-id=\"7d48e3cd-c616-4964-ad8d-bb82f5636880\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xparameters.h\"</span><span class=\"token comment\" data-token-index=\"0\">//硬件参数定义</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xgpiops.h\"</span><span class=\"token comment\" data-token-index=\"0\">//PS部分的GPIO的库函数</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xil_printf.h\"</span><span class=\"token comment\" data-token-index=\"0\">//串口输出库函数</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xstatus.h\"</span><span class=\"token comment\" data-token-index=\"0\">//状态码定义头文件</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xplatform_info.h\"</span><span class=\"token comment\" data-token-index=\"0\">//平台定义头文件</span><span data-token-index=\"0\">\n\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">D3_PINNUM</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*D3的PS GPIO的通道*/</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10000000</span><span class=\"token comment\" data-token-index=\"0\">/**/</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tXGpioPs Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*GPIO driver的实例*/</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"流水灯开始跑起来吧！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//测试目标板子的芯片</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> typeOfboard</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGetPlatform_Info</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">switch</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">typeOfboard</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> XPLAT_ZYNQ_ULTRA_MP</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这是ZYNQ_ULTRA型开发版\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> XPLAT_ZYNQ</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这是ZYNQ型开发版\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//初始化PS部分的GPIO Driver</span><span data-token-index=\"0\">\n\tXGpioPs_Config</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> cfgPtr</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_LookupConfig</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XPAR_XGPIOPS_0_DEVICE_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_CfgInitialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">cfgPtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">cfgPtr</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">BaseAddr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XST_SUCCESS</span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\">Status</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"您PS部分的GPIO Driver好像初始化失败呢！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_FAILURE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//设置GPIO Driver的某通道的all pins为输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_SetDirectionPin</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x01</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//允许all pins能够输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_SetOutputEnablePin</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0X01</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_WritePin</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">volatile</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Delay</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//volatile声明其为易变的变量，编译器不优化。</span><span data-token-index=\"0\">\n\tu32 blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">%</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">3</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//延时</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x01</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全灭</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这边提醒您，流水灯成功跑了耶！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"33206361-3a6c-4308-bdca-e98e352d76b7\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"33206361-3a6c-4308-bdca-e98e352d76b7\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">EMIO</div></div></div><div data-block-id=\"62dc7d29-60de-4669-bf41-73225a07c940\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">EMIO属于PS，却被连接到PL</div></div></div></div><div data-block-id=\"c47ee463-0b2d-4c9d-9606-a4160a691f5e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">IP 配置</div></div></div></div><div data-block-id=\"ff422b44-1357-4d63-88a8-fe60c2b33a7d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">关GPIO MIO[可选]，并打开EMIO，位数设置8</div></div></div></div></div><div data-block-id=\"c22b45e8-a163-4f8a-ba65-61f3c304d321\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">关M AXI GPIO Interface[可选]</div></div></div></div></div><div data-block-id=\"7e674665-ad65-420b-8844-0cf917780e3a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">块设计：</div></div></div></div><div data-block-id=\"a70b0427-fe78-49f8-92a2-213918248242\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be found.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink (Error 404)</div></div></div></div></div></div></div><div data-block-id=\"a939c962-3516-4426-acb1-fe233ae11bde\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">生成bitstream文件后，打开SDK新建项目。</div></div></div></div><div data-block-id=\"44861386-2f7d-449e-8264-8b26dd8ed0ff\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">SDK代码：</div></div></div></div><div data-block-id=\"74bc199d-f792-4b70-ad7c-72237b6af737\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xparameters.h\"</span><span class=\"token comment\" data-token-index=\"0\">//硬件参数定义</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xgpiops.h\"</span><span class=\"token comment\" data-token-index=\"0\">//PS部分的GPIO的库函数</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xil_printf.h\"</span><span class=\"token comment\" data-token-index=\"0\">//串口输出库函数</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xstatus.h\"</span><span class=\"token comment\" data-token-index=\"0\">//状态码定义头文件</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xplatform_info.h\"</span><span class=\"token comment\" data-token-index=\"0\">//平台定义头文件</span><span data-token-index=\"0\">\n\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">LED_BANK</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x02</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*流水灯的PS GPIO的通道*/</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10000000</span><span class=\"token comment\" data-token-index=\"0\">/**/</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">LED_POS</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x01</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*指向第几号流水灯*/</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tXGpioPs Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*GPIO driver的实例*/</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"流水灯开始跑起来吧！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//测试目标板子的芯片</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> typeOfboard</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGetPlatform_Info</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">switch</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">typeOfboard</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> XPLAT_ZYNQ_ULTRA_MP</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这是ZYNQ_ULTRA型开发版\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> XPLAT_ZYNQ</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这是ZYNQ型开发版\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//初始化PS部分的GPIO Driver</span><span data-token-index=\"0\">\n\tXGpioPs_Config</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> cfgPtr</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_LookupConfig</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XPAR_XGPIOPS_0_DEVICE_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_CfgInitialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">cfgPtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">cfgPtr</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">BaseAddr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XST_SUCCESS</span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\">Status</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"您PS部分的GPIO Driver好像初始化失败呢！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_FAILURE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//设置GPIO Driver的某通道的all pins为输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_SetDirection</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//允许all pins能够输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_SetOutputEnable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0XFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">volatile</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Delay</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tu32 blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\tblink_led_pos</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token operator\" data-token-index=\"0\">~</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">LED_POS</span><span class=\"token operator\" data-token-index=\"0\">&lt;&lt;</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//让某个灯亮，取反操作</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"blink_led_pos = %x\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">blink_led_pos</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">3</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//延时</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全灭</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这边提醒您，流水灯成功跑了耶！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div><div data-block-id=\"209be02b-b648-427d-9296-bcdfe0938e06\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\" id=\"209be02b-b648-427d-9296-bcdfe0938e06\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">AXI GPIO</div></div></div><div data-block-id=\"6b64c3ff-df33-4245-bbf7-57b464988018\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">IP配置：</div></div></div></div><div data-block-id=\"4808d299-55bd-46fc-9831-b71524505fea\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">关掉GPIO MIO和EMIO[可选]</div></div></div></div></div><div data-block-id=\"77019ee4-30ee-425f-94d3-957f33f771e6\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">打开AXI GPIO Interface</div></div></div></div></div><div data-block-id=\"888aa17f-d71f-4d27-bfc2-ab7206f113b9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">块设计：</div></div></div></div><div data-block-id=\"bb86050c-4476-4ff0-a817-e19725ff5938\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" style=\"display: block; object-fit: cover; border-radius: 1px; background: white; width: 100%; pointer-events: auto;\"></div><div style=\"background: rgb(242, 241, 238); cursor: default; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; display: flex; place-content: center; align-items: center; padding: 0.5em 1em; text-align: center; flex-direction: column; overflow: hidden;\"><svg viewBox=\"0 0 32 32\" class=\"imageError\" style=\"width: 48px; height: 48px; display: block; fill: rgba(55, 53, 47, 0.4); flex-shrink: 0; backface-visibility: hidden; margin: 0px 0px 14px;\"><path d=\"M6.39515 31.0485c3.44161 0 6.29115-2.8495 6.29115-6.2911 0-3.4355-2.8557-6.2912-6.29732-6.2912-3.43544 0-6.28495 2.8557-6.28495 6.2912 0 3.4416 2.85568 6.2911 6.29112 6.2911zm-.00617-5.366c-.32689 0-.50575-.1912-.51809-.5181l-.08635-3.0468c-.01233-.3393.24671-.5798.59828-.5798.34539 0 .61677.2467.60444.5859l-.09252 3.0407c-.01233.3331-.1912.5181-.50576.5181zm0 2.2698c-.35773 0-.69078-.2838-.69078-.6662s.32689-.6661.69078-.6661c.3639 0 .69079.2776.69079.6661 0 .3886-.33305.6662-.69079.6662z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 17.5539V3h26v26H12.6862c.4113-.6095.7364-1.282.9578-2H28v-4H13.7749c-.1687-.7106-.4373-1.3825-.7902-2H28V5H6v12.1798c-.69548.0352-1.36626.164-2 .3741zM11.3329 19c-.6875-.5905-1.48192-1.0601-2.35027-1.3757L13 12l2 1 5-5 6 11H11.3329zM12 9c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm3.395 6.434l-1.76-.881L11.887 17h10.744l-3.107-5.695-4.129 4.129z\"></path></svg><div style=\"font-size: 14px; line-height: 20px; color: rgba(55, 53, 47, 0.6); margin: 0px 0px 14px;\"><div style=\"display: block;\">This image couldn't be found.</div><a href=\"https://www.notion.so/83601023414740ef9c79c23c64f80c6b#06dcdd8d490b470583ea6ebf44ad9e5b\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline; text-decoration: none; user-select: none; cursor: auto; color: inherit; pointer-events: auto; border-bottom: 1px solid rgba(55, 53, 47, 0.4);\">Learn more</a></div><div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.4); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">img.woyun.ink (Error 404)</div></div></div></div></div></div></div><div data-block-id=\"a59e61fb-657b-428f-b43d-fc2473db8069\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">SDK代码：</div></div></div></div><div data-block-id=\"3864ef4e-5fcb-41c4-a89b-84d28ab4f3d0\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xparameters.h\"</span><span class=\"token comment\" data-token-index=\"0\">//硬件参数定义</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xgpio.h\"</span><span class=\"token comment\" data-token-index=\"0\">//GPIO库函数</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_printf.h\"</span><span class=\"token comment\" data-token-index=\"0\">//串口输出库函数</span><span data-token-index=\"0\">\n\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*流水灯的GPIO的通道*/</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">10000000</span><span class=\"token comment\" data-token-index=\"0\">/**/</span><span data-token-index=\"0\">\n</span><span class=\"token directive-hash\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token macro-name\" data-token-index=\"0\">LED_POS</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token number\" data-token-index=\"0\">0x01</span><span class=\"token expression\" data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*指向第几号流水灯*/</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tXGpio Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*GPIO driver的实例*/</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"流水灯开始跑起来吧！\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//初始化GPIO Driver</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpio_Initialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">XPAR_GPIO_0_DEVICE_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//设备ID在xparameters.h中查看</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XST_SUCCESS</span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\">Status</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"您的GPIO Driver好像初始化失败呢！\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_FAILURE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//设置GPIO Driver的某通道为输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpio_SetDataDirection</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">volatile</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Delay</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> j</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tu32 blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">4</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\tblink_led_pos</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token operator\" data-token-index=\"0\">~</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">LED_POS</span><span class=\"token operator\" data-token-index=\"0\">&lt;&lt;</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//让某个灯亮，取反操作</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"blink_led_pos = %x\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">blink_led_pos</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">XGpio_DiscreteWrite</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//延时</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpio_DiscreteWrite</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpio_DiscreteWrite</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全灭</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这边提醒您，流水灯成功跑了耶！\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;\"></div><div style=\"position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;\"><div class=\"\" role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div><div style=\"background: white; padding-right: 105px;\"></div></div></div></div>","slug":"bf5433f32eea422ba810de75ec304eba"}}],"totalCount":33}},"pageContext":{"skip":12,"limit":6,"currentPage":3}},"staticQueryHashes":["51046549"]}