{"componentChunkName":"component---plugins-gine-theme-mod-src-components-post-blog-post-js","path":"/posts/76d72d9427124d79a05c1d451cf747c9","result":{"data":{"siteConfig":{"title":"IGNORANT","commentOpen":true},"posts":{"public_date":"2019-08-10","status":"published","description":" ","name":"Python爬取教务网课表并转成可导入手机日历的ics文件","tags":["Crawler"],"categories":["Programming"],"html":"<div data-block-id=\"4dd2f62e-3007-4101-b937-952934946528\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">前述</div></div></div><div data-block-id=\"41568c95-21d6-439e-86f1-0fc1d29a3fd9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">由于许多课表软件有广告，并且还有着各种花式“服务”，自觉体验并不好。因之，在许久之前，自己想写一个python脚本，从教务网爬取课表，然后导入到自己手机的系统日历中，然后在桌面添加一个日历小工具，显示日程列表。</div></div></div></div><div data-block-id=\"ca600cf5-9589-4b81-9e55-1622ce4dea64\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">预期（也是目前实现）的效果图如下：</div></div></div></div><div data-block-id=\"2ddc83da-a48e-4818-92f9-e5bebf8b83d3\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"e292c1e6-1674-4f1f-bc5b-b740c8e0f232\" class=\"notion-selectable notion-column_list-block\" style=\"width: 100%; max-width: 608px; align-self: center; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex;\"><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"5709cac9-a1c4-4859-8b0f-d8022df2d2bd\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"9cd334f6-2769-4a38-b919-5fef25c8bae4\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd4c808a4-3bd6-406d-a7d6-7919a78be8a6%2FUntitled.png?table=block&amp;id=9cd334f6-2769-4a38-b919-5fef25c8bae4&amp;spaceId=f6e6161a-3f86-41f4-a895-ea8c3545b565&amp;width=670&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div><div style=\"position: relative; width: 46px; flex-grow: 0; flex-shrink: 0; transition: opacity 200ms ease-out 0s; opacity: 0;\"></div><div style=\"padding-top: 12px; padding-bottom: 12px; flex-grow: 0; flex-shrink: 0; width: calc((100% - 46px) * 0.5);\"><div data-block-id=\"0b3e1138-abe1-4d0b-9795-9a304eaadcdb\" class=\"notion-selectable notion-column-block\" style=\"display: flex; flex-direction: column;\"><div data-block-id=\"825700f6-71fb-417c-bec6-3ac06bfa45f0\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 100%; align-self: flex-start; margin-top: 2px; margin-bottom: 0px;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"height: 100%; width: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb5ff44ed-4433-4d93-a7ab-1d42e0a8f17e%2FUntitled.png?table=block&amp;id=825700f6-71fb-417c-bec6-3ac06bfa45f0&amp;spaceId=f6e6161a-3f86-41f4-a895-ea8c3545b565&amp;width=670&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div></div></div></div></div><div data-block-id=\"58a0443f-f058-401b-b77f-8f20c4717835\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">结合滴答清单的话，感觉更妙了。</div></div></div></div><div data-block-id=\"71f6d281-be46-4cf6-b6f1-66459d15bc0c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">（以上日期均为编造）</div></div></div></div><div data-block-id=\"3c090b1c-d9ae-402e-8205-48069058dc5a\" class=\"notion-selectable notion-sub_header-block\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px;\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">实现</div></div></div><div data-block-id=\"ddff007c-bd77-4087-bb25-afd151345637\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">初学Python，对爬虫了解也更少。因此写代码是不可能的，不过在参考学长的经验下，略作“调参”、“CTRL CV”类似的操作就行。</div></div></div></div><div data-block-id=\"ab3a7973-b25c-4a06-affb-b779e2fdb107\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">下面是参考的文章：\n<a href=\"https://cloverii.github.io/2017-05-04/a-python-crawler-for-getting-school-timetable/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">《Python 模拟登录教务网获取课表》</span></a>一文中实现了从教务网捕获课表html。\n<a href=\"https://www.fengkx.top/post/ical-and-learning-python/\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"3\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">《iCal &amp; Python 学习》</span></a>中通过<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"5\" spellcheck=\"false\">bs4</span>库从html标签中获取课表信息相关的string，然后通过<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"7\" spellcheck=\"false\">icalendar</span>库实现由课表信息的string，生成可导入日历App的ics文件。</div></div></div></div><div data-block-id=\"fcfe7051-990b-4b26-a86f-f1b53e049374\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">然后将两者结合起来，就是可用的脚本。</div></div></div></div><div data-block-id=\"1510b20b-3c98-4151-a0db-75fe0190e2fa\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">代码见：<a href=\"https://github.com/zfhxi/Catch_CQU_CoursTable/blob/master/main.py\" style=\"cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit\" class=\"notion-link-token notion-enable-hover\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span style=\"border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7\">https://github.com/zfhxi/Catch_CQU_CoursTable/blob/master/main.py</span></a></div></div></div></div><div data-block-id=\"22fcd362-3c29-4caf-a4d8-e5fb4903823c\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">(由于要安装各种各样的库，所以我使用Anaconda 3，但还需安装<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\" spellcheck=\"false\">bs4</span>、<span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\" spellcheck=\"false\">icalendar</span>）</div></div></div></div>","slug":"76d72d9427124d79a05c1d451cf747c9"}},"pageContext":{"slug":"76d72d9427124d79a05c1d451cf747c9"}},"staticQueryHashes":["51046549"]}