{"componentChunkName":"component---plugins-gine-theme-mod-src-components-post-blog-post-js","path":"/posts/bf5433f32eea422ba810de75ec304eba","result":{"data":{"siteConfig":{"title":"IGNORANT","commentOpen":true},"posts":{"public_date":"2019-12-02","status":"published","description":"对zynq7000上的3中GPIO使用各做一个demo……","name":"Zynq7000三种GPIO的使用之点亮流水灯摘要","tags":["Zynq"],"categories":["嵌入式","Zynq7000"],"html":"<div data-block-id=\"3af44181-799a-4369-a507-edcce8018ec8\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#d1f54060-cd5a-4c3f-8e0e-332ddd5c75e7\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">MIO</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#33206361-3a6c-4308-bdca-e98e352d76b7\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">EMIO</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#209be02b-b648-427d-9296-bcdfe0938e06\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">AXI GPIO</div></div></div></a></div></div></div><div data-block-id=\"d1f54060-cd5a-4c3f-8e0e-332ddd5c75e7\" class=\"notion-selectable notion-sub_header-block\" id=\"d1f54060-cd5a-4c3f-8e0e-332ddd5c75e7\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px; color: rgb(55, 53, 47);\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">MIO</div></div></div><div data-block-id=\"f378270f-037e-4f0f-9f5e-84dd89c93b6b\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">直接使用PS部分的MIO。</div></div></div></div><div data-block-id=\"6acd9f0e-5fe9-4fc0-8132-05ab6dab94e7\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">由于MIO属于PS部分，不需要进行块设计，因而不用进行Program FPGA。</div></div></div></div><div data-block-id=\"7f2859fd-62ae-482c-be07-1c5233923966\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">另外，由于MIO上的大部分引脚已被固定，因而可操作的Pins几乎没有，下面仅操作D3这一绿色LED灯使之闪烁。</div></div></div></div><div data-block-id=\"4256ab9b-8711-4525-8fc7-4c9692a84f30\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">SDK代码：</div></div></div></div><div data-block-id=\"7d48e3cd-c616-4964-ad8d-bb82f5636880\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 30px 16px 30px 20px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xparameters.h\"</span><span class=\"token comment\" data-token-index=\"0\">//硬件参数定义</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xgpiops.h\"</span><span class=\"token comment\" data-token-index=\"0\">//PS部分的GPIO的库函数</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xil_printf.h\"</span><span class=\"token comment\" data-token-index=\"0\">//串口输出库函数</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xstatus.h\"</span><span class=\"token comment\" data-token-index=\"0\">//状态码定义头文件</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xplatform_info.h\"</span><span class=\"token comment\" data-token-index=\"0\">//平台定义头文件</span><span data-token-index=\"0\">\n\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> D3_PINNUM 0x00 </span><span class=\"token comment\" data-token-index=\"0\">/*D3的PS GPIO的通道*/</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> SLEEP_DELAY 10000000</span><span class=\"token comment\" data-token-index=\"0\">/**/</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tXGpioPs Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*GPIO driver的实例*/</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"流水灯开始跑起来吧！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//测试目标板子的芯片</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> typeOfboard</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGetPlatform_Info</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">switch</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">typeOfboard</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> XPLAT_ZYNQ_ULTRA_MP</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这是ZYNQ_ULTRA型开发版\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> XPLAT_ZYNQ</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这是ZYNQ型开发版\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//初始化PS部分的GPIO Driver</span><span data-token-index=\"0\">\n\tXGpioPs_Config</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> cfgPtr</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_LookupConfig</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XPAR_XGPIOPS_0_DEVICE_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_CfgInitialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">cfgPtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">cfgPtr</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">BaseAddr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XST_SUCCESS</span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\">Status</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"您PS部分的GPIO Driver好像初始化失败呢！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_FAILURE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//设置GPIO Driver的某通道的all pins为输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_SetDirectionPin</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x01</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//允许all pins能够输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_SetOutputEnablePin</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0X01</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_WritePin</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">volatile</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Delay</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//volatile声明其为易变的变量，编译器不优化。</span><span data-token-index=\"0\">\n\tu32 blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">%</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">3</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//延时</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">D3_PINNUM</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x01</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全灭</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这边提醒您，流水灯成功跑了耶！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"></div><div style=\"position: absolute; bottom: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"><div role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div></div></div></div><div data-block-id=\"33206361-3a6c-4308-bdca-e98e352d76b7\" class=\"notion-selectable notion-sub_header-block\" id=\"33206361-3a6c-4308-bdca-e98e352d76b7\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px; color: rgb(55, 53, 47);\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">EMIO</div></div></div><div data-block-id=\"62dc7d29-60de-4669-bf41-73225a07c940\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">EMIO属于PS，却被连接到PL</div></div></div></div><div data-block-id=\"c47ee463-0b2d-4c9d-9606-a4160a691f5e\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">IP 配置</div></div></div></div><div data-block-id=\"ff422b44-1357-4d63-88a8-fe60c2b33a7d\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">关GPIO MIO[可选]，并打开EMIO，位数设置8</div></div></div></div></div><div data-block-id=\"c22b45e8-a163-4f8a-ba65-61f3c304d321\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">关M AXI GPIO Interface[可选]</div></div></div></div></div><div data-block-id=\"7e674665-ad65-420b-8844-0cf917780e3a\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">块设计：</div></div></div></div><div data-block-id=\"a70b0427-fe78-49f8-92a2-213918248242\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fimg.woyun.ink%2Farticle%2F2019%2F11%2F15%2F2019-11-04_22.13.51.png?table=block&amp;id=a70b0427-fe78-49f8-92a2-213918248242&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"a939c962-3516-4426-acb1-fe233ae11bde\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">生成bitstream文件后，打开SDK新建项目。</div></div></div></div><div data-block-id=\"44861386-2f7d-449e-8264-8b26dd8ed0ff\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">SDK代码：</div></div></div></div><div data-block-id=\"74bc199d-f792-4b70-ad7c-72237b6af737\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 30px 16px 30px 20px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xparameters.h\"</span><span class=\"token comment\" data-token-index=\"0\">//硬件参数定义</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xgpiops.h\"</span><span class=\"token comment\" data-token-index=\"0\">//PS部分的GPIO的库函数</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xil_printf.h\"</span><span class=\"token comment\" data-token-index=\"0\">//串口输出库函数</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xstatus.h\"</span><span class=\"token comment\" data-token-index=\"0\">//状态码定义头文件</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xplatform_info.h\"</span><span class=\"token comment\" data-token-index=\"0\">//平台定义头文件</span><span data-token-index=\"0\">\n\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> LED_BANK 0x02 </span><span class=\"token comment\" data-token-index=\"0\">/*流水灯的PS GPIO的通道*/</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> SLEEP_DELAY 10000000</span><span class=\"token comment\" data-token-index=\"0\">/**/</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> LED_POS 0x01 </span><span class=\"token comment\" data-token-index=\"0\">/*指向第几号流水灯*/</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tXGpioPs Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*GPIO driver的实例*/</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"流水灯开始跑起来吧！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//测试目标板子的芯片</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> typeOfboard</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGetPlatform_Info</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">switch</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">typeOfboard</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> XPLAT_ZYNQ_ULTRA_MP</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这是ZYNQ_ULTRA型开发版\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">case</span><span data-token-index=\"0\"> XPLAT_ZYNQ</span><span class=\"token operator\" data-token-index=\"0\">:</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这是ZYNQ型开发版\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">break</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//初始化PS部分的GPIO Driver</span><span data-token-index=\"0\">\n\tXGpioPs_Config</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\"> cfgPtr</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_LookupConfig</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XPAR_XGPIOPS_0_DEVICE_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_CfgInitialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">cfgPtr</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">cfgPtr</span><span class=\"token operator\" data-token-index=\"0\">-&gt;</span><span data-token-index=\"0\">BaseAddr</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XST_SUCCESS</span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\">Status</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"您PS部分的GPIO Driver好像初始化失败呢！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_FAILURE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//设置GPIO Driver的某通道的all pins为输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_SetDirection</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//允许all pins能够输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_SetOutputEnable</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0XFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">volatile</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Delay</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tu32 blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token number\" data-token-index=\"0\">1</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\tblink_led_pos</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token operator\" data-token-index=\"0\">~</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">LED_POS</span><span class=\"token operator\" data-token-index=\"0\">&lt;&lt;</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//让某个灯亮，取反操作</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"blink_led_pos = %x\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">blink_led_pos</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">3</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//延时</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpioPs_Write</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">LED_BANK</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全灭</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这边提醒您，流水灯成功跑了耶！\\\\r\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"></div><div style=\"position: absolute; bottom: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"><div role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div></div></div></div><div data-block-id=\"209be02b-b648-427d-9296-bcdfe0938e06\" class=\"notion-selectable notion-sub_header-block\" id=\"209be02b-b648-427d-9296-bcdfe0938e06\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px; color: rgb(55, 53, 47);\"><div style=\"display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">AXI GPIO</div></div></div><div data-block-id=\"6b64c3ff-df33-4245-bbf7-57b464988018\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">IP配置：</div></div></div></div><div data-block-id=\"4808d299-55bd-46fc-9831-b71524505fea\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">关掉GPIO MIO和EMIO[可选]</div></div></div></div></div><div data-block-id=\"77019ee4-30ee-425f-94d3-957f33f771e6\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);\"><div style=\"font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;\">•</div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;\">打开AXI GPIO Interface</div></div></div></div></div><div data-block-id=\"888aa17f-d71f-4d27-bfc2-ab7206f113b9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">块设计：</div></div></div></div><div data-block-id=\"bb86050c-4476-4ff0-a817-e19725ff5938\" class=\"notion-selectable notion-image-block\" style=\"width: 100%; max-width: 800px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;\"><div><div style=\"display: flex;\"><div class=\"notion-cursor-default\" style=\"position: relative; overflow: hidden; flex-grow: 1;\"><div style=\"position: relative;\"><div style=\"width: 100%; height: 100%;\"><img src=\"https://www.notion.so/image/https%3A%2F%2Fimg.woyun.ink%2Farticle%2F2019%2F11%2F15%2F2019-11-05_00.54.52.jpg?table=block&amp;id=bb86050c-4476-4ff0-a817-e19725ff5938&amp;userId=&amp;cache=v2\" style=\"display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;\"></div></div></div></div></div></div><div data-block-id=\"a59e61fb-657b-428f-b43d-fc2473db8069\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">SDK代码：</div></div></div></div><div data-block-id=\"3864ef4e-5fcb-41c4-a89b-84d28ab4f3d0\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 0px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" placeholder=\" \" data-root=\"true\" class=\"\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 30px 16px 30px 20px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xparameters.h\"</span><span class=\"token comment\" data-token-index=\"0\">//硬件参数定义</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token string\" data-token-index=\"0\">\"xgpio.h\"</span><span class=\"token comment\" data-token-index=\"0\">//GPIO库函数</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">include</span><span class=\"token macro property\" data-token-index=\"0\"> </span><span class=\"token string\" data-token-index=\"0\">\"xil_printf.h\"</span><span class=\"token comment\" data-token-index=\"0\">//串口输出库函数</span><span data-token-index=\"0\">\n\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> WATERFALL_LED_CHANNEL 1 </span><span class=\"token comment\" data-token-index=\"0\">/*流水灯的GPIO的通道*/</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> SLEEP_DELAY 10000000</span><span class=\"token comment\" data-token-index=\"0\">/**/</span><span data-token-index=\"0\">\n</span><span class=\"token macro property\" data-token-index=\"0\">#</span><span class=\"token directive keyword\" data-token-index=\"0\">define</span><span class=\"token macro property\" data-token-index=\"0\"> LED_POS 0x01 </span><span class=\"token comment\" data-token-index=\"0\">/*指向第几号流水灯*/</span><span data-token-index=\"0\">\n\n</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">main</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\tXGpio Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\"> </span><span class=\"token comment\" data-token-index=\"0\">/*GPIO driver的实例*/</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"流水灯开始跑起来吧！\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//初始化GPIO Driver</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Status</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token function\" data-token-index=\"0\">XGpio_Initialize</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">XPAR_GPIO_0_DEVICE_ID</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//设备ID在xparameters.h中查看</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">if</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">XST_SUCCESS</span><span class=\"token operator\" data-token-index=\"0\">!=</span><span data-token-index=\"0\">Status</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"您的GPIO Driver好像初始化失败呢！\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_FAILURE</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token comment\" data-token-index=\"0\">//设置GPIO Driver的某通道为输出</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpio_SetDataDirection</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">volatile</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> Delay</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> j</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\tu32 blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">while</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">++</span><span data-token-index=\"0\">j</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">4</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token keyword\" data-token-index=\"0\">int</span><span data-token-index=\"0\"> i</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">i</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">{</span><span data-token-index=\"0\">\n\t\t\tblink_led_pos</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token operator\" data-token-index=\"0\">~</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">LED_POS</span><span class=\"token operator\" data-token-index=\"0\">&lt;&lt;</span><span data-token-index=\"0\">i</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//让某个灯亮，取反操作</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"blink_led_pos = %x\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">blink_led_pos</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token function\" data-token-index=\"0\">XGpio_DiscreteWrite</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">blink_led_pos</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t\t\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//延时</span><span data-token-index=\"0\">\n\t\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\t</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span data-token-index=\"0\">\n\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpio_DiscreteWrite</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0x00</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全亮</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">for</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">=</span><span class=\"token number\" data-token-index=\"0\">0</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span class=\"token number\" data-token-index=\"0\">2</span><span class=\"token operator\" data-token-index=\"0\">*</span><span data-token-index=\"0\">SLEEP_DELAY</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">Delay</span><span class=\"token operator\" data-token-index=\"0\">++</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">XGpio_DiscreteWrite</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token operator\" data-token-index=\"0\">&amp;</span><span data-token-index=\"0\">Gpio</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span data-token-index=\"0\">WATERFALL_LED_CHANNEL</span><span class=\"token punctuation\" data-token-index=\"0\">,</span><span class=\"token number\" data-token-index=\"0\">0xFF</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span class=\"token comment\" data-token-index=\"0\">//全灭</span><span data-token-index=\"0\">\n\t</span><span class=\"token function\" data-token-index=\"0\">xil_printf</span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span class=\"token string\" data-token-index=\"0\">\"这边提醒您，流水灯成功跑了耶！\\\\n\"</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n\t</span><span class=\"token keyword\" data-token-index=\"0\">return</span><span data-token-index=\"0\"> XST_SUCCESS</span><span class=\"token punctuation\" data-token-index=\"0\">;</span><span data-token-index=\"0\">\n</span><span class=\"token punctuation\" data-token-index=\"0\">}</span><span>\n</span></div></div><div style=\"position: absolute; top: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"></div><div style=\"position: absolute; bottom: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"><div role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">C<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div></div></div></div>","slug":"bf5433f32eea422ba810de75ec304eba"}},"pageContext":{"slug":"bf5433f32eea422ba810de75ec304eba"}},"staticQueryHashes":["51046549"]}